function Shareable(t){var e={};e.facebook="450",e.twitter="684",e.yahoo="500",e.linkedin="600";var s={};s.facebook="300",s.twitter="718",s.yahoo="460",s.linkedin="433",this.idx=-1,this.url=null,this.short_url=null,this.title=null,this.image=null,this.pinterest_native=null,this.element=null,this.service=null,this.message=null,this.screen="home",this.summary=null,this.content=null,this.buttonText=null,this.frag=null,this.onhover=!0,this.type=null;var n=this;return this.attachButton=function(e){this.element=e,1!=this.onhover&&"true"!=this.onhover||stlib.browser.mobile.isMobile()||"4x"!=stWidgetVersion&&("5xa"!=stWidgetVersion||"sharethis"!=t.service&&"email"!=t.service&&"wordpress"!=t.service)||(e.onmouseover=this.mouseOn,e.onmouseout=this.mouseOut),e.onclick=function(t){n.decideFastShare()}},this.init=function(){stWidget.merge(this,t),stWidget.shareables.push(this),null!==t.element&&this.attachButton(t.element)},this}function shareLog(t,e){"undefined"!=typeof ga?ga("send","event","ShareThis",t,e):"undefined"!=typeof pageTracker&&null!==pageTracker&&"undefined"!=typeof pageTracker._trackEvent?pageTracker._trackEvent("ShareThis",t,e):"undefined"!=typeof _gaq&&null!==_gaq?_gaq.push(["_trackEvent","ShareThis",t,e]):null!==stButtons.publisherTracker?stButtons.publisherTracker._trackEvent("ShareThis",t,e):"undefined"!=typeof _gat&&null!==_gat&&"undefined"!=typeof stWidget.options.publisherGA&&null!=stWidget.options.publisherGA&&(stButtons.publisherTracker=_gat._getTracker(stWidget.options.publisherGA),stButtons.publisherTracker._trackEvent("ShareThis",t,e))}!function(t){var e=!0;t.flexslider=function(s,n){var i=t(s);i.vars=t.extend({},t.flexslider.defaults,n);var a,o=i.vars.namespace,r=window.navigator&&window.navigator.msPointerEnabled&&window.MSGesture,l=("ontouchstart"in window||r||window.DocumentTouch&&document instanceof DocumentTouch)&&i.vars.touch,d="click touchend MSPointerUp keyup",c="",u="vertical"===i.vars.direction,p=i.vars.reverse,m=i.vars.itemWidth>0,h="fade"===i.vars.animation,g=""!==i.vars.asNavFor,f={};t.data(s,"flexslider",i),f={init:function(){i.animating=!1,i.currentSlide=parseInt(i.vars.startAt?i.vars.startAt:0,10),isNaN(i.currentSlide)&&(i.currentSlide=0),i.animatingTo=i.currentSlide,i.atEnd=0===i.currentSlide||i.currentSlide===i.last,i.containerSelector=i.vars.selector.substr(0,i.vars.selector.search(" ")),i.slides=t(i.vars.selector,i),i.container=t(i.containerSelector,i),i.count=i.slides.length,i.syncExists=t(i.vars.sync).length>0,"slide"===i.vars.animation&&(i.vars.animation="swing"),i.prop=u?"top":"marginLeft",i.args={},i.manualPause=!1,i.stopped=!1,i.started=!1,i.startTimeout=null,i.transitions=!i.vars.video&&!h&&i.vars.useCSS&&function(){var t=document.createElement("div"),e=["perspectiveProperty","WebkitPerspective","MozPerspective","OPerspective","msPerspective"];for(var s in e)if(void 0!==t.style[e[s]])return i.pfx=e[s].replace("Perspective","").toLowerCase(),i.prop="-"+i.pfx+"-transform",!0;return!1}(),i.ensureAnimationEnd="",""!==i.vars.controlsContainer&&(i.controlsContainer=t(i.vars.controlsContainer).length>0&&t(i.vars.controlsContainer)),""!==i.vars.manualControls&&(i.manualControls=t(i.vars.manualControls).length>0&&t(i.vars.manualControls)),""!==i.vars.customDirectionNav&&(i.customDirectionNav=2===t(i.vars.customDirectionNav).length&&t(i.vars.customDirectionNav)),i.vars.randomize&&(i.slides.sort(function(){return Math.round(Math.random())-.5}),i.container.empty().append(i.slides)),i.doMath(),i.setup("init"),i.vars.controlNav&&f.controlNav.setup(),i.vars.directionNav&&f.directionNav.setup(),i.vars.keyboard&&(1===t(i.containerSelector).length||i.vars.multipleKeyboard)&&t(document).bind("keyup",function(t){var e=t.keyCode;if(!i.animating&&(39===e||37===e)){var s=39===e?i.getTarget("next"):37===e&&i.getTarget("prev");i.flexAnimate(s,i.vars.pauseOnAction)}}),i.vars.mousewheel&&i.bind("mousewheel",function(t,e,s,n){t.preventDefault();var a=0>e?i.getTarget("next"):i.getTarget("prev");i.flexAnimate(a,i.vars.pauseOnAction)}),i.vars.pausePlay&&f.pausePlay.setup(),i.vars.slideshow&&i.vars.pauseInvisible&&f.pauseInvisible.init(),i.vars.slideshow&&(i.vars.pauseOnHover&&i.hover(function(){i.manualPlay||i.manualPause||i.pause()},function(){i.manualPause||i.manualPlay||i.stopped||i.play()}),i.vars.pauseInvisible&&f.pauseInvisible.isHidden()||(i.vars.initDelay>0?i.startTimeout=setTimeout(i.play,i.vars.initDelay):i.play())),g&&f.asNav.setup(),l&&i.vars.touch&&f.touch(),(!h||h&&i.vars.smoothHeight)&&t(window).bind("resize orientationchange focus",f.resize),i.find("img").attr("draggable","false"),setTimeout(function(){i.vars.start(i)},200)},asNav:{setup:function(){i.asNav=!0,i.animatingTo=Math.floor(i.currentSlide/i.move),i.currentItem=i.currentSlide,i.slides.removeClass(o+"active-slide").eq(i.currentItem).addClass(o+"active-slide"),r?(s._slider=i,i.slides.each(function(){var e=this;e._gesture=new MSGesture,e._gesture.target=e,e.addEventListener("MSPointerDown",function(t){t.preventDefault(),t.currentTarget._gesture&&t.currentTarget._gesture.addPointer(t.pointerId)},!1),e.addEventListener("MSGestureTap",function(e){e.preventDefault();var s=t(this),n=s.index();t(i.vars.asNavFor).data("flexslider").animating||s.hasClass("active")||(i.direction=i.currentItem<n?"next":"prev",i.flexAnimate(n,i.vars.pauseOnAction,!1,!0,!0))})})):i.slides.on(d,function(e){e.preventDefault();var s=t(this),n=s.index(),a=s.offset().left-t(i).scrollLeft();0>=a&&s.hasClass(o+"active-slide")?i.flexAnimate(i.getTarget("prev"),!0):t(i.vars.asNavFor).data("flexslider").animating||s.hasClass(o+"active-slide")||(i.direction=i.currentItem<n?"next":"prev",i.flexAnimate(n,i.vars.pauseOnAction,!1,!0,!0))})}},controlNav:{setup:function(){i.manualControls?f.controlNav.setupManual():f.controlNav.setupPaging()},setupPaging:function(){var e,s,n="thumbnails"===i.vars.controlNav?"control-thumbs":"control-paging",a=1;if(i.controlNavScaffold=t('<ol class="'+o+"control-nav "+o+n+'"></ol>'),i.pagingCount>1)for(var r=0;r<i.pagingCount;r++){s=i.slides.eq(r),void 0===s.attr("data-thumb-alt")&&s.attr("data-thumb-alt","");var l=""!==s.attr("data-thumb-alt")?l=' alt="'+s.attr("data-thumb-alt")+'"':"";if(e="thumbnails"===i.vars.controlNav?'<img src="'+s.attr("data-thumb")+'"'+l+"/>":'<a href="#">'+a+"</a>","thumbnails"===i.vars.controlNav&&!0===i.vars.thumbCaptions){var u=s.attr("data-thumbcaption");""!==u&&void 0!==u&&(e+='<span class="'+o+'caption">'+u+"</span>")}i.controlNavScaffold.append("<li>"+e+"</li>"),a++}i.controlsContainer?t(i.controlsContainer).append(i.controlNavScaffold):i.append(i.controlNavScaffold),f.controlNav.set(),f.controlNav.active(),i.controlNavScaffold.delegate("a, img",d,function(e){if(e.preventDefault(),""===c||c===e.type){var s=t(this),n=i.controlNav.index(s);s.hasClass(o+"active")||(i.direction=n>i.currentSlide?"next":"prev",i.flexAnimate(n,i.vars.pauseOnAction))}""===c&&(c=e.type),f.setToClearWatchedEvent()})},setupManual:function(){i.controlNav=i.manualControls,f.controlNav.active(),i.controlNav.bind(d,function(e){if(e.preventDefault(),""===c||c===e.type){var s=t(this),n=i.controlNav.index(s);s.hasClass(o+"active")||(n>i.currentSlide?i.direction="next":i.direction="prev",i.flexAnimate(n,i.vars.pauseOnAction))}""===c&&(c=e.type),f.setToClearWatchedEvent()})},set:function(){var e="thumbnails"===i.vars.controlNav?"img":"a";i.controlNav=t("."+o+"control-nav li "+e,i.controlsContainer?i.controlsContainer:i)},active:function(){i.controlNav.removeClass(o+"active").eq(i.animatingTo).addClass(o+"active")},update:function(e,s){i.pagingCount>1&&"add"===e?i.controlNavScaffold.append(t('<li><a href="#">'+i.count+"</a></li>")):1===i.pagingCount?i.controlNavScaffold.find("li").remove():i.controlNav.eq(s).closest("li").remove(),f.controlNav.set(),i.pagingCount>1&&i.pagingCount!==i.controlNav.length?i.update(s,e):f.controlNav.active()}},directionNav:{setup:function(){var e=t('<ul class="'+o+'direction-nav"><li class="'+o+'nav-prev"><a class="'+o+'prev" href="#">'+i.vars.prevText+'</a></li><li class="'+o+'nav-next"><a class="'+o+'next" href="#">'+i.vars.nextText+"</a></li></ul>");i.customDirectionNav?i.directionNav=i.customDirectionNav:i.controlsContainer?(t(i.controlsContainer).append(e),i.directionNav=t("."+o+"direction-nav li a",i.controlsContainer)):(i.append(e),i.directionNav=t("."+o+"direction-nav li a",i)),f.directionNav.update(),i.directionNav.bind(d,function(e){e.preventDefault();var s;(""===c||c===e.type)&&(s=t(this).hasClass(o+"next")?i.getTarget("next"):i.getTarget("prev"),i.flexAnimate(s,i.vars.pauseOnAction)),""===c&&(c=e.type),f.setToClearWatchedEvent()})},update:function(){var t=o+"disabled";1===i.pagingCount?i.directionNav.addClass(t).attr("tabindex","-1"):i.vars.animationLoop?i.directionNav.removeClass(t).removeAttr("tabindex"):0===i.animatingTo?i.directionNav.removeClass(t).filter("."+o+"prev").addClass(t).attr("tabindex","-1"):i.animatingTo===i.last?i.directionNav.removeClass(t).filter("."+o+"next").addClass(t).attr("tabindex","-1"):i.directionNav.removeClass(t).removeAttr("tabindex")}},pausePlay:{setup:function(){var e=t('<div class="'+o+'pauseplay"><a href="#"></a></div>');i.controlsContainer?(i.controlsContainer.append(e),i.pausePlay=t("."+o+"pauseplay a",i.controlsContainer)):(i.append(e),i.pausePlay=t("."+o+"pauseplay a",i)),f.pausePlay.update(i.vars.slideshow?o+"pause":o+"play"),i.pausePlay.bind(d,function(e){e.preventDefault(),(""===c||c===e.type)&&(t(this).hasClass(o+"pause")?(i.manualPause=!0,i.manualPlay=!1,i.pause()):(i.manualPause=!1,i.manualPlay=!0,i.play())),""===c&&(c=e.type),f.setToClearWatchedEvent()})},update:function(t){"play"===t?i.pausePlay.removeClass(o+"pause").addClass(o+"play").html(i.vars.playText):i.pausePlay.removeClass(o+"play").addClass(o+"pause").html(i.vars.pauseText)}},touch:function(){function t(t){t.stopPropagation(),i.animating?t.preventDefault():(i.pause(),s._gesture.addPointer(t.pointerId),$=0,d=u?i.h:i.w,g=Number(new Date),l=m&&p&&i.animatingTo===i.last?0:m&&p?i.limit-(i.itemW+i.vars.itemMargin)*i.move*i.animatingTo:m&&i.currentSlide===i.last?i.limit:m?(i.itemW+i.vars.itemMargin)*i.move*i.currentSlide:p?(i.last-i.currentSlide+i.cloneOffset)*d:(i.currentSlide+i.cloneOffset)*d)}function e(t){t.stopPropagation();var e=t.target._slider;if(e){var n=-t.translationX,i=-t.translationY;return $+=u?i:n,c=$,_=u?Math.abs($)<Math.abs(-n):Math.abs($)<Math.abs(-i),t.detail===t.MSGESTURE_FLAG_INERTIA?void setImmediate(function(){s._gesture.stop()}):void((!_||Number(new Date)-g>500)&&(t.preventDefault(),!h&&e.transitions&&(e.vars.animationLoop||(c=$/(0===e.currentSlide&&0>$||e.currentSlide===e.last&&$>0?Math.abs($)/d+2:1)),e.setProps(l+c,"setTouch"))))}}function n(t){t.stopPropagation();var e=t.target._slider;if(e){if(e.animatingTo===e.currentSlide&&!_&&null!==c){var s=p?-c:c,n=s>0?e.getTarget("next"):e.getTarget("prev");e.canAdvance(n)&&(Number(new Date)-g<550&&Math.abs(s)>50||Math.abs(s)>d/2)?e.flexAnimate(n,e.vars.pauseOnAction):h||e.flexAnimate(e.currentSlide,e.vars.pauseOnAction,!0)}a=null,o=null,c=null,l=null,$=0}}var a,o,l,d,c,g,f,b,v,_=!1,y=0,w=0,$=0;r?(s.style.msTouchAction="none",s._gesture=new MSGesture,s._gesture.target=s,s.addEventListener("MSPointerDown",t,!1),s._slider=i,s.addEventListener("MSGestureChange",e,!1),s.addEventListener("MSGestureEnd",n,!1)):(f=function(t){i.animating?t.preventDefault():(window.navigator.msPointerEnabled||1===t.touches.length)&&(i.pause(),d=u?i.h:i.w,g=Number(new Date),y=t.touches[0].pageX,w=t.touches[0].pageY,l=m&&p&&i.animatingTo===i.last?0:m&&p?i.limit-(i.itemW+i.vars.itemMargin)*i.move*i.animatingTo:m&&i.currentSlide===i.last?i.limit:m?(i.itemW+i.vars.itemMargin)*i.move*i.currentSlide:p?(i.last-i.currentSlide+i.cloneOffset)*d:(i.currentSlide+i.cloneOffset)*d,a=u?w:y,o=u?y:w,s.addEventListener("touchmove",b,!1),s.addEventListener("touchend",v,!1))},b=function(t){y=t.touches[0].pageX,w=t.touches[0].pageY,c=u?a-w:a-y,_=u?Math.abs(c)<Math.abs(y-o):Math.abs(c)<Math.abs(w-o);var e=500;(!_||Number(new Date)-g>e)&&(t.preventDefault(),!h&&i.transitions&&(i.vars.animationLoop||(c/=0===i.currentSlide&&0>c||i.currentSlide===i.last&&c>0?Math.abs(c)/d+2:1),i.setProps(l+c,"setTouch")))},v=function(t){if(s.removeEventListener("touchmove",b,!1),i.animatingTo===i.currentSlide&&!_&&null!==c){var e=p?-c:c,n=e>0?i.getTarget("next"):i.getTarget("prev");i.canAdvance(n)&&(Number(new Date)-g<550&&Math.abs(e)>50||Math.abs(e)>d/2)?i.flexAnimate(n,i.vars.pauseOnAction):h||i.flexAnimate(i.currentSlide,i.vars.pauseOnAction,!0)}s.removeEventListener("touchend",v,!1),a=null,o=null,c=null,l=null},s.addEventListener("touchstart",f,!1))},resize:function(){!i.animating&&i.is(":visible")&&(m||i.doMath(),h?f.smoothHeight():m?(i.slides.width(i.computedW),i.update(i.pagingCount),i.setProps()):u?(i.viewport.height(i.h),i.setProps(i.h,"setTotal")):(i.vars.smoothHeight&&f.smoothHeight(),i.newSlides.width(i.computedW),i.setProps(i.computedW,"setTotal")))},smoothHeight:function(t){if(!u||h){var e=h?i:i.viewport;t?e.animate({height:i.slides.eq(i.animatingTo).innerHeight()},t):e.innerHeight(i.slides.eq(i.animatingTo).innerHeight())}},sync:function(e){var s=t(i.vars.sync).data("flexslider"),n=i.animatingTo;switch(e){case"animate":s.flexAnimate(n,i.vars.pauseOnAction,!1,!0);break;case"play":s.playing||s.asNav||s.play();break;case"pause":s.pause()}},uniqueID:function(e){return e.filter("[id]").add(e.find("[id]")).each(function(){var e=t(this);e.attr("id",e.attr("id")+"_clone")}),e},pauseInvisible:{visProp:null,init:function(){var t=f.pauseInvisible.getHiddenProp();if(t){var e=t.replace(/[H|h]idden/,"")+"visibilitychange";document.addEventListener(e,function(){f.pauseInvisible.isHidden()?i.startTimeout?clearTimeout(i.startTimeout):i.pause():i.started?i.play():i.vars.initDelay>0?setTimeout(i.play,i.vars.initDelay):i.play()})}},isHidden:function(){var t=f.pauseInvisible.getHiddenProp();return!!t&&document[t]},getHiddenProp:function(){var t=["webkit","moz","ms","o"];if("hidden"in document)return"hidden";for(var e=0;e<t.length;e++)if(t[e]+"Hidden"in document)return t[e]+"Hidden";return null}},setToClearWatchedEvent:function(){clearTimeout(a),a=setTimeout(function(){c=""},3e3)}},i.flexAnimate=function(e,s,n,a,r){if(i.vars.animationLoop||e===i.currentSlide||(i.direction=e>i.currentSlide?"next":"prev"),g&&1===i.pagingCount&&(i.direction=i.currentItem<e?"next":"prev"),!i.animating&&(i.canAdvance(e,r)||n)&&i.is(":visible")){if(g&&a){var d=t(i.vars.asNavFor).data("flexslider");if(i.atEnd=0===e||e===i.count-1,d.flexAnimate(e,!0,!1,!0,r),i.direction=i.currentItem<e?"next":"prev",d.direction=i.direction,Math.ceil((e+1)/i.visible)-1===i.currentSlide||0===e)return i.currentItem=e,i.slides.removeClass(o+"active-slide").eq(e).addClass(o+"active-slide"),!1;i.currentItem=e,i.slides.removeClass(o+"active-slide").eq(e).addClass(o+"active-slide"),e=Math.floor(e/i.visible)}if(i.animating=!0,i.animatingTo=e,s&&i.pause(),i.vars.before(i),i.syncExists&&!r&&f.sync("animate"),i.vars.controlNav&&f.controlNav.active(),m||i.slides.removeClass(o+"active-slide").eq(e).addClass(o+"active-slide"),i.atEnd=0===e||e===i.last,i.vars.directionNav&&f.directionNav.update(),e===i.last&&(i.vars.end(i),i.vars.animationLoop||i.pause()),h)l?(i.slides.eq(i.currentSlide).css({opacity:0,zIndex:1}),i.slides.eq(e).css({opacity:1,zIndex:2}),i.wrapup(_)):(i.slides.eq(i.currentSlide).css({zIndex:1}).animate({opacity:0},i.vars.animationSpeed,i.vars.easing),i.slides.eq(e).css({zIndex:2}).animate({opacity:1},i.vars.animationSpeed,i.vars.easing,i.wrapup));else{var c,b,v,_=u?i.slides.filter(":first").height():i.computedW;m?(c=i.vars.itemMargin,v=(i.itemW+c)*i.move*i.animatingTo,b=v>i.limit&&1!==i.visible?i.limit:v):b=0===i.currentSlide&&e===i.count-1&&i.vars.animationLoop&&"next"!==i.direction?p?(i.count+i.cloneOffset)*_:0:i.currentSlide===i.last&&0===e&&i.vars.animationLoop&&"prev"!==i.direction?p?0:(i.count+1)*_:p?(i.count-1-e+i.cloneOffset)*_:(e+i.cloneOffset)*_,i.setProps(b,"",i.vars.animationSpeed),i.transitions?(i.vars.animationLoop&&i.atEnd||(i.animating=!1,i.currentSlide=i.animatingTo),i.container.unbind("webkitTransitionEnd transitionend"),i.container.bind("webkitTransitionEnd transitionend",function(){clearTimeout(i.ensureAnimationEnd),i.wrapup(_)}),clearTimeout(i.ensureAnimationEnd),i.ensureAnimationEnd=setTimeout(function(){i.wrapup(_)},i.vars.animationSpeed+100)):i.container.animate(i.args,i.vars.animationSpeed,i.vars.easing,function(){i.wrapup(_)})}i.vars.smoothHeight&&f.smoothHeight(i.vars.animationSpeed)}},i.wrapup=function(t){h||m||(0===i.currentSlide&&i.animatingTo===i.last&&i.vars.animationLoop?i.setProps(t,"jumpEnd"):i.currentSlide===i.last&&0===i.animatingTo&&i.vars.animationLoop&&i.setProps(t,"jumpStart")),i.animating=!1,i.currentSlide=i.animatingTo,i.vars.after(i)},i.animateSlides=function(){!i.animating&&e&&i.flexAnimate(i.getTarget("next"))},i.pause=function(){clearInterval(i.animatedSlides),i.animatedSlides=null,i.playing=!1,i.vars.pausePlay&&f.pausePlay.update("play"),i.syncExists&&f.sync("pause")},i.play=function(){i.playing&&clearInterval(i.animatedSlides),i.animatedSlides=i.animatedSlides||setInterval(i.animateSlides,i.vars.slideshowSpeed),i.started=i.playing=!0,i.vars.pausePlay&&f.pausePlay.update("pause"),i.syncExists&&f.sync("play")},i.stop=function(){i.pause(),i.stopped=!0},i.canAdvance=function(t,e){var s=g?i.pagingCount-1:i.last;return!!e||(!(!g||i.currentItem!==i.count-1||0!==t||"prev"!==i.direction)||(!g||0!==i.currentItem||t!==i.pagingCount-1||"next"===i.direction)&&(!(t===i.currentSlide&&!g)&&(!!i.vars.animationLoop||(!i.atEnd||0!==i.currentSlide||t!==s||"next"===i.direction)&&(!i.atEnd||i.currentSlide!==s||0!==t||"next"!==i.direction))))},i.getTarget=function(t){return i.direction=t,"next"===t?i.currentSlide===i.last?0:i.currentSlide+1:0===i.currentSlide?i.last:i.currentSlide-1},i.setProps=function(t,e,s){var n=function(){var s=t?t:(i.itemW+i.vars.itemMargin)*i.move*i.animatingTo,n=function(){if(m)return"setTouch"===e?t:p&&i.animatingTo===i.last?0:p?i.limit-(i.itemW+i.vars.itemMargin)*i.move*i.animatingTo:i.animatingTo===i.last?i.limit:s;switch(e){case"setTotal":return p?(i.count-1-i.currentSlide+i.cloneOffset)*t:(i.currentSlide+i.cloneOffset)*t;case"setTouch":return p?t:t;case"jumpEnd":return p?t:i.count*t;case"jumpStart":return p?i.count*t:t;default:return t}}();return-1*n+"px"}();i.transitions&&(n=u?"translate3d(0,"+n+",0)":"translate3d("+n+",0,0)",s=void 0!==s?s/1e3+"s":"0s",i.container.css("-"+i.pfx+"-transition-duration",s),i.container.css("transition-duration",s)),i.args[i.prop]=n,(i.transitions||void 0===s)&&i.container.css(i.args),i.container.css("transform",n)},i.setup=function(e){if(h)i.slides.css({width:"100%","float":"left",marginRight:"-100%",position:"relative"}),"init"===e&&(l?i.slides.css({opacity:0,display:"block",webkitTransition:"opacity "+i.vars.animationSpeed/1e3+"s ease",zIndex:1}).eq(i.currentSlide).css({opacity:1,zIndex:2}):0==i.vars.fadeFirstSlide?i.slides.css({opacity:0,display:"block",zIndex:1}).eq(i.currentSlide).css({zIndex:2}).css({opacity:1}):i.slides.css({opacity:0,display:"block",zIndex:1}).eq(i.currentSlide).css({zIndex:2}).animate({opacity:1},i.vars.animationSpeed,i.vars.easing)),i.vars.smoothHeight&&f.smoothHeight();else{var s,n;"init"===e&&(i.viewport=t('<div class="'+o+'viewport"></div>').css({overflow:"hidden",position:"relative"}).appendTo(i).append(i.container),i.cloneCount=0,i.cloneOffset=0,p&&(n=t.makeArray(i.slides).reverse(),i.slides=t(n),i.container.empty().append(i.slides))),i.vars.animationLoop&&!m&&(i.cloneCount=2,i.cloneOffset=1,"init"!==e&&i.container.find(".clone").remove(),i.container.append(f.uniqueID(i.slides.first().clone().addClass("clone")).attr("aria-hidden","true")).prepend(f.uniqueID(i.slides.last().clone().addClass("clone")).attr("aria-hidden","true"))),i.newSlides=t(i.vars.selector,i),s=p?i.count-1-i.currentSlide+i.cloneOffset:i.currentSlide+i.cloneOffset,u&&!m?(i.container.height(200*(i.count+i.cloneCount)+"%").css("position","absolute").width("100%"),setTimeout(function(){i.newSlides.css({display:"block"}),i.doMath(),i.viewport.height(i.h),i.setProps(s*i.h,"init")},"init"===e?100:0)):(i.container.width(200*(i.count+i.cloneCount)+"%"),i.setProps(s*i.computedW,"init"),setTimeout(function(){i.doMath(),i.newSlides.css({width:i.computedW,marginRight:i.computedM,"float":"left",display:"block"}),i.vars.smoothHeight&&f.smoothHeight()},"init"===e?100:0))}m||i.slides.removeClass(o+"active-slide").eq(i.currentSlide).addClass(o+"active-slide"),i.vars.init(i)},i.doMath=function(){var t=i.slides.first(),e=i.vars.itemMargin,s=i.vars.minItems,n=i.vars.maxItems;i.w=void 0===i.viewport?i.width():i.viewport.width(),i.h=t.height(),i.boxPadding=t.outerWidth()-t.width(),m?(i.itemT=i.vars.itemWidth+e,i.itemM=e,i.minW=s?s*i.itemT:i.w,i.maxW=n?n*i.itemT-e:i.w,i.itemW=i.minW>i.w?(i.w-e*(s-1))/s:i.maxW<i.w?(i.w-e*(n-1))/n:i.vars.itemWidth>i.w?i.w:i.vars.itemWidth,i.visible=Math.floor(i.w/i.itemW),i.move=i.vars.move>0&&i.vars.move<i.visible?i.vars.move:i.visible,i.pagingCount=Math.ceil((i.count-i.visible)/i.move+1),i.last=i.pagingCount-1,i.limit=1===i.pagingCount?0:i.vars.itemWidth>i.w?i.itemW*(i.count-1)+e*(i.count-1):(i.itemW+e)*i.count-i.w-e):(i.itemW=i.w,i.itemM=e,i.pagingCount=i.count,i.last=i.count-1),i.computedW=i.itemW-i.boxPadding,i.computedM=i.itemM},i.update=function(t,e){i.doMath(),m||(t<i.currentSlide?i.currentSlide+=1:t<=i.currentSlide&&0!==t&&(i.currentSlide-=1),i.animatingTo=i.currentSlide),i.vars.controlNav&&!i.manualControls&&("add"===e&&!m||i.pagingCount>i.controlNav.length?f.controlNav.update("add"):("remove"===e&&!m||i.pagingCount<i.controlNav.length)&&(m&&i.currentSlide>i.last&&(i.currentSlide-=1,i.animatingTo-=1),f.controlNav.update("remove",i.last))),i.vars.directionNav&&f.directionNav.update()},i.addSlide=function(e,s){var n=t(e);i.count+=1,i.last=i.count-1,u&&p?void 0!==s?i.slides.eq(i.count-s).after(n):i.container.prepend(n):void 0!==s?i.slides.eq(s).before(n):i.container.append(n),i.update(s,"add"),i.slides=t(i.vars.selector+":not(.clone)",i),i.setup(),i.vars.added(i)},i.removeSlide=function(e){var s=isNaN(e)?i.slides.index(t(e)):e;i.count-=1,i.last=i.count-1,isNaN(e)?t(e,i.slides).remove():u&&p?i.slides.eq(i.last).remove():i.slides.eq(e).remove(),i.doMath(),i.update(s,"remove"),i.slides=t(i.vars.selector+":not(.clone)",i),i.setup(),i.vars.removed(i)},f.init()},t(window).blur(function(t){e=!1}).focus(function(t){e=!0}),t.flexslider.defaults={namespace:"flex-",selector:".slides > li",animation:"fade",easing:"swing",direction:"horizontal",reverse:!1,animationLoop:!0,smoothHeight:!1,startAt:0,slideshow:!0,slideshowSpeed:7e3,animationSpeed:600,initDelay:0,randomize:!1,fadeFirstSlide:!0,thumbCaptions:!1,pauseOnAction:!0,pauseOnHover:!1,pauseInvisible:!0,useCSS:!0,touch:!0,video:!1,controlNav:!0,directionNav:!0,prevText:"Previous",nextText:"Next",keyboard:!0,multipleKeyboard:!1,mousewheel:!1,pausePlay:!1,pauseText:"Pause",playText:"Play",controlsContainer:"",manualControls:"",customDirectionNav:"",sync:"",asNavFor:"",itemWidth:0,itemMargin:0,minItems:1,maxItems:0,move:0,allowOneSlide:!0,start:function(){},before:function(){},after:function(){},end:function(){},added:function(){},removed:function(){},init:function(){}},t.fn.flexslider=function(e){if(void 0===e&&(e={}),"object"==typeof e)return this.each(function(){var s=t(this),n=e.selector?e.selector:".slides > li",i=s.find(n);1===i.length&&e.allowOneSlide===!1||0===i.length?(i.fadeIn(400),e.start&&e.start(s)):void 0===s.data("flexslider")&&new t.flexslider(this,e)});var s=t(this).data("flexslider");switch(e){case"play":s.play();break;case"pause":s.pause();break;case"stop":s.stop();break;case"next":s.flexAnimate(s.getTarget("next"),!0);break;case"prev":case"previous":s.flexAnimate(s.getTarget("prev"),!0);break;default:"number"==typeof e&&s.flexAnimate(e,!0)}}}(jQuery);var base_url=$("#base_url").val();$(function(){function formatDate(t){return("0"+t.getDate()).slice(-2)+"-"+("0"+(t.getMonth()+1)).slice(-2)+"-"+t.getFullYear()}function reformatDate(t){if(""==t)return"";var e=t.split("-");return new Date(e[2],e[1]-1,e[0])}function initialiseCalendar(){var t=$(".start_date").val();if(t){var e=t.split("-"),s=new Date(e[2],e[1]-1,e[0]);set_formatted_date(s,"start_date_cont")}var n=$(".end_date").val();if(n){var i=n.split("-"),a=new Date(i[2],i[1]-1,i[0]);set_formatted_date(a,"end_date_cont")}$(".start_date").datepicker({format:"dd-mm-yyyy",startDate:cal_json.start_date,endDate:cal_json.end_date,autoclose:!0,beforeShowDay:formatCalDay,orientation:"top"}).on("show",function(t){$(".gh-cal-day.disabled").attr("title",""),$(".gh-cal-day").tooltip({container:"body",html:!0,trigger:"hover",placement:"top"})}).on("hide",function(t){if(t.date){var e=t.date.getDate(),s=month[t.date.getMonth()],n=t.date.getFullYear().toString();$("#start_date_cont").find(".no_date").hide(),$("#start_date_cont").find(".date_span").text(e).show(),$("#start_date_cont").find(".day_year_span .monthspan").text(s),$("#start_date_cont").find(".day_year_span .yearspan").text(n),$("#start_date_cont").find(".day_year_span").show()}else $("#start_date_cont").find(".no_date").show(),$("#start_date_cont").find(".date_span").hide(),$("#start_date_cont").find(".day_year_span").hide();$(".tooltip").hide()}).on("changeDate",function(t){$(desktopView+".start_date").datepicker("update",t.date),$(mobileView+".start_date").datepicker("update",t.date),selStartDate=t.date;var e=new Date(t.date);if(e.setDate(e.getDate()+1),$(desktopView+".end_date").datepicker("setStartDate",e),$(mobileView+".end_date").datepicker("setStartDate",e),""==$(".end_date").val())$(".end_date").focus();else{var s=reformatDate($(".end_date").val());if(t.date.valueOf()>=s.valueOf())return $(desktopView+".end_date").datepicker("update",e),$(mobileView+".end_date").datepicker("update",e),update_end_date_text(e),$(desktopView+".end_date").val(formatDate(e)),$(mobileView+".end_date").val(formatDate(e)),$(".end_date").focus(),void calculatePrice(selStartDate,e)}calculatePrice(selStartDate,selEndDate)}),$(".end_date").datepicker({format:"dd-mm-yyyy",startDate:cal_json.start_date,endDate:cal_json.end_date,autoclose:!0,beforeShowDay:formatCalDayEnd,orientation:"top"}).on("show",function(t){$(".gh-cal-day.disabled").attr("title",""),$(".gh-cal-day").tooltip({container:"body",html:!0,trigger:"hover",placement:"top"})}).on("hide",function(t){t.date&&update_end_date_text(t.date),$(".tooltip").hide()}).on("changeDate",function(t){$(desktopView+".end_date").datepicker("update",t.date),$(mobileView+".end_date").datepicker("update",t.date),selEndDate=t.date,calculatePrice(selStartDate,selEndDate)})}function formatCalDay(t){var e=formatDate(t),s=cal_json.dates[e]?cal_json.dates[e].price:cal_json.base_price,n=!cal_json.dates[e]||cal_json.dates[e].available,i=1==n?cal_json.display_currency+" "+s:"",a=cal_json.dates[e]?cal_json.dates[e].units:cal_json.units;a="<br>Available Units: "+a,i+=a;var o=new Object;return o.enabled=n,o.classes="gh-cal-day",o.tooltip=i,o}function formatCalDayEnd(t){var e=formatDate(t);if(!(e!=curDate&&t.valueOf()<curTimestamp)){var s=cal_json.dates[e]?cal_json.dates[e].price:cal_json.base_price,n=!cal_json.dates[e]||cal_json.dates[e].end_available,i=1==n?cal_json.display_currency+" "+s:"",a=cal_json.dates[e]?cal_json.dates[e].units:cal_json.units;a="<br>Available Units: "+a,i+=a;var o=new Object;return o.enabled=n,o.classes="gh-cal-day",o.tooltip=i,o}}function set_formatted_date(t,e){var s=t.getDate(),n=month[t.getMonth()],i=t.getFullYear().toString();$("#"+e).find(".no_date").hide(),$("#"+e).find(".date_span").text(s).show(),$("#"+e).find(".day_year_span .monthspan").text(n),$("#"+e).find(".day_year_span .yearspan").text(i),$("#"+e).find(".day_year_span").show()}function update_end_date_text(t){var e=t.getDate(),s=month[t.getMonth()],n=t.getFullYear().toString();$("#end_date_cont").find(".no_date").hide(),$("#end_date_cont").find(".date_span").text(e).show(),$("#end_date_cont").find(".day_year_span .monthspan").text(s),$("#end_date_cont").find(".day_year_span .yearspan").text(n),$("#end_date_cont").find(".day_year_span").show()}function round(t,e){return Number(Math.round(t+"e"+e)+"e-"+e)}function calculatePrice(startDate,endDate,use_custom_unit_input,coupon_applied){if($(".invoice_loader").hide(),$("#coa_help_modal #general").show(),$("#coa_help_modal #custom").hide(),$("#duplicate_request_btn").hide(),$(".booking-request-btn-identifier").show(),"undefined"==typeof use_custom_unit_input)var selectedUnits=$(".book_units").val();else if($(".book_units").length)var selectedUnits=$(".book_units").val();else var selectedUnits=0;if("undefined"==typeof coupon_applied)var coupon_applied=0;if(""!=startDate&&""!=endDate){var allow_booking_previous_day=$("#allow_booking_previous_day").val(),nine_hr=(new Date).setHours(allow_booking_previous_day,0,0,0),today=(new Date).setHours(0,0,0,0);if(today<=nine_hr&&(today-=86400),today=new Date(today),selStartDate=startDate,selEndDate=endDate,startDate.valueOf()==endDate.valueOf()||startDate.valueOf()>endDate.valueOf()||today.setHours(0,0,0,0)>startDate.setHours(0,0,0,0))return $(".error_message-invoice").css("padding-top","8px").html("Selected date not available.").show(),$(".invoice-rows").hide(),void $(".hide-invoice").hide();var guests=$(".guests").val();""==guests&&(guests=$("#custom_guests").val());var agent_meal_price=0,agent_discount_percntage=0,agent_discount_amount=0,business_partner_discount_percntage=0,business_partner_discount_amount=0;if(1==parseInt($.trim(cal_json.is_agent))&&1==parseInt($.trim(cal_json.prive))){var food_plan=$("#food-plan").val(),agent_map_array=eval(cal_json.agent_map);agent_meal_price=agent_map_array[food_plan]*guests,parseInt(agent_meal_price)>0?($("#meal_price_div").show(),$(".meal_guest_show").text(guests),$(".meal_cost_show").html(cal_json.display_currency+" "+convert_price(agent_meal_price))):$("#meal_price_div").css("display","none")}1==parseInt($.trim(cal_json.is_agent))&&(agent_discount_percntage=1==parseInt($.trim(cal_json.prive))?cal_json.agent_prive_discount:cal_json.agent_non_prive_discount),1==parseInt($.trim(cal_json.is_business_partner))&&(business_partner_discount_percntage=1==parseInt($.trim(cal_json.prive))?cal_json.business_prive_discount:cal_json.business_non_prive_discount);for(var allDates=[],firstDate=new Date(startDate.getTime());firstDate<endDate;)allDates.push(formatDate(new Date(firstDate))),firstDate.setDate(firstDate.getDate()+1);var totalDays=allDates.length,totalPricePerUnit=0,isAvailable=!0,cleaningCostPerUnit=0;if(cal_json.min_nights>totalDays)return $(".error_message-invoice").css("padding-top","8px").html("Minimum stay is "+cal_json.min_nights+" nights.").show(),$(".invoice-rows").hide(),void $(".hide-invoice").hide();if(cal_json.max_nights<totalDays)return $(".error_message-invoice").css("padding-top","8px").html("Maximum stay is "+cal_json.max_nights+" nights.").show(),$(".invoice-rows").hide(),void $(".hide-invoice").hide();for(var isSamePrice=!0,availableUnits=0,custom_extra_guest_cost=0,instantBookAvailable=1,display_discount=cal_json.display_discount,host_discount=0,i=0;i<totalDays;i++){var index=allDates[i];if(cal_json.dates[index]&&(0==cal_json.dates[index].units||0==cal_json.dates[index].available)){isAvailable=!1;break}var curDayPrice=cal_json.dates[index]?cal_json.dates[index].price:cal_json.base_price,curDayExtraGuestPrice=cal_json.dates[index]?cal_json.dates[index].extra_guest_cost:cal_json.extra_guest_cost,curDayUnits=cal_json.dates[index]?cal_json.dates[index].units:cal_json.units;curDayPrice!=cal_json.base_price&&(isSamePrice=!1),instantBookAvailable=cal_json.dates[index]?cal_json.dates[index].instant_book<instantBookAvailable?cal_json.dates[index].instant_book:instantBookAvailable:cal_json.instant_book<instantBookAvailable?cal_json.instant_book:instantBookAvailable,totalPricePerUnit+=curDayPrice,custom_extra_guest_cost+=curDayExtraGuestPrice,availableUnits=0==i?curDayUnits:availableUnits>curDayUnits?curDayUnits:availableUnits,host_discount=cal_json.dates[index]&&cal_json.dates[index].discount>host_discount?cal_json.dates[index].discount:host_discount;
}if(display_discount=host_discount>0?host_discount:display_discount,isAvailable){cal_json.cleaning_cost>0&&(cleaningCostPerUnit="per_night"==cal_json.cleaning_mode?cal_json.cleaning_cost*totalDays:cal_json.cleaning_cost),totalPricePerUnit+=cleaningCostPerUnit;var pricePerNight=Math.round(totalPricePerUnit/totalDays);totalPricePerUnit=pricePerNight*totalDays;var units_occupied=1;units_occupied=Math.ceil(guests/cal_json.max_guest_per_room);var min_units_needed=units_occupied;if(units_occupied=selectedUnits>units_occupied?selectedUnits:units_occupied,units_occupied>availableUnits)return $("#datesnotavailable").modal("show"),$(".invoice-rows").hide(),void $(".hide-invoice").hide();var extra_guests=guests-(cal_json.max_guest_per_room-(cal_json.max_guest_per_room-cal_json.extra_guest))*units_occupied;extra_guests=extra_guests>0?extra_guests:0;var extra_guest_cost=extra_guests*custom_extra_guest_cost,serviceFeePerUnit=Math.round(cal_json.service_fee*(totalPricePerUnit+extra_guest_cost)/100),discountPerUnit=0;if(isSamePrice)if(cal_json.per_month_price>0&&totalDays>=30){var discounted_months=Math.floor(totalDays/30),discounted_price=discounted_months*cal_json.per_month_price+(totalDays-30*discounted_months)*cal_json.base_price;discountPerUnit=cal_json.base_price*totalDays-discounted_price}else if(cal_json.per_week_price>0&&totalDays>=7){var discounted_weeks=Math.floor(totalDays/7),discounted_price=discounted_weeks*cal_json.per_week_price+(totalDays-7*discounted_weeks)*cal_json.base_price;discountPerUnit=cal_json.base_price*totalDays-discounted_price}var totalDiscount=discountPerUnit*units_occupied,total_amount_per_unit=serviceFeePerUnit+totalPricePerUnit,sub_total=total_amount_per_unit*units_occupied,grand_total=sub_total+extra_guest_cost-totalDiscount;agent_discount_percntage>0&&(agent_discount_amount=Math.floor(grand_total*agent_discount_percntage/100),grand_total-=agent_discount_amount),agent_discount_amount>0?($("#agent_property_discount").show(),$("#agent_property_discount_per_show").text(agent_discount_percntage+"%"),$("#agent_property_discount_show").html(cal_json.display_currency+" "+convert_price(agent_discount_amount))):$("#agent_property_discount").hide(),business_partner_discount_percntage>0&&(business_partner_discount_amount=Math.floor(grand_total*business_partner_discount_percntage/100),grand_total-=business_partner_discount_amount),business_partner_discount_amount>0?($("#business_partner_property_discount").show(),$("#business_partner_property_discount_per_show").text(business_partner_discount_percntage+"%"),$("#business_partner_property_discount_show").html(cal_json.display_currency+" "+convert_price(business_partner_discount_amount))):$("#business_partner_property_discount").hide(),grand_total+=agent_meal_price,$(".error_message-invoice").css("padding-top","").hide(),$("#cal_box").find("#cal_loader").hide(),$(".invoice-rows").show(),$(".hide-invoice").show();var perNightPriceText=cal_json.display_currency+" "+convert_price(pricePerNight);$(".per_night_price").html(perNightPriceText);var custom_per_night_price=Math.ceil(grand_total/totalDays);$(".custom_per_night_price").html(cal_json.display_currency+" "+convert_price(custom_per_night_price)+' <sub style="font-size:13px;"></sub>');var baseUnitsText="1"==$("#room-type-id").val()?"1"==units_occupied?"Unit":"Units":"1"==units_occupied?"Room":"Rooms",baseGuestText="1"==guests?"Guest":"Guests";if($(".sup-value-base").html("(1 Night, "+units_occupied+" "+baseUnitsText+", "+guests+" "+baseGuestText+")"),$(".custom_price").html(cal_json.display_currency+" "+convert_price(custom_per_night_price*totalDays+agent_discount_amount+business_partner_discount_amount)+' <sub style="font-size:13px;"></sub>'),display_discount>0){var cutout_price=Math.ceil(100*custom_per_night_price/(100-display_discount));$(".strikeout_price").html(cal_json.display_currency+" "+convert_price(cutout_price)).show(),$(".discount #cutout_discount").html(display_discount+"% "),$(".discount").show()}else $(".strikeout_price").hide(),$(".discount").hide();$(".per_night_cost").html(cal_json.display_currency+" "+convert_price(Math.ceil(grand_total/totalDays))),$("#per_night_price_detail").html(perNightPriceText),$(".booked_nights").html(totalDays);var units_val=0==selectedUnits||selectedUnits<units_occupied?units_occupied:selectedUnits;if("1"==$("#room-type-id").val()){$(".unit-description").addClass("hidden"),$(".label-rooms").hide(),$(".label-units").show();for(var list="",i=min_units_needed;i<=availableUnits;i++)list+='<option value="'+i+'">'+i+"</option>"}else{min_units_needed!=temp_min_units&&0!=temp_min_units&&($(".unit-description").removeClass("hidden"),$(".units-number").html(min_units_needed),$(".x-units").html(min_units_needed+"x")),temp_min_units=min_units_needed,$(".label-units").hide(),$(".label-rooms").show();for(var list="",i=min_units_needed;i<=availableUnits;i++)list+='<option value="'+i+'">'+i+"</option>"}original_price=round(100*grand_total/(100+cal_json.service_percentage),2),total_commision=-(cal_json.custom_discount+cal_json.custom_discount*cal_json.service_percentage/100-cal_json.service_percentage),actual_price=round(grand_total/(100+total_commision)*100,2);var host_fee=round(grand_total/(100+total_commision)*100,2),service_fee=grand_total-actual_price;""==$("#coupon_code").val()&&(couponDiscountAmount=0,gh_coupon_value=0,host_coupon_value=0),$(".book_units").html(list),$(".book_units").val(units_val),1==instantBookAvailable?($(".show-payment-popup").addClass("hidden"),offline_booking_flag?$(".booking-request-btn-identifier").html("Book\tOffline"):(0===busniessAgent||"0"===busniessAgent?($("#instant-block-dynamic").show(),$(".cash-on-arrival-modal").hide()):($("#instant-block-dynamic").hide(),$(".cash-on-arrival-modal").show()),$(".booking-request-btn-identifier").html("Confirm and Pay"),$(".booking-request-btn-identifier").attr("data-instant","1"),$("#instant-payment-block").val(1))):($(".show-payment-popup").removeClass("hidden"),offline_booking_flag?$(".booking-request-btn-identifier").html("Book\tOffline"):(1==parseInt($.trim(cal_json.is_agent))&&1==parseInt($.trim(cal_json.prive))?$(".booking-request-btn-identifier").html("Book Now"):$(".booking-request-btn-identifier").html("Send Booking Request"),$("#instant-block-dynamic").hide(),$(".cash-on-arrival-modal").show(),$(".booking-request-btn-identifier").attr("data-instant","0"),$("#instant-payment-block").val(0),console.log("below #instant-payment-block"),$("#coupon-wallet").hide(),$(".amount-later-div").addClass("hidden"),$(".partial-payment-label").addClass("hidden"),$(".full-cash-arrival-label").addClass("hidden"),$(".full-payment-label").addClass("hidden"))),partialHideFlag=cal_json.previousBookingCredits>0?1:0,wallet_applied_balance=0,1==$("#instant-payment-block").val()&&1!=coupon_applied&&(previousBookingCheck(cal_json,grand_total),getWalletAmount(grand_total,cal_json.currency_code),$(".custome-checkbox").is(":checked")&&(grand_total-=wallet_balance,service_fee-=wallet_balance,wallet_applied_balance=wallet_balance)),1!=$("#instant-payment-block").val()||$("#partial-payment").is(":checked")?0==$("#instant-payment-block").val()&&(couponDiscountAmount=0):previousBookingCheck(cal_json,grand_total),service_fee-=parseInt(gh_coupon_value),host_fee-=parseFloat(host_coupon_value),grand_total-=parseInt(couponDiscountAmount),$("#partial-payment").is(":checked")&&(previousBookingCredits=cal_json.previousBookingCredits,previousBookingCredits>=grand_total?(previousBookingCredits=grand_total,grand_total=0,totalPayableAmount=grand_total):(grand_total-=previousBookingCredits,totalPayableAmount=grand_total)),coa_fee=calculate_coa_charges(grand_total+parseFloat(couponDiscountAmount)+parseFloat(wallet_applied_balance),cal_json.min_coa_amount,cal_json.coa_charges_percentage,cal_json.cashless_additional_charge,cal_json.cashless_amount_limit1,cal_json.cashless_amount_limit2,cal_json.cashless_percent1,cal_json.cashless_percent2),coa_details=calculate_coa_upfront_amount(cal_json.commission_from_host,host_fee,grand_total,cal_json.min_coa_amount,cal_json.coa_charges_percentage,cal_json.host_transfer_percentage,cal_json.prive,service_fee,coa_fee);var fullPaymentTotal=grand_total;$(".cao-fee-amt").html("<b>"+cal_json.display_currency+" "+coa_details.coa_fee),$(".cash-on-amt").html("<b>"+cal_json.display_currency+" 0"),$(".pay-later-amt").html("<b>"+cal_json.display_currency+" "+(grand_total+coa_details.coa_fee)),$(".partial-amt").html("<b>"+cal_json.display_currency+" "+coa_details.coa_upfront_amount),$(".partial-pay-later-amt").html("<b>"+cal_json.display_currency+" "+coa_details.remaining_amount),$(".full-amt").html("<b>"+cal_json.display_currency+" "+grand_total),totalPayableAmount=grand_total;var datediff=endDate.getTime()-startDate.getTime(),nights=Math.round(datediff/864e5);extra_guest_cost>0?$(".row-guest-cost").removeClass("hidden"):$(".row-guest-cost").addClass("hidden");var unitsText="1"==$("#room-type-id").val()?"1"==units_val?"Unit":"Units":"1"==units_val?"Room":"Rooms",nightsText="1"==nights?"Night":"Nights",guestsText="1"==guests?"Guest":"Guests",guest_nights_units="("+nights+" "+nightsText+", "+units_val+" "+unitsText+", "+guests+" "+guestsText+")";if($(".extra_guest_count").html(extra_guests),$(".guests-nights-units").html(guest_nights_units),$(".extra_guest_cost").html(cal_json.display_currency+" "+Math.ceil(custom_extra_guest_cost/totalDays)),$("#custom_extra_guest_cost").html(cal_json.display_currency+" "+convert_price(Math.ceil(custom_extra_guest_cost/totalDays))),totalDiscount>0?$(".row-discount").show():$(".row-discount").hide(),$(".total_discount").html(cal_json.display_currency+" "+convert_price(totalDiscount)),$(".full-payment-amount").html("<b>"+cal_json.display_currency+" "+convert_price(fullPaymentTotal)+"</b>"),$(".cao-fee_all").html(cal_json.display_currency+" "+convert_price(coa_details.coa_fee)),$(".partial-payment-amount").html("<b>"+cal_json.display_currency+" "+convert_price(round(parseFloat(coa_details.coa_upfront_amount.replace(",","")),2))+"</b>"),$(".si-payable-amount").html(cal_json.display_currency+" 1"),$(".full-cash-arrival-amount").html("<b>"+cal_json.display_currency+" "+convert_price(fullPaymentTotal+coa_details.coa_fee)+"</b>"),$(".full-cash-arrival-amount-booking").html("<b>"+cal_json.display_currency+" "+convert_price(fullPaymentTotal)+"</b>"),$("#partial-payment").is(":checked")&&1==$("#instant-payment-block").val())grand_total=parseFloat(coa_details.coa_upfront_amount.replace(",","")).toFixed(2),$(".amount-later").html(cal_json.display_currency+" "+coa_details.remaining_amount),$(".amount-later-div").removeClass("hidden"),$(".amount-tooltip").html(cal_json.display_currency+" "+coa_details.remaining_amount+' is to be paid at Check-in <span class="down-arrow"></span>'),$(".amount-tooltip-icon").show(),service_fee+=coa_details.coa_fee,$(".grand_total").html(cal_json.display_currency+" "+convert_price(grand_total));else if($("#si-payment").is(":checked")&&1==$("#instant-payment-block").val()&&$(".si-payment-label").is(":visible"))if(grand_total=previousBookingCheck(cal_json,grand_total),grand_total>1){$(".amount-later").html(cal_json.display_currency+" "+(grand_total-1)),$(".amount-later-div").removeClass("hidden");var cancelDays=$("#cancellation_policy_days").data("day"),tooltip_html=cal_json.display_currency+" "+(grand_total-1)+" payable "+cancelDays;tooltip_html+=cancelDays>1?' days before check-in<span class="down-arrow"></span>':' day before check-in<span class="down-arrow"></span>',$(".amount-tooltip").html(tooltip_html),$(".amount-tooltip-icon").show(),grand_total=1,$(".grand_total").html(cal_json.display_currency+" "+convert_price(grand_total))}else $(".grand_total").html(cal_json.display_currency+" "+convert_price(grand_total)),$(".amount-later-div").addClass("hidden"),$(".amount-tooltip-icon").hide();else $("#full-cash-arrival").is(":checked")&&1==$("#instant-payment-block").val()?(grand_total+=coa_details.coa_fee,grand_total=previousBookingCheck(cal_json,grand_total),$(".amount-later").html(cal_json.display_currency+" "+convert_price(grand_total)),$(".amount-later-div").removeClass("hidden"),$(".amount-tooltip").html(cal_json.display_currency+" "+convert_price(grand_total)+' is to be paid at Check-in <span class="down-arrow"></span>'),$(".amount-tooltip-icon").show(),$(".grand_total").html(cal_json.display_currency+" 0"),1==$("#instant-payment-block").val()&&$(".booking-request-btn-identifier").html("Confirm Booking")):$("#full-payment").is(":checked")&&1==$("#instant-payment-block").val()&&1==$("#instant-payment-block").val()?(grand_total=previousBookingCheck(cal_json,grand_total),$(".amount-tooltip-icon").hide(),$(".amount-later-div").addClass("hidden"),$(".grand_total").html(cal_json.display_currency+" "+convert_price(grand_total))):(previousBookingCheck(cal_json,grand_total),$(".amount-tooltip-icon").hide(),$(".amount-later-div").addClass("hidden"),$(".grand_total").html(cal_json.display_currency+" "+convert_price(grand_total)));0==coa_details.coa_fee?$(".coa-fee-zero").hide():$(".coa-fee-zero").show(),$(".service-fee").html("<b>"+cal_json.display_currency+" "+convert_price(service_fee)+"</b>");for(var booking_requests=cal_json.requests,fromDate=formatDate(new Date(startDate.getTime())),toDate=formatDate(new Date(endDate.getTime())),i=0;i<booking_requests.length;i++){var request=booking_requests[i];if($(".booking-not-available").length)break;if(request.from_date==fromDate&&request.to_date==toDate&&request.guests==guests&&request.units==units_val){$("#duplicate_request_btn").attr("href",request.url).html(request.button_text).show(),$(".booking-request-btn-identifier").hide(),$("#coupon-wallet").hide(),$(".full-payment-label").hide(),$(".partial-payment-label").hide(),$(".one-rupee-label").hide(),$(".full-cash-arrival-label").hide(),$("#instant-block-dynamic").hide();break}"1"===$("#invoice-button-id").attr("data-instant")?($("#one-rupee").is(":checked")?$("#coupon-wallet").hide():$("#coupon-wallet").show(),0===busniessAgent||"0"===busniessAgent?$("#instant-block-dynamic").show():$("#instant-block-dynamic").hide()):$("#instant-block-dynamic").hide(),$(".full-payment-label").show(),$(".partial-payment-label").show(),$(".si-payment-label").show(),$(".full-cash-arrival-label").show()}$("#coa_help_modal #general").hide(),$("#coa_help_modal #custom").find("#coa_upfront_amount").html(cal_json.display_currency+coa_details.coa_upfront_amount),$("#coa_help_modal #custom").find("#remaining_amount").html(cal_json.display_currency+coa_details.remaining_amount),$("#coa_help_modal #custom").find("#coa_fee").html(cal_json.display_currency+coa_details.coa_fee),$("#coa_help_modal #custom").show(),grand_total<=cal_json.cashless_max_amount?$("#full_coa_label").show():$("#full_coa_label").hide()}else $(".error_message-invoice").css("padding-top","8px").html("Selected dates are not available.").show(),$("#cal_box").find("#cal_loader").hide(),$(".invoice-rows").hide(),$(".hide-invoice").hide()}}function calculate_coa_upfront_amount(t,e,s,n,i,a,o,r,l){return t>0?(gh_commission_from_host=round(e*t/100,2),e-=gh_commission_from_host):(gh_commission_from_host=0,e=e),l=l,0==o?(net_commission=(r>0?r:0)+gh_commission_from_host+l,host_transfer_amount=round(e*(a/100),2),coa_upfront_amount=net_commission+host_transfer_amount,remaining_amount=s+l-coa_upfront_amount):(net_commission=(r>0?r:0)+l,host_transfer_amount=round(e*(a/100),2),coa_upfront_amount=net_commission+host_transfer_amount,remaining_amount=s+l-coa_upfront_amount),new Object({coa_fee:l,coa_upfront_amount:convert_price(coa_upfront_amount),remaining_amount:convert_price(remaining_amount),original_payable_amount:convert_price(s)})}function calculate_coa_charges(t,e,s,n,i,a,o,r){var l=0;return t<=a&&(l=round(o*t/100,2),l=l<=e?round(e,2):l),l=0}function getWalletAmount(t,e){$(".loaderClass").show();var s=$("#coupon_code").val(),n=0;$(".custome-checkbox").is(":checked")&&(n=1),$.ajax({url:base_url+"/booking/discount-payment-details",method:"post",dataType:"json",async:!1,data:{amount:t,currency:e,_token:$("#token").val(),pid:property_id,start_date:$(".start_date").val(),end_date:$(".end_date").val(),guests:""==$(".guests").val()?$("#custom_guests").val():$(".guests").val(),units:$(".book_units").val(),coupon:s,wallet:n},success:function(t){$(".loaderClass").hide(),"wallet"==t.discount.type&&(1===t.discount.is_valid?(t.discount.amount=t.discount.amount<=0?0:t.discount.amount,$(".wallet-data").html("Pay Through Wallet ("+cal_json.display_currency+" "+convert_price(t.discount.amount)+') <input type="hidden"  id="wallet-amount" value="'+t.discount.amount+'">'),wallet_balance=t.discount.amount,$(".custome-checkbox").is(":checked")?($(".wallet-data").html(' Wallet Amount Applied <input type="hidden"  id="wallet-amount" value="'+wallet_balance+'">'),$(".discount-wallet-coupon").html("-"+cal_json.display_currency+" "+convert_price(wallet_balance)),$(".discount-div").removeClass("hidden"),$(".collapsible-row").addClass("wallet-apply"),$("#apply-coupon").addClass("disable")):($(".collapsible-row").removeClass("wallet-apply"),$("#apply-coupon").removeClass("disable")),$(".discount-wallet-coupon").html("-"+cal_json.display_currency+" "+convert_price(wallet_balance)),$(".pay-wallet").removeClass("hidden")):($(".pay-wallet").addClass("hidden"),$(".wallet-error").html(t.discount.message),$(".collapsible-row").removeClass("wallet-apply"))),"coupon"==t.discount.type&&(t.discount.is_valid===!0?($(".custome-checkbox").attr("checked",!1),couponDiscountAmount=t.discount.amount,gh_coupon_value=t.discount.gh_coupon_value,host_coupon_value=t.discount.host_coupon_value,couponCode=$("#coupon_code").val(),""!=t.discount.coupon_details?$(".coupon-cashback-text").html(t.discount.coupon_details).show():$(".coupon-cashback-text").html("").hide(),$(".coupon-applied-msg").show(),$(".couponerror").addClass("hidden"),calculatePrice(selStartDate,selEndDate,0,1),$(".discount-wallet-coupon").html("-"+cal_json.display_currency+" "+convert_price(couponDiscountAmount)),couponDiscountAmount>0?$(".discount-div").removeClass("hidden"):$(".discount-div").addClass("hidden")):(couponDiscountAmount=0,gh_coupon_value=0,host_coupon_value=0,$(".discount-div").addClass("hidden"),calculatePrice(selStartDate,selEndDate,0,1),$(".couponerror").html(t.discount.message).css("color","red"),$(".couponerror").removeClass("hidden"),$(".coupon-applied-msg").hide(),$(".coupon-cashback-text").html("").hide())),t.payment_options.length>0?($(".full-payment-label").removeClass("hidden"),$(".partial-payment").addClass("hidden"),$(".full-payment").removeClass("hidden"),$(".full-cash-arrival").addClass("hidden"),$("#coupon-wallet").show(),paymentOptions(t)):($("#full-payment").prop("checked",!0),$(".partial-payment-label").addClass("hidden"),$(".si-payment-label").addClass("hidden"),$(".full-cash-arrival-label").addClass("hidden"),$(".full-payment-label").removeClass("hidden"),$(".full-payment").removeClass("hidden"),$(".si-payment").addClass("hidden"),$(".partial-payment").addClass("hidden"),$(".full-cash-arrival").addClass("hidden"),$("#payment-option-id").removeClass("two-option"),$("#payment-option-id").addClass("one-option"))}})}function applyWalletMoney(t,e){$.ajax({url:base_url+"/payment/applywalletmoney",type:"get",data:{_token:$("#token").val(),request_id:t,applied_wallet_money:e,instantFlag:1},success:function(t){return"TRUE"===t}})}function applyCouponCode(t,e){$.ajax({url:base_url+"/payment/applycoupon",type:"post",data:{_token:$("#token").val(),request_id:t,coupon_code:e,instantFlag:1},success:function(t){return"TRUE"===t}})}function fullCashArrivalChange(){calculatePrice(selStartDate,selEndDate,0)}function fullPaymentChange(){calculatePrice(selStartDate,selEndDate,0)}function partialPaymentChange(){calculatePrice(selStartDate,selEndDate,0)}function siPaymentChange(){calculatePrice(selStartDate,selEndDate,0)}function submitForm(t){if("1"==$("#is_agent_check").val()){if(""==$(".traveller_name").val()){if($(".traveller_name").focus(),!$("#show_login_modal_loggeout").length)return!1;window.location.reload()}if(""==$(".traveller_contact").val()){if(console.log("Traveller Details must be filled"),$(".traveller_contact").focus(),!$("#show_login_modal_loggeout").length)return;window.location.reload()}var e=$(".traveller_contact").val();if(Math.floor(e)!=e||!$.isNumeric(e)||$(".traveller_contact").val().length<8){if(console.log("Invalid Contact Number"),$(".traveller_contact").focus(),!$("#show_login_modal_loggeout").length)return;window.location.reload()}}if($(".invoice-button-id").length>0?$(".login-class-button").prop("disabled",!0):$("#invoice-button-id").prop("disabled",!0),t.preventDefault(),"1"===$("#invoice-button-id").attr("data-instant")||"1"===$(".login-class-button").attr("data-instant")){var s;s=$("#full-payment").is(":checked")?1:$("#one-rupee").is(":checked")?2:$("#partial-payment").is(":checked")?0:$("#full-cash-arrival").is(":checked")?0:1,$.ajax({url:base_url+"/booking/discount-payment-details",type:"post",data:{_token:$("#token").val(),start_date:$(".start_date").val(),end_date:$(".end_date").val(),couponcode:$("#coupon_code").val(),pid:property_id,amount:totalPayableAmount,currency:cal_json.currency_code,paymentFlag:1,guests:""==$(".guests").val()?$("#custom_guests").val():$(".guests").val(),units:$(".book_units").val(),full_payment:s,"food-plan":$("#food-plan").val()},success:function(t){if(1===t.valid)if($("#full-cash-arrival").is(":checked")?ga("send",{hitType:"event",eventCategory:"pay/pay_later_payment-"+totalPayableAmount+"-"+t.requestId,eventAction:"click",eventLabel:"pay"}):1==s?ga("send",{hitType:"event",eventCategory:"pay/full_payment-"+totalPayableAmount+"-"+t.requestId,eventAction:"click",eventLabel:"pay"}):ga("send",{hitType:"event",eventCategory:"pay/partial_payment-"+totalPayableAmount+"-"+t.requestId,eventAction:"click",eventLabel:"pay"}),$(".custome-checkbox").is(":checked")?applyWalletMoney(t.requestId,wallet_balance):0!==couponDiscountAmount&&applyCouponCode(t.requestId,$("#coupon_code").val()),$("#full-cash-arrival").is(":checked")||totalPayableAmount<=0)previousCreditFlag=0!=previousBookingCredits&&totalPayableAmount<=0?1:0,window.location.href="/payment/cashlesspayment/"+t.requestId+"?previous_booking_flag="+previousCreditFlag;else if("1"==$("#agent-id").val()&&"1"==$("#agent-id-prive").val()||"1"==$("#is_business_partner").val()&&"1"==$("#is_business_partner_prive").val()){var e="<form id='instant-book-form-agent' method='post' action='/payment/agentbookingpayment/"+t.requestId+"'></form>";$("#instant-payment-form").html(e),$("#instant-book-form-agent").submit()}else if($("#si-payment").is(":checked")){var e="<form id='instant-book-form' method='post' action='/payment/confirm/"+t.requestId+"'>\t\t\t\t\t\t\t\t\t\t\t\t\t<input type='hidden' name='si_payment' value='1'>\t\t\t\t\t\t\t\t\t\t\t\t</form>";$("#instant-payment-form").html(e),$("#instant-book-form").submit()}else{var e="<form id='instant-book-form' method='post' action='/payment/confirm/"+t.requestId+"'><input type='hidden' name='full_payment' value='"+s+"'></form>";$("#instant-payment-form").html(e),$("#instant-book-form").submit()}else 0===t.valid?window.location.href=base_url+t.url:$("#invoice-button-id").prop("disabled",!1)}})}else ga("send",{hitType:"event",eventCategory:"send_request/prop_preview",eventAction:"click",eventLabel:"request"}),$("#booking_invoice_form").submit()}function previousBookingCheck(t,e){return previousBookingCredits=t.previousBookingCredits,0!=previousBookingCredits?(previousBookingCredits>=e?(previousBookingCredits=e,e=0,totalPayableAmount=e,fullCashOnArrivalHideFlag=1,1==$("#instant-payment-block").val()&&$(".booking-request-btn-identifier").html("Confirm Booking")):(e-=previousBookingCredits,totalPayableAmount=e,fullCashOnArrivalHideFlag=0),$(".previous-booking-credits").html("- "+t.display_currency+" "+parseFloat(previousBookingCredits).toLocaleString()),$(".discount-div-previous").removeClass("hidden")):$(".discount-div-previous").addClass("hidden"),e}function paymentOptions(t){if($.inArray("si",t.paymentIdArray)!==-1){if($("#si-payment").is(":checked"))return console.log("siiiii  if ...> "),$(".partial-payment").addClass("hidden"),$(".full-payment").addClass("hidden"),$(".full-cash-arrival").addClass("hidden"),$(".si-payment-label").removeClass("hidden"),$(".si-payment").removeClass("hidden"),$.inArray("partial_payment",t.paymentIdArray)!==-1?($("#payment-option-id").removeClass("one-option"),$("#payment-option-id").removeClass("two-option"),$(".partial-payment-label").removeClass("hidden")):($("#payment-option-id").removeClass("one-option"),$("#payment-option-id").addClass("two-option")),void($.inArray("si",t.paymentIdArray)!==-1&&$.inArray("full_coa",t.paymentIdArray)!==-1&&($(".full-cash-arrival-label").addClass("hidden"),$(".full-cash-arrival").addClass("hidden"),$.inArray("partial_payment",t.paymentIdArray)!==-1?($("#payment-option-id").removeClass("one-option"),$("#payment-option-id").removeClass("two-option")):($("#payment-option-id").removeClass("one-option"),$("#payment-option-id").addClass("two-option"),$(".partial-payment-label").addClass("hidden"))));$(".si-payment-label").removeClass("hidden"),$.inArray("partial_payment",t.paymentIdArray)!==-1&&$.inArray("full_coa",t.paymentIdArray)===-1&&($(".partial-payment-label").removeClass("hidden"),$("#payment-option-id").removeClass("one-option"),$("#payment-option-id").removeClass("two-option")),$.inArray("si",t.paymentIdArray)!==-1&&$.inArray("full_coa",t.paymentIdArray)!==-1&&($("#payment-option-id").removeClass("one-option"),$("#payment-option-id").addClass("two-option"),$(".full-cash-arrival").addClass("hidden"),$(".full-cash-arrival-label").addClass("hidden"))}if($.inArray("full_coa",t.paymentIdArray)!==-1&&$.inArray("partial_payment",t.paymentIdArray)!==-1&&0==fullCashOnArrivalHideFlag&&$.inArray("si",t.paymentIdArray)===-1){$(".si-payment-label").removeClass("hidden"),$(".si-payment").addClass("hidden"),$("#full-cash-arrival").is(":checked")?($(".partial-payment").addClass("hidden"),$(".full-payment").addClass("hidden"),$(".full-cash-arrival").removeClass("hidden"),$("#coupon-wallet").show()):($("#full-payment").prop("checked",!0),$(".partial-payment").addClass("hidden"),$(".full-payment").removeClass("hidden"),$(".full-cash-arrival").addClass("hidden"),$("#coupon-wallet").show()),$(".full-cash-arrival-label").removeClass("hidden"),$(".partial-payment-label").addClass("hidden"),$("#payment-option-id").removeClass("one-option"),$("#payment-option-id").addClass("two-option");for(var e=0;e<t.payment_options.length;e++)"partial_payment"===t.payment_options[e].id&&$("#partialPayment").find(".modal-body").html(t.payment_options[e].popup_text),"full_coa"===t.payment_options[e].id&&$("#cashOnArrival").find(".modal-body").html(t.payment_options[e].popup_text)}else $.inArray("full_coa",t.paymentIdArray)!==-1&&0==fullCashOnArrivalHideFlag&&$.inArray("si",t.paymentIdArray)===-1?($(".si-payment-label").removeClass("hidden"),$(".si-payment").addClass("hidden"),$(".partial-payment").addClass("hidden"),$(".partial-payment-label").addClass("hidden"),$("#full-cash-arrival").is(":checked")?($(".full-payment").addClass("hidden"),$(".full-cash-arrival").removeClass("hidden"),$("#coupon-wallet").hide()):($("#full-payment").prop("checked",!0),$(".full-payment").removeClass("hidden"),$(".full-cash-arrival").addClass("hidden"),$("#coupon-wallet").show()),$("#payment-option-id").removeClass("one-option"),$("#payment-option-id").addClass("two-option"),$(".full-cash-arrival-label").removeClass("hidden"),$("#cashOnArrival").find(".modal-body").html(t.payment_options[0].popup_text)):$.inArray("partial_payment",t.paymentIdArray)!==-1&&0==partialHideFlag&&$.inArray("full_coa",t.paymentIdArray)===-1?($(".si-payment").addClass("hidden"),$("#partial-payment").is(":checked")?($(".partial-payment").removeClass("hidden"),$(".full-payment").addClass("hidden"),$(".full-cash-arrival").addClass("hidden"),$("#coupon-wallet").show()):($("#full-payment").prop("checked",!0),$(".partial-payment").addClass("hidden"),$(".full-payment").removeClass("hidden"),$(".full-cash-arrival").addClass("hidden"),$("#coupon-wallet").show()),$.inArray("si",t.paymentIdArray)!==-1?($("#payment-option-id").removeClass("one-option"),$("#payment-option-id").removeClass("two-option")):($("#payment-option-id").removeClass("one-option"),$("#payment-option-id").addClass("two-option")),$(".partial-payment-label").removeClass("hidden"),$(".full-cash-arrival-label").addClass("hidden"),$("#partialPayment").find(".modal-body").html(t.payment_options[0].popup_text)):($("#full-payment").prop("checked",!0),$.inArray("partial_payment",t.paymentIdArray)!==-1?($("#payment-option-id").removeClass("one-option"),$("#payment-option-id").removeClass("two-option")):($("#payment-option-id").removeClass("one-option"),$("#payment-option-id").addClass("two-option"),$.inArray("partial_payment",t.paymentIdArray)===-1&&($(".partial-payment").addClass("hidden"),$(".partial-payment-label").addClass("hidden")),$.inArray("si",t.paymentIdArray)===-1&&($(".si-payment").addClass("hidden"),$(".si-payment-label").addClass("hidden")),$.inArray("si",t.paymentIdArray)===-1&&$.inArray("partial_payment",t.paymentIdArray)===-1&&$(".amount-later-div").addClass("hidden")),$(".si-payment").addClass("hidden"));$.inArray("si",t.paymentIdArray)===-1&&($(".si-payment-label").addClass("hidden"),$(".si-payment").addClass("hidden"),$("#payment-option-id").removeClass("one-option"),$("#payment-option-id").addClass("two-option"))}var month=new Array;month[0]="Jan",month[1]="Feb",month[2]="Mar",month[3]="Apr",month[4]="May",month[5]="Jun",month[6]="Jul",month[7]="Aug",month[8]="Sep",month[9]="Oct",month[10]="Nov",month[11]="Dec";var cal_json,couponCode="",gh_coupon_value=0,host_coupon_value=0,coa_details,wallet_balance,totalPayableAmount,couponDiscountAmount=0,curTimestamp=(new Date).valueOf(),curDate=formatDate(new Date),selStartDate="",selEndDate="",mobileView="",desktopView="",property_id=$(".property_id").val(),temp_min_units=0,previousBookingCredits=0,previousCreditFlag=0,partialHideFlag=0,fullCashOnArrivalHideFlag=0;$.ajax({url:base_url+"/booking/inventory/"+property_id,method:"get",dataType:"json",success:function(t){cal_json=t,initialiseCalendar(),selStartDate=reformatDate($(".start_date").val()),selEndDate=reformatDate($(".end_date").val()),calculatePrice(selStartDate,selEndDate);var e=$("#custom_units").val();e>0&&e!=$(".book_units").val()&&($(".book_units").val(parseInt(e)),calculatePrice(selStartDate,selEndDate))}}),$(".book_units").change(function(){var t=reformatDate($(".start_date").val()),e=reformatDate($(".end_date").val());calculatePrice(t,e)}),$(".guests").change(function(){$(".guests").val($(this).val()),calculatePrice(selStartDate,selEndDate,0)}),$("#food-plan").change(function(){calculatePrice(selStartDate,selEndDate,0)}),$("#start_date_cont").click(function(){$("#start_date").focus()}),$("#end_date_cont").click(function(){$("#end_date").focus()}),$(".icon-cal-type").click(function(){$(this).parents(".dates-cont").find(".start_date").focus()}),$(".custome-checkbox").on("click",function(){calculatePrice(selStartDate,selEndDate,0),$(".custome-checkbox").is(":checked")?($(".discount-wallet-coupon").html("-"+cal_json.display_currency+" "+convert_price(wallet_balance)),$(".discount-div").removeClass("hidden")):($(".wallet-data").html("Pay Through Wallet ("+cal_json.display_currency+" "+convert_price(wallet_balance)+') <input type="hidden"  id="wallet-amount" value="'+wallet_balance+'">'),$(".discount-div").addClass("hidden"),$("#apply-coupon").removeClass("disable"))}),$("body").on("click",".apply-coupon",function(){$(this).hasClass("disable")||("Cancel"==$(this).find("b").text()?(couponDiscountAmount=0,gh_coupon_value=0,host_coupon_value=0,$("#coupon_code").val(""),$(".discount-div").addClass("hidden"),$(".couponerror").addClass("hidden"),calculatePrice(selStartDate,selEndDate,0),$(this).find("b").text("Apply coupon"),
$(".coupon-input").css("display","none"),$(".pay-wallet").show(),$(".wallet-error").show(),$(".collapsible-row").removeClass("discount-apply")):(couponDiscountAmount=0,$(".collapsible-row").removeClass("discount-apply"),gh_coupon_value=0,host_coupon_value=0,$(".coupon-input a").text("Apply"),$(".coupon-input input").removeAttr("readonly"),$(".coupon-input").removeClass("cross-x"),$(".discount-div").addClass("hidden"),$(".couponerror").addClass("hidden"),0==$(".apply-coupon").attr("data-coupon-login")?$("#signup-modal").modal("show"):($(this).find("b").text("Cancel"),$(".coupon-input").css("display","inline-block"),$(".pay-wallet").hide(),$(".custome-checkbox").attr("checked",!1),calculatePrice(selStartDate,selEndDate,0)),$(".wallet-error").hide()))}),$(".coupon-input input").keyup(function(){""==$(".coupon-input input").val()&&($(".coupon-input a").text("Apply"),$(".coupon-input input").removeAttr("readonly"))}),$("body").on("click",".coupon-input a",function(){if(""==$(this).text())$("#coupon_code").val(""),couponDiscountAmount=0,gh_coupon_value=0,host_coupon_value=0,$(".discount-div").addClass("hidden"),$(".couponerror").addClass("hidden"),$(".collapsible-row").removeClass("discount-apply"),calculatePrice(selStartDate,selEndDate,0),$(this).text("Apply"),$(".coupon-input input").removeAttr("readonly"),$(".coupon-input").removeClass("cross-x"),$(".apply-coupon").show(),$(".coupon-applied-msg").hide(),$(".coupon-cashback-text").html("").hide();else{var t=$("#coupon_code").val();if($(".couponerror").html(""),""==t)return $(".couponerror").html("Please enter coupon code."),$(".couponerror").removeClass("hidden"),void $(".collapsible-row").removeClass("discount-apply");$.ajax({url:base_url+"/booking/discount-payment-details",type:"post",data:{_token:$("#token").val(),start_date:$(".start_date").val(),end_date:$(".end_date").val(),coupon:$("#coupon_code").val(),pid:property_id,amount:totalPayableAmount+previousBookingCredits,currency:cal_json.currency_code,guests:$(".guests").val(),units:$(".book_units").val()},success:function(t){return t.discount.is_valid!==!0?($(".apply-coupon").show(),$(".coupon-applied-msg").hide(),$(".coupon-cashback-text").html("").hide(),$(".couponerror").html(t.discount.message),$(".couponerror").removeClass("hidden"),$(".collapsible-row").removeClass("discount-apply"),$("#apply-coupon-a").text("Apply"),$(".coupon-input").removeClass("cross-x"),void $(".coupon-input input").removeAttr("readonly")):($(".custome-checkbox").attr("checked",!1),couponDiscountAmount=t.discount.amount,gh_coupon_value=t.discount.gh_coupon_value,host_coupon_value=t.discount.host_coupon_value,couponCode=$("#coupon_code").val(),$(".apply-coupon").hide(),$(".coupon-applied-msg").show(),""!=t.discount.coupon_details?$(".coupon-cashback-text").html(t.discount.coupon_details).show():$(".coupon-cashback-text").html("").hide(),$(".couponerror").removeClass("hidden"),calculatePrice(selStartDate,selEndDate,0,1),$(".discount-wallet-coupon").html("-"+cal_json.display_currency+" "+convert_price(couponDiscountAmount)),couponDiscountAmount>0?$(".discount-div").removeClass("hidden"):$(".discount-div").addClass("hidden"),$(".collapsible-row").addClass("discount-apply"),$("#apply-coupon-a").text(""),$(".coupon-input").addClass("cross-x"),$(".coupon-input input").attr("readonly","readonly"),void(t.payment_options.length>0?($(".full-payment-label").removeClass("hidden"),$(".partial-payment").addClass("hidden"),$(".full-payment").removeClass("hidden"),$(".full-cash-arrival").addClass("hidden"),$("#coupon-wallet").show(),paymentOptions(t)):($("#full-payment").prop("checked",!0),$(".partial-payment-label").addClass("hidden"),$(".si-payment-label").addClass("hidden"),$(".full-cash-arrival-label").addClass("hidden"),$(".full-payment-label").removeClass("hidden"),$(".full-payment").removeClass("hidden"),$(".si-payment").addClass("hidden"),$(".partial-payment").addClass("hidden"),$(".full-cash-arrival").addClass("hidden"),$("#payment-option-id").removeClass("two-option"),$("#payment-option-id").addClass("one-option"))))}})}}),$("#invoice-button-id").on("click",function(t){submitForm(t)}),$("#partial-payment").change(function(){partialPaymentChange()}),$("#full-payment").change(function(){fullPaymentChange()}),$("#si-payment").change(function(){siPaymentChange()}),$("#full-cash-arrival").change(function(){fullCashArrivalChange()}),$("#invoice-button-id-pop").on("click",function(t){t.preventDefault(),$("#booking_invoice_form").submit()}),$(".invoice-button-id").on("click",function(t){submitForm(t)}),$(".apply-coupon-wallet-button").on("click",function(t){t.preventDefault();var e="/properties/rooms/"+property_id+"?start_date="+$(".start_date").val()+"&end_date="+$(".end_date").val()+"&guests="+(""==$(".guests").val()?$("#custom_guests").val():$(".guests").val());window.location.href=base_url+e})});var kfile={formURL:"/reviewupload",controlid:"file1",ul_container:"img-container",property_image:"property_image",property_image_input:"property_image_name",return_image_src_var:"src",return_image_name_var:"name",image_order_input:"image_order",loader_image_url:"/images/loader.gif",init:function(){var t=new Image;t.src=this.loader_image_url,this.upload(),this["delete"](),this.make_image_featured(),this.image_order()},make_image_featured:function(){var t=this;jQuery;$(document).ready(function(){$("#"+t.ul_container+" i.star-image").removeClass("active"),$("#"+t.ul_container+" i.star-image").first().addClass("active")}),$(document).on("click",".star-image",function(){$(this).parent("li").prependTo("#img-container"),$("#"+t.ul_container+" i.star-image").removeClass("active"),$(this).addClass("active"),t.image_order()})},"delete":function(){var t=this,e=jQuery;e("#"+t.ul_container).on("click",".delete-image",function(){var s=e(this).parent("li");e(s).find("img").attr("src");e(s).addClass("faded"),t.image_order(),$("#savechanges_span").show()})},upload:function(){var t=this,e=jQuery;"undefined"==typeof FormData&&($("#uploadbtn").hide(),$("#"+t.controlid).removeClass("hiddenfile")),e("#"+t.controlid).change(function(){function s(){if(l==o.length)return""!=d&&alert(d),void(d="");var n=r+"_image_"+l,i=o[l],a=new FormData,c=0;a.append(t.controlid,i),o[l].name.match(/\.(jpg|jpeg|png|JPG|JPEG|PNG)$/)||(d+='File "'+o[l].name+'" is not valid\n',c=1),o[l].name.match(/\.(jpg|jpeg|png|JPG|JPEG|PNG)$/)&&!c?e.ajax({url:t.formURL,type:"POST",data:a,mimeType:"multipart/form-data",contentType:!1,cache:!1,processData:!1,async:!0,success:function(i,a,o){var r=$.parseJSON(i);console.log(r);var d=r[t.return_image_src_var],c=(r[t.return_image_src_var],r[t.return_image_name_var]);e("#"+n+" ."+t.property_image_input).val(c),e("#"+n+" ."+t.property_image_input).addClass("done"),e("#"+n+" ."+t.property_image).attr("src",d),t.image_order(),l+=1,s()},error:function(t,e,i){$("#"+n).remove(),l+=1,s()}}):(l+=1,window.setTimeout(function(){s()},0))}if($("#img-container").removeClass("hidden"),"undefined"==typeof FormData){var n=Math.floor(1e4*Math.random().toFixed(4));$("body").append('<form style="display:block;" action="/upload" method="post" enctype="multipart/form-data" id="imgform"><div id="img_frm_submit"></div></form>');var i=$(this),a=i.clone(!0);$("#img_frm_submit").html(""),i.hide(),a.insertAfter(i),i.appendTo("#img_frm_submit"),e("#"+t.ul_container).append('<li class="img-single loader" id="'+n+'">\t\t\t\t<img class="'+t.property_image+'" src="'+t.loader_image_url+'">\t\t\t\t<input type="hidden" name="'+t.property_image_input+'[]" class="'+t.property_image_input+'" value="1_1408682758.jpg">\t\t\t\t<i class="fa fa-times delete-image"></i>\t\t\t\t</li>'),$("#imgform").ajaxForm({beforeSend:function(){},success:function(s,i,a){var o=$.parseJSON(s),r=o.dir,l=o[t.return_image_src_var];e("#"+n+" ."+t.property_image_input).val(l),e("#"+n+" ."+t.property_image_input).addClass("done"),e("#"+n+" ."+t.property_image).attr("src",r+l),t.image_order()},error:function(){}}).submit()}else{var o=e("#"+t.controlid).get(0).files;if($("#mobile_review").length&&1==$("#mobile_review").val()){if(o.length>5)return alert("Files count can not be more then 5 !!"),!1;$("#uploadbtn").hide(),$("#one_more_add_img").show(),console.log($(".img-container li ").length),(o.length>4||$(".img-container li ").length>3)&&($("#uploadbtn").hide(),$("#one_more_add_img").hide())}for(var r=Math.floor(1e4*Math.random().toFixed(4)),l=0;l<o.length;l++)if(o[l].name.match(/\.(jpg|jpeg|png|JPG|JPEG|PNG)$/)){var n=r+"_image_"+l;e("#"+t.ul_container).append('<li class="img-single loader" id="'+n+'">\t\t\t\t\t\t<img class="'+t.property_image+'" src="'+t.loader_image_url+'">\t\t\t\t\t\t<input type="hidden" name="'+t.property_image_input+'[]" class="'+t.property_image_input+'" value="">\t\t\t\t\t\t<i class="fa fa-times delete-image"></i>\t\t\t\t\t\t</li>')}var l=0,d="";s(),$("#savechanges_span").show()}})},create_li:function(t,e){var s=this,n=jQuery;n(document).ready(function(){n("#"+s.ul_container).append('<li class="img-single loader" id="">\t\t\t\t<img class="'+s.property_image+'" src="'+t+'">\t\t\t\t<input type="hidden" name="'+s.property_image_input+'[]" class="done '+s.property_image_input+'" value="'+e+'">\t\t\t\t<i class="fa fa-times delete-image"></i>\t\t\t\t</li>')})},image_order:function(){var t=this,e=jQuery;$(document).ready(function(){var s=[];e("#"+t.ul_container+" li:not(.faded) input.done").each(function(){s.push(e(this).val())}),e("#"+t.image_order_input).val(s);var n=[];e("#"+t.ul_container+" li.faded input").each(function(){n.push(e(this).val())}),e("#delimages").val(n)})}};if("function"!=typeof Object.create&&(Object.create=function(t){function e(){}return e.prototype=t,new e}),function(t,e,s){var n={init:function(e,s){var n=this;n.$elem=t(s),n.options=t.extend({},t.fn.owlCarousel.options,n.$elem.data(),e),n.userOptions=e,n.loadContent()},loadContent:function(){function e(t){var e,s="";if("function"==typeof n.options.jsonSuccess)n.options.jsonSuccess.apply(this,[t]);else{for(e in t.owl)t.owl.hasOwnProperty(e)&&(s+=t.owl[e].item);n.$elem.html(s)}n.logIn()}var s,n=this;"function"==typeof n.options.beforeInit&&n.options.beforeInit.apply(this,[n.$elem]),"string"==typeof n.options.jsonPath?(s=n.options.jsonPath,t.getJSON(s,e)):n.logIn()},logIn:function(){var t=this;t.$elem.data("owl-originalStyles",t.$elem.attr("style")),t.$elem.data("owl-originalClasses",t.$elem.attr("class")),t.$elem.css({opacity:0}),t.orignalItems=t.options.items,t.checkBrowser(),t.wrapperWidth=0,t.checkVisible=null,t.setVars()},setVars:function(){var t=this;return 0!==t.$elem.children().length&&(t.baseClass(),t.eventTypes(),t.$userItems=t.$elem.children(),t.itemsAmount=t.$userItems.length,t.wrapItems(),t.$owlItems=t.$elem.find(".owl-item"),t.$owlWrapper=t.$elem.find(".owl-wrapper"),t.playDirection="next",t.prevItem=0,t.prevArr=[0],t.currentItem=0,t.customEvents(),void t.onStartup())},onStartup:function(){var t=this;t.updateItems(),t.calculateAll(),t.buildControls(),t.updateControls(),t.response(),t.moveEvents(),t.stopOnHover(),t.owlStatus(),t.options.transitionStyle!==!1&&t.transitionTypes(t.options.transitionStyle),t.options.autoPlay===!0&&(t.options.autoPlay=5e3),t.play(),t.$elem.find(".owl-wrapper").css("display","block"),t.$elem.is(":visible")?t.$elem.css("opacity",1):t.watchVisibility(),t.onstartup=!1,t.eachMoveUpdate(),"function"==typeof t.options.afterInit&&t.options.afterInit.apply(this,[t.$elem])},eachMoveUpdate:function(){var t=this;t.options.lazyLoad===!0&&t.lazyLoad(),t.options.autoHeight===!0&&t.autoHeight(),t.onVisibleItems(),"function"==typeof t.options.afterAction&&t.options.afterAction.apply(this,[t.$elem])},updateVars:function(){var t=this;"function"==typeof t.options.beforeUpdate&&t.options.beforeUpdate.apply(this,[t.$elem]),t.watchVisibility(),t.updateItems(),t.calculateAll(),t.updatePosition(),t.updateControls(),t.eachMoveUpdate(),"function"==typeof t.options.afterUpdate&&t.options.afterUpdate.apply(this,[t.$elem])},reload:function(){var t=this;e.setTimeout(function(){t.updateVars()},0)},watchVisibility:function(){var t=this;return t.$elem.is(":visible")===!1&&(t.$elem.css({opacity:0}),e.clearInterval(t.autoPlayInterval),e.clearInterval(t.checkVisible),void(t.checkVisible=e.setInterval(function(){t.$elem.is(":visible")&&(t.reload(),t.$elem.animate({opacity:1},200),e.clearInterval(t.checkVisible))},500)))},wrapItems:function(){var t=this;t.$userItems.wrapAll('<div class="owl-wrapper">').wrap('<div class="owl-item"></div>'),t.$elem.find(".owl-wrapper").wrap('<div class="owl-wrapper-outer">'),t.wrapperOuter=t.$elem.find(".owl-wrapper-outer"),t.$elem.css("display","block")},baseClass:function(){var t=this,e=t.$elem.hasClass(t.options.baseClass),s=t.$elem.hasClass(t.options.theme);e||t.$elem.addClass(t.options.baseClass),s||t.$elem.addClass(t.options.theme)},updateItems:function(){var e,s,n=this;if(n.options.responsive===!1)return!1;if(n.options.singleItem===!0)return n.options.items=n.orignalItems=1,n.options.itemsCustom=!1,n.options.itemsDesktop=!1,n.options.itemsDesktopSmall=!1,n.options.itemsTablet=!1,n.options.itemsTabletSmall=!1,n.options.itemsMobile=!1,!1;if(e=t(n.options.responsiveBaseWidth).width(),e>(n.options.itemsDesktop[0]||n.orignalItems)&&(n.options.items=n.orignalItems),n.options.itemsCustom!==!1)for(n.options.itemsCustom.sort(function(t,e){return t[0]-e[0]}),s=0;s<n.options.itemsCustom.length;s+=1)n.options.itemsCustom[s][0]<=e&&(n.options.items=n.options.itemsCustom[s][1]);else e<=n.options.itemsDesktop[0]&&n.options.itemsDesktop!==!1&&(n.options.items=n.options.itemsDesktop[1]),e<=n.options.itemsDesktopSmall[0]&&n.options.itemsDesktopSmall!==!1&&(n.options.items=n.options.itemsDesktopSmall[1]),e<=n.options.itemsTablet[0]&&n.options.itemsTablet!==!1&&(n.options.items=n.options.itemsTablet[1]),e<=n.options.itemsTabletSmall[0]&&n.options.itemsTabletSmall!==!1&&(n.options.items=n.options.itemsTabletSmall[1]),e<=n.options.itemsMobile[0]&&n.options.itemsMobile!==!1&&(n.options.items=n.options.itemsMobile[1]);n.options.items>n.itemsAmount&&n.options.itemsScaleUp===!0&&(n.options.items=n.itemsAmount)},response:function(){var s,n,i=this;return i.options.responsive===!0&&(n=t(e).width(),i.resizer=function(){t(e).width()!==n&&(i.options.autoPlay!==!1&&e.clearInterval(i.autoPlayInterval),e.clearTimeout(s),s=e.setTimeout(function(){n=t(e).width(),i.updateVars()},i.options.responsiveRefreshRate))},void t(e).resize(i.resizer))},updatePosition:function(){var t=this;t.jumpTo(t.currentItem),t.options.autoPlay!==!1&&t.checkAp()},appendItemsSizes:function(){var e=this,s=0,n=e.itemsAmount-e.options.items;e.$owlItems.each(function(i){var a=t(this);a.css({width:e.itemWidth}).data("owl-item",Number(i)),(i%e.options.items===0||i===n)&&(i>n||(s+=1)),a.data("owl-roundPages",s)})},appendWrapperSizes:function(){var t=this,e=t.$owlItems.length*t.itemWidth;t.$owlWrapper.css({width:2*e,left:0}),t.appendItemsSizes()},calculateAll:function(){var t=this;t.calculateWidth(),t.appendWrapperSizes(),t.loops(),t.max()},calculateWidth:function(){var t=this;t.itemWidth=Math.round(t.$elem.width()/t.options.items)},max:function(){var t=this,e=-1*(t.itemsAmount*t.itemWidth-t.options.items*t.itemWidth);return t.options.items>t.itemsAmount?(t.maximumItem=0,e=0,t.maximumPixels=0):(t.maximumItem=t.itemsAmount-t.options.items,t.maximumPixels=e),e},min:function(){return 0},loops:function(){var e,s,n,i=this,a=0,o=0;for(i.positionsInArray=[0],i.pagesInArray=[],e=0;e<i.itemsAmount;e+=1)o+=i.itemWidth,i.positionsInArray.push(-o),i.options.scrollPerPage===!0&&(s=t(i.$owlItems[e]),n=s.data("owl-roundPages"),n!==a&&(i.pagesInArray[a]=i.positionsInArray[e],a=n))},buildControls:function(){var e=this;(e.options.navigation===!0||e.options.pagination===!0)&&(e.owlControls=t('<div class="owl-controls"/>').toggleClass("clickable",!e.browser.isTouch).appendTo(e.$elem)),e.options.pagination===!0&&e.buildPagination(),e.options.navigation===!0&&e.buildButtons()},buildButtons:function(){var e=this,s=t('<div class="owl-buttons"/>');e.owlControls.append(s),e.buttonPrev=t("<div/>",{"class":"owl-prev fa fa-angle-left",html:e.options.navigationText[0]||""}),e.buttonNext=t("<div/>",{"class":"owl-next fa fa-angle-right",html:e.options.navigationText[1]||""}),s.append(e.buttonPrev).append(e.buttonNext),s.on("touchstart.owlControls mousedown.owlControls",'div[class^="owl"]',function(t){t.preventDefault()}),s.on("touchend.owlControls mouseup.owlControls",'div[class^="owl"]',function(s){s.preventDefault(),t(this).hasClass("owl-next")?e.next():e.prev()})},buildPagination:function(){var e=this;e.paginationWrapper=t('<div class="owl-pagination"/>'),e.owlControls.append(e.paginationWrapper),e.paginationWrapper.on("touchend.owlControls mouseup.owlControls",".owl-page",function(s){s.preventDefault(),Number(t(this).data("owl-page"))!==e.currentItem&&e.goTo(Number(t(this).data("owl-page")),!0)})},updatePagination:function(){var e,s,n,i,a,o,r=this;if(r.options.pagination===!1)return!1;for(r.paginationWrapper.html(""),e=0,s=r.itemsAmount-r.itemsAmount%r.options.items,i=0;i<r.itemsAmount;i+=1)i%r.options.items===0&&(e+=1,s===i&&(n=r.itemsAmount-r.options.items),a=t("<div/>",{"class":"owl-page"}),o=t("<span></span>",{text:r.options.paginationNumbers===!0?e:"","class":r.options.paginationNumbers===!0?"owl-numbers":""}),a.append(o),a.data("owl-page",s===i?n:i),a.data("owl-roundPages",e),r.paginationWrapper.append(a));r.checkPagination()},checkPagination:function(){var e=this;return e.options.pagination!==!1&&void e.paginationWrapper.find(".owl-page").each(function(){t(this).data("owl-roundPages")===t(e.$owlItems[e.currentItem]).data("owl-roundPages")&&(e.paginationWrapper.find(".owl-page").removeClass("active"),t(this).addClass("active"))})},checkNavigation:function(){var t=this;return t.options.navigation!==!1&&void(t.options.rewindNav===!1&&(0===t.currentItem&&0===t.maximumItem?(t.buttonPrev.addClass("disabled"),t.buttonNext.addClass("disabled")):0===t.currentItem&&0!==t.maximumItem?(t.buttonPrev.addClass("disabled"),t.buttonNext.removeClass("disabled")):t.currentItem===t.maximumItem?(t.buttonPrev.removeClass("disabled"),t.buttonNext.addClass("disabled")):0!==t.currentItem&&t.currentItem!==t.maximumItem&&(t.buttonPrev.removeClass("disabled"),t.buttonNext.removeClass("disabled"))))},updateControls:function(){var t=this;t.updatePagination(),t.checkNavigation(),t.owlControls&&(t.options.items>=t.itemsAmount?t.owlControls.hide():t.owlControls.show())},destroyControls:function(){var t=this;t.owlControls&&t.owlControls.remove()},next:function(t){var e=this;if(e.isTransition)return!1;if(e.currentItem+=e.options.scrollPerPage===!0?e.options.items:1,e.currentItem>e.maximumItem+(e.options.scrollPerPage===!0?e.options.items-1:0)){if(e.options.rewindNav!==!0)return e.currentItem=e.maximumItem,!1;e.currentItem=0,t="rewind"}e.goTo(e.currentItem,t)},prev:function(t){var e=this;if(e.isTransition)return!1;if(e.options.scrollPerPage===!0&&e.currentItem>0&&e.currentItem<e.options.items?e.currentItem=0:e.currentItem-=e.options.scrollPerPage===!0?e.options.items:1,e.currentItem<0){if(e.options.rewindNav!==!0)return e.currentItem=0,!1;e.currentItem=e.maximumItem,t="rewind"}e.goTo(e.currentItem,t)},goTo:function(t,s,n){var i,a=this;return!a.isTransition&&("function"==typeof a.options.beforeMove&&a.options.beforeMove.apply(this,[a.$elem]),t>=a.maximumItem?t=a.maximumItem:0>=t&&(t=0),a.currentItem=a.owl.currentItem=t,a.options.transitionStyle!==!1&&"drag"!==n&&1===a.options.items&&a.browser.support3d===!0?(a.swapSpeed(0),a.browser.support3d===!0?a.transition3d(a.positionsInArray[t]):a.css2slide(a.positionsInArray[t],1),a.afterGo(),a.singleItemTransition(),!1):(i=a.positionsInArray[t],a.browser.support3d===!0?(a.isCss3Finish=!1,s===!0?(a.swapSpeed("paginationSpeed"),e.setTimeout(function(){a.isCss3Finish=!0},a.options.paginationSpeed)):"rewind"===s?(a.swapSpeed(a.options.rewindSpeed),e.setTimeout(function(){a.isCss3Finish=!0},a.options.rewindSpeed)):(a.swapSpeed("slideSpeed"),e.setTimeout(function(){a.isCss3Finish=!0},a.options.slideSpeed)),a.transition3d(i)):s===!0?a.css2slide(i,a.options.paginationSpeed):"rewind"===s?a.css2slide(i,a.options.rewindSpeed):a.css2slide(i,a.options.slideSpeed),void a.afterGo()))},jumpTo:function(t){var e=this;"function"==typeof e.options.beforeMove&&e.options.beforeMove.apply(this,[e.$elem]),t>=e.maximumItem||-1===t?t=e.maximumItem:0>=t&&(t=0),e.swapSpeed(0),e.browser.support3d===!0?e.transition3d(e.positionsInArray[t]):e.css2slide(e.positionsInArray[t],1),e.currentItem=e.owl.currentItem=t,e.afterGo()},afterGo:function(){var t=this;t.prevArr.push(t.currentItem),t.prevItem=t.owl.prevItem=t.prevArr[t.prevArr.length-2],t.prevArr.shift(0),t.prevItem!==t.currentItem&&(t.checkPagination(),t.checkNavigation(),t.eachMoveUpdate(),t.options.autoPlay!==!1&&t.checkAp()),"function"==typeof t.options.afterMove&&t.prevItem!==t.currentItem&&t.options.afterMove.apply(this,[t.$elem])},stop:function(){var t=this;t.apStatus="stop",e.clearInterval(t.autoPlayInterval)},checkAp:function(){var t=this;"stop"!==t.apStatus&&t.play()},play:function(){var t=this;return t.apStatus="play",t.options.autoPlay!==!1&&(e.clearInterval(t.autoPlayInterval),void(t.autoPlayInterval=e.setInterval(function(){t.next(!0)},t.options.autoPlay)))},swapSpeed:function(t){var e=this;"slideSpeed"===t?e.$owlWrapper.css(e.addCssSpeed(e.options.slideSpeed)):"paginationSpeed"===t?e.$owlWrapper.css(e.addCssSpeed(e.options.paginationSpeed)):"string"!=typeof t&&e.$owlWrapper.css(e.addCssSpeed(t))},addCssSpeed:function(t){return{"-webkit-transition":"all "+t+"ms ease","-moz-transition":"all "+t+"ms ease","-o-transition":"all "+t+"ms ease",transition:"all "+t+"ms ease"}},removeTransition:function(){return{"-webkit-transition":"","-moz-transition":"","-o-transition":"",transition:""}},doTranslate:function(t){return{"-webkit-transform":"translate3d("+t+"px, 0px, 0px)","-moz-transform":"translate3d("+t+"px, 0px, 0px)","-o-transform":"translate3d("+t+"px, 0px, 0px)","-ms-transform":"translate3d("+t+"px, 0px, 0px)",transform:"translate3d("+t+"px, 0px,0px)"}},transition3d:function(t){var e=this;e.$owlWrapper.css(e.doTranslate(t))},css2move:function(t){var e=this;e.$owlWrapper.css({left:t})},css2slide:function(t,e){var s=this;s.isCssFinish=!1,s.$owlWrapper.stop(!0,!0).animate({left:t},{duration:e||s.options.slideSpeed,complete:function(){s.isCssFinish=!0}})},checkBrowser:function(){var t,n,i,a,o=this,r="translate3d(0px, 0px, 0px)",l=s.createElement("div");l.style.cssText="  -moz-transform:"+r+"; -ms-transform:"+r+"; -o-transform:"+r+"; -webkit-transform:"+r+"; transform:"+r,t=/translate3d\(0px, 0px, 0px\)/g,n=l.style.cssText.match(t),i=null!==n&&1===n.length,a="ontouchstart"in e||e.navigator.msMaxTouchPoints,o.browser={support3d:i,isTouch:a}},moveEvents:function(){var t=this;(t.options.mouseDrag!==!1||t.options.touchDrag!==!1)&&(t.gestures(),t.disabledEvents())},eventTypes:function(){var t=this,e=["s","e","x"];t.ev_types={},t.options.mouseDrag===!0&&t.options.touchDrag===!0?e=["touchstart.owl mousedown.owl","touchmove.owl mousemove.owl","touchend.owl touchcancel.owl mouseup.owl"]:t.options.mouseDrag===!1&&t.options.touchDrag===!0?e=["touchstart.owl","touchmove.owl","touchend.owl touchcancel.owl"]:t.options.mouseDrag===!0&&t.options.touchDrag===!1&&(e=["mousedown.owl","mousemove.owl","mouseup.owl"]),t.ev_types.start=e[0],t.ev_types.move=e[1],t.ev_types.end=e[2]},disabledEvents:function(){var e=this;e.$elem.on("dragstart.owl",function(t){t.preventDefault()}),e.$elem.on("mousedown.disableTextSelect",function(e){return t(e.target).is("input, textarea, select, option")})},gestures:function(){function n(t){if(void 0!==t.touches)return{x:t.touches[0].pageX,y:t.touches[0].pageY};if(void 0===t.touches){if(void 0!==t.pageX)return{x:t.pageX,y:t.pageY};if(void 0===t.pageX)return{x:t.clientX,y:t.clientY}}}function i(e){"on"===e?(t(s).on(l.ev_types.move,o),t(s).on(l.ev_types.end,r)):"off"===e&&(t(s).off(l.ev_types.move),t(s).off(l.ev_types.end))}function a(s){var a,o=s.originalEvent||s||e.event;if(3===o.which)return!1;if(!(l.itemsAmount<=l.options.items)){if(l.isCssFinish===!1&&!l.options.dragBeforeAnimFinish)return!1;if(l.isCss3Finish===!1&&!l.options.dragBeforeAnimFinish)return!1;l.options.autoPlay!==!1&&e.clearInterval(l.autoPlayInterval),l.browser.isTouch===!0||l.$owlWrapper.hasClass("grabbing")||l.$owlWrapper.addClass("grabbing"),l.newPosX=0,l.newRelativeX=0,t(this).css(l.removeTransition()),a=t(this).position(),d.relativePos=a.left,d.offsetX=n(o).x-a.left,d.offsetY=n(o).y-a.top,i("on"),d.sliding=!1,d.targetElement=o.target||o.srcElement}}function o(i){var a,o,r=i.originalEvent||i||e.event;l.newPosX=n(r).x-d.offsetX,l.newPosY=n(r).y-d.offsetY,l.newRelativeX=l.newPosX-d.relativePos,"function"==typeof l.options.startDragging&&d.dragging!==!0&&0!==l.newRelativeX&&(d.dragging=!0,l.options.startDragging.apply(l,[l.$elem])),(l.newRelativeX>8||l.newRelativeX<-8)&&l.browser.isTouch===!0&&(void 0!==r.preventDefault?r.preventDefault():r.returnValue=!1,d.sliding=!0),(l.newPosY>10||l.newPosY<-10)&&d.sliding===!1&&t(s).off("touchmove.owl"),a=function(){return l.newRelativeX/5},o=function(){return l.maximumPixels+l.newRelativeX/5},l.newPosX=Math.max(Math.min(l.newPosX,a()),o()),l.browser.support3d===!0?l.transition3d(l.newPosX):l.css2move(l.newPosX)}function r(s){var n,a,o,r=s.originalEvent||s||e.event;r.target=r.target||r.srcElement,d.dragging=!1,l.browser.isTouch!==!0&&l.$owlWrapper.removeClass("grabbing"),l.dragDirection=l.owl.dragDirection=l.newRelativeX<0?"left":"right",0!==l.newRelativeX&&(n=l.getNewPosition(),l.goTo(n,!1,"drag"),d.targetElement===r.target&&l.browser.isTouch!==!0&&(t(r.target).on("click.disable",function(e){e.stopImmediatePropagation(),e.stopPropagation(),e.preventDefault(),t(e.target).off("click.disable")}),a=t._data(r.target,"events").click,o=a.pop(),a.splice(0,0,o))),i("off")}var l=this,d={offsetX:0,offsetY:0,baseElWidth:0,relativePos:0,position:null,minSwipe:null,maxSwipe:null,sliding:null,dargging:null,targetElement:null};l.isCssFinish=!0,l.$elem.on(l.ev_types.start,".owl-wrapper",a)},getNewPosition:function(){var t=this,e=t.closestItem();return e>t.maximumItem?(t.currentItem=t.maximumItem,e=t.maximumItem):t.newPosX>=0&&(e=0,t.currentItem=0),e},closestItem:function(){var e=this,s=e.options.scrollPerPage===!0?e.pagesInArray:e.positionsInArray,n=e.newPosX,i=null;return t.each(s,function(a,o){n-e.itemWidth/20>s[a+1]&&n-e.itemWidth/20<o&&"left"===e.moveDirection()?(i=o,e.currentItem=e.options.scrollPerPage===!0?t.inArray(i,e.positionsInArray):a):n+e.itemWidth/20<o&&n+e.itemWidth/20>(s[a+1]||s[a]-e.itemWidth)&&"right"===e.moveDirection()&&(e.options.scrollPerPage===!0?(i=s[a+1]||s[s.length-1],e.currentItem=t.inArray(i,e.positionsInArray)):(i=s[a+1],e.currentItem=a+1))}),e.currentItem},moveDirection:function(){var t,e=this;return e.newRelativeX<0?(t="right",e.playDirection="next"):(t="left",e.playDirection="prev"),t},customEvents:function(){var t=this;t.$elem.on("owl.next",function(){t.next()}),t.$elem.on("owl.prev",function(){t.prev()}),t.$elem.on("owl.play",function(e,s){t.options.autoPlay=s,t.play(),t.hoverStatus="play"}),t.$elem.on("owl.stop",function(){t.stop(),t.hoverStatus="stop"}),t.$elem.on("owl.goTo",function(e,s){t.goTo(s)}),t.$elem.on("owl.jumpTo",function(e,s){t.jumpTo(s)})},stopOnHover:function(){var t=this;t.options.stopOnHover===!0&&t.browser.isTouch!==!0&&t.options.autoPlay!==!1&&(t.$elem.on("mouseover",function(){t.stop()}),t.$elem.on("mouseout",function(){"stop"!==t.hoverStatus&&t.play()}))},lazyLoad:function(){var e,s,n,i,a,o=this;if(o.options.lazyLoad===!1)return!1;for(e=0;e<o.itemsAmount;e+=1)s=t(o.$owlItems[e]),"loaded"!==s.data("owl-loaded")&&(n=s.data("owl-item"),i=s.find(".lazyOwl"),"string"==typeof i.data("src")?(void 0===s.data("owl-loaded")&&(i.hide(),s.addClass("loading").data("owl-loaded","checked")),a=o.options.lazyFollow!==!0||n>=o.currentItem,a&&n<o.currentItem+o.options.items&&i.length&&o.lazyPreload(s,i)):s.data("owl-loaded","loaded"))},lazyPreload:function(t,s){function n(){t.data("owl-loaded","loaded").removeClass("loading"),s.removeAttr("data-src"),"fade"===o.options.lazyEffect?s.fadeIn(400):s.show(),"function"==typeof o.options.afterLazyLoad&&o.options.afterLazyLoad.apply(this,[o.$elem])}function i(){r+=1,o.completeImg(s.get(0))||a===!0?n():100>=r?e.setTimeout(i,100):n()}var a,o=this,r=0;"DIV"===s.prop("tagName")?(s.css("background-image","url("+s.data("src")+")"),a=!0):s[0].src=s.data("src"),i()},autoHeight:function(){function s(){var s=t(a.$owlItems[a.currentItem]).height();a.wrapperOuter.css("height",s+"px"),a.wrapperOuter.hasClass("autoHeight")||e.setTimeout(function(){a.wrapperOuter.addClass("autoHeight")},0)}function n(){i+=1,a.completeImg(o.get(0))?s():100>=i?e.setTimeout(n,100):a.wrapperOuter.css("height","")}var i,a=this,o=t(a.$owlItems[a.currentItem]).find("img");void 0!==o.get(0)?(i=0,n()):s()},completeImg:function(t){var e;return!!t.complete&&(e=typeof t.naturalWidth,"undefined"===e||0!==t.naturalWidth)},onVisibleItems:function(){var e,s=this;for(s.options.addClassActive===!0&&s.$owlItems.removeClass("active"),s.visibleItems=[],e=s.currentItem;e<s.currentItem+s.options.items;e+=1)s.visibleItems.push(e),s.options.addClassActive===!0&&t(s.$owlItems[e]).addClass("active");s.owl.visibleItems=s.visibleItems},transitionTypes:function(t){var e=this;e.outClass="owl-"+t+"-out",e.inClass="owl-"+t+"-in"},singleItemTransition:function(){function t(t){return{position:"relative",left:t+"px"}}var e=this,s=e.outClass,n=e.inClass,i=e.$owlItems.eq(e.currentItem),a=e.$owlItems.eq(e.prevItem),o=Math.abs(e.positionsInArray[e.currentItem])+e.positionsInArray[e.prevItem],r=Math.abs(e.positionsInArray[e.currentItem])+e.itemWidth/2,l="webkitAnimationEnd oAnimationEnd MSAnimationEnd animationend";e.isTransition=!0,e.$owlWrapper.addClass("owl-origin").css({"-webkit-transform-origin":r+"px","-moz-perspective-origin":r+"px","perspective-origin":r+"px"}),a.css(t(o,10)).addClass(s).on(l,function(){e.endPrev=!0,a.off(l),e.clearTransStyle(a,s)}),i.addClass(n).on(l,function(){e.endCurrent=!0,i.off(l),e.clearTransStyle(i,n)})},clearTransStyle:function(t,e){var s=this;t.css({position:"",left:""}).removeClass(e),s.endPrev&&s.endCurrent&&(s.$owlWrapper.removeClass("owl-origin"),s.endPrev=!1,s.endCurrent=!1,s.isTransition=!1)},owlStatus:function(){var t=this;t.owl={userOptions:t.userOptions,baseElement:t.$elem,userItems:t.$userItems,owlItems:t.$owlItems,currentItem:t.currentItem,prevItem:t.prevItem,visibleItems:t.visibleItems,isTouch:t.browser.isTouch,browser:t.browser,dragDirection:t.dragDirection}},clearEvents:function(){var n=this;n.$elem.off(".owl owl mousedown.disableTextSelect"),t(s).off(".owl owl"),t(e).off("resize",n.resizer)},unWrap:function(){var t=this;0!==t.$elem.children().length&&(t.$owlWrapper.unwrap(),t.$userItems.unwrap().unwrap(),t.owlControls&&t.owlControls.remove()),t.clearEvents(),t.$elem.attr("style",t.$elem.data("owl-originalStyles")||"").attr("class",t.$elem.data("owl-originalClasses"))},destroy:function(){var t=this;t.stop(),e.clearInterval(t.checkVisible),t.unWrap(),t.$elem.removeData()},reinit:function(e){var s=this,n=t.extend({},s.userOptions,e);s.unWrap(),s.init(n,s.$elem)},addItem:function(t,e){var s,n=this;return!!t&&(0===n.$elem.children().length?(n.$elem.append(t),n.setVars(),!1):(n.unWrap(),s=void 0===e||-1===e?-1:e,s>=n.$userItems.length||-1===s?n.$userItems.eq(-1).after(t):n.$userItems.eq(s).before(t),void n.setVars()))},removeItem:function(t){var e,s=this;return 0!==s.$elem.children().length&&(e=void 0===t||-1===t?-1:t,s.unWrap(),s.$userItems.eq(e).remove(),void s.setVars())}};t.fn.owlCarousel=function(e){return this.each(function(){if(t(this).data("owl-init")===!0)return!1;t(this).data("owl-init",!0);var s=Object.create(n);s.init(e,this),t.data(this,"owlCarousel",s)})},t.fn.owlCarousel.options={items:5,itemsCustom:!1,itemsDesktop:[1199,4],itemsDesktopSmall:[979,3],itemsTablet:[768,2],itemsTabletSmall:!1,itemsMobile:[479,1],singleItem:!1,itemsScaleUp:!1,slideSpeed:200,paginationSpeed:800,
rewindSpeed:1e3,autoPlay:!1,stopOnHover:!1,navigation:!1,navigationText:["",""],rewindNav:!0,scrollPerPage:!1,pagination:!0,paginationNumbers:!1,responsive:!0,responsiveRefreshRate:200,responsiveBaseWidth:e,baseClass:"owl-carousel",theme:"owl-theme",lazyLoad:!1,lazyFollow:!0,lazyEffect:"fade",autoHeight:!1,jsonPath:!1,jsonSuccess:!1,dragBeforeAnimFinish:!0,mouseDrag:!0,touchDrag:!0,addClassActive:!1,transitionStyle:!1,beforeUpdate:!1,afterUpdate:!1,beforeInit:!1,afterInit:!1,beforeMove:!1,afterMove:!1,afterAction:!1,startDragging:!1,afterLazyLoad:!1}}(jQuery,window,document),"undefined"==typeof stlib)var stlib={};stlib.functions||(stlib.functions=[],stlib.functionCount=0),stlib.global={},stlib.global.hash=document.location.href.split("#"),stlib.global.hash.shift(),stlib.global.hash=stlib.global.hash.join("#"),stlib.dynamicOn=!0,stlib.debugOn=!1,stlib.debug={count:0,messages:[],debug:function(t,e){e&&"undefined"!=typeof console&&console.log(t),stlib.debug.messages.push(t)},show:function(t){for(message in stlib.debug.messages)"undefined"!=typeof console&&(t?/ERROR/.test(stlib.debug.messages[message])?console.log(stlib.debug.messages[message]):null:console.log(stlib.debug.messages[message]))},showError:function(){stlib.debug.show(!0)}};var _$d=function(t){stlib.debug.debug(t,stlib.debugOn)},_$d0=function(){_$d(" ")},_$d_=function(){_$d("___________________________________________")},_$d1=function(t){_$d(_$dt()+"| "+t)},_$d2=function(t){_$d(_$dt()+"|  * "+t)},_$de=function(t){_$d(_$dt()+"ERROR: "+t)},_$dt=function(){var t=new Date,e=t.getHours(),s=t.getMinutes(),n=t.getSeconds();return e+":"+s+":"+n+" > "};stlib.allServices={adfty:{title:"Adfty"},allvoices:{title:"Allvoices"},amazon_wishlist:{title:"Amazon Wishlist"},arto:{title:"Arto"},att:{title:"AT&T"},baidu:{title:"Baidu"},blinklist:{title:"Blinklist"},blip:{title:"Blip"},blogmarks:{title:"Blogmarks"},blogger:{title:"Blogger",type:"post"},buddymarks:{title:"BuddyMarks"},buffer:{title:"Buffer"},care2:{title:"Care2"},chiq:{title:"chiq"},citeulike:{title:"CiteULike"},chiq:{title:"chiq"},corkboard:{title:"Corkboard"},dealsplus:{title:"Dealspl.us"},delicious:{title:"Delicious"},digg:{title:"Digg"},diigo:{title:"Diigo"},dzone:{title:"DZone"},edmodo:{title:"Edmodo"},email:{title:"Email"},evernote:{title:"Evernote"},facebook:{title:"Facebook"},fark:{title:"Fark"},fashiolista:{title:"Fashiolista"},flipboard:{title:"Flipboard"},folkd:{title:"folkd.com"},foodlve:{title:"FoodLve"},fresqui:{title:"Fresqui"},friendfeed:{title:"FriendFeed"},funp:{title:"Funp"},fwisp:{title:"fwisp"},google:{title:"Google"},googleplus:{title:"Google +"},google_bmarks:{title:"Bookmarks"},google_reader:{title:"Google Reader"},google_translate:{title:"Google Translate"},hatena:{title:"Hatena"},instapaper:{title:"Instapaper"},jumptags:{title:"Jumptags"},kaboodle:{title:"Kaboodle"},linkagogo:{title:"linkaGoGo"},linkedin:{title:"LinkedIn"},livejournal:{title:"LiveJournal",type:"post"},mail_ru:{title:"mail.ru"},meneame:{title:"Meneame"},messenger:{title:"Messenger"},mister_wong:{title:"Mr Wong"},moshare:{title:"moShare"},myspace:{title:"MySpace"},n4g:{title:"N4G"},netlog:{title:"Netlog"},netvouz:{title:"Netvouz"},newsvine:{title:"Newsvine"},nujij:{title:"NUjij"},odnoklassniki:{title:"Odnoklassniki"},oknotizie:{title:"Oknotizie"},pinterest:{title:"Pinterest"},pocket:{title:"Pocket"},print:{title:"Print"},raise_your_voice:{title:"Raise Your Voice"},reddit:{title:"Reddit"},segnalo:{title:"Segnalo"},sharethis:{title:"ShareThis"},sina:{title:"Sina"},sonico:{title:"Sonico"},startaid:{title:"Startaid"},startlap:{title:"Startlap"},stumbleupon:{title:"StumbleUpon"},stumpedia:{title:"Stumpedia"},typepad:{title:"TypePad",type:"post"},tumblr:{title:"Tumblr"},twitter:{title:"Twitter"},viadeo:{title:"Viadeo"},virb:{title:"Virb"},vkontakte:{title:"Vkontakte"},voxopolis:{title:"VOXopolis"},whatsapp:{title:"WhatsApp"},weheartit:{title:"We Heart It"},wordpress:{title:"WordPress",type:"post"},xerpi:{title:"Xerpi"},xing:{title:"Xing"},yammer:{title:"Yammer"}},stlib.allOauthServices={twitter:{title:"Twitter"},linkedIn:{title:"LinkedIn"},facebook:{title:"Facebook"}},stlib.allNativeServices={fblike:{title:"Facebook Like"},fbrec:{title:"Facebook Recommend"},fbsend:{title:"Facebook Send"},fbsub:{title:"Facebook Subscribe"},foursquaresave:{title:"Foursquare Save"},foursquarefollow:{title:"Foursquare Follow"},instagram:{title:"Instagram Badge"},plusone:{title:"Google +1"},pinterestfollow:{title:"Pinterest Follow"},twitterfollow:{title:"Twitter Follow"},youtube:{title:"Youtube Subscribe"}},stlib.allDeprecatedServices={google_bmarks:{title:"Google Bookmarks"},yahoo_bmarks:{title:"Yahoo Bookmarks"}},stlib.allOtherServices={copy:{title:"Copy Paste"},sharenow:{title:"ShareNow"},sharenow_auto:{title:"Frictionless Sharing"},fbunlike:{title:"Facebook Unlike"}};var _all_services=stlib.allServices;stlib.buttonInfo={buttonList:[],addButton:function(t){stlib.buttonInfo.buttonList.push(t)},getButton:function(t){if(!isNaN(t))return!(t>=stlib.buttonInfo.buttonList.length)&&stlib.buttonInfo.buttonList[t];for(c=0;c<stlib.buttonInfo.buttonList.length;c++)stlib.buttonInfo.buttonList[c].service==t&&debug(stlib.buttonInfo.buttonList[c])},clickButton:function(t){if(isNaN(t)){for(c=0;c<stlib.buttonInfo.buttonList.length;c++)if(stlib.buttonInfo.buttonList[c].service==t){if("sharethis"==stlib.buttonInfo.getButton(c).service||"email"==stlib.buttonInfo.getButton(c).service||"wordpress"==stlib.buttonInfo.getButton(c).service)return stlib.buttonInfo.getButton(c).popup(),!0;stlib.buttonInfo.getButton(c).element.childNodes[0].onclick()}}else{if(t>=stlib.buttonInfo.buttonList.length)return!1;"sharethis"==stlib.buttonInfo.getButton(t).service||"email"==stlib.buttonInfo.getButton(t).service||"wordpress"==stlib.buttonInfo.getButton(t).service?stlib.buttonInfo.getButton(t).popup():stlib.buttonInfo.getButton(t).element.childNodes[0].onclick()}},resetButton:function(){stlib.buttonInfo.buttonList=[]},listButton:function(){for(c=0;c<stlib.buttonInfo.buttonList.length;c++)debug(stlib.buttonInfo.buttonList[c])}},stlib.buttonInfo.resetButton(),stlib.messageQueue=function(){var t=this;this.pumpInstance=null,this.queue=[],this.dependencies=["data"],this.sending=!0,this.setPumpInstance=function(t){this.pumpInstance=t},this.send=function(e,s){if("string"==typeof e&&"string"==typeof s&&(_$d_(),_$d1("Queueing message: "+s+": "+e)),"string"==typeof e&&"string"==typeof s?this.queue.push([s,e]):null,0==this.sending||stlib.browser.ieFallback)if(null!=this.pumpInstance){if(this.dependencies.length>0){for(messageSet in this.queue)if(this.queue.hasOwnProperty(messageSet)&&this.queue[messageSet][0]==this.dependencies[0]&&this.queue.length>0){_$d1("Current Queue Length: "+this.queue.length);var n=this.queue.shift();this.pumpInstance.broadcastSendMessage(n[1]),this.dependencies.shift(),this.sending=!0}}else if(this.queue.length>0){_$d1("Current Queue Length: "+this.queue.length);var n=this.queue.shift();this.pumpInstance.broadcastSendMessage(n[1]),this.sending=!0}}else _$d_(),_$d1("Pump is null");if(stlib.browser.ieFallback&&this.queue.length>0){var i="process"+stlib.functionCount;stlib.functionCount++,stlib.functions[i]=t.process,setTimeout("stlib.functions['"+i+"']()",500)}},this.process=function(){_$d1("Processing MessageQueue"),t.sending=!1,_$d(this.queue),t.send()}},stlib.sharer={sharerUrl:("https:"==document.location.protocol?"https://ws.":"http://wd.")+"sharethis.com/api/sharer.php",regAuto:new RegExp(/(.*?)_auto$/),constructParamString:function(){stlib.data.validate(),stlib.hash.checkURL();var t,e=stlib.data.pageInfo,s="?";for(t in e)s+=t+"="+encodeURIComponent(e[t])+"&",_$d1("constructParamStringPageInfo: "+t+": "+e[t]);e=stlib.data.shareInfo;for(t in e)s+=t+"="+encodeURIComponent(e[t])+"&",_$d1("constructParamStringShareInfo: "+t+": "+e[t]);return s+="ts="+(new Date).getTime()+"&",s.substring(0,s.length-1)},stPrint:function(){window.print()},sharePinterest:function(){if(0==stlib.data.get("image","shareInfo")||null==stlib.data.get("image","shareInfo")||"true"==stlib.data.get("pinterest_native","shareInfo")){"undefined"!=typeof stWidget&&"function"==typeof stWidget.closeWidget&&stWidget.closeWidget(),"function"==typeof stcloseWidget&&stcloseWidget(),"undefined"!=typeof stToolbar&&"function"==typeof stToolbar.closeWidget&&stToolbar.closeWidget();var t=document.createElement("script");t.setAttribute("type","text/javascript"),t.setAttribute("charset","UTF-8"),t.setAttribute("src","//assets.pinterest.com/js/pinmarklet.js?r="+99999999*Math.random()),document.body.appendChild(t)}},share:function(t,e){var s=stlib.sharer.constructParamString();if(_$d_(),_$d1("Initiating a Share with the following url:"),_$d2(stlib.sharer.sharerUrl+s),"print"==stlib.data.get("destination","shareInfo")||"email"==stlib.data.get("destination","shareInfo")||"pinterest"==stlib.data.get("destination","shareInfo")&&null==stlib.data.get("source","shareInfo").match(/share4xmobile/)&&null==stlib.data.get("source","shareInfo").match(/share4xpage/)&&null==stlib.data.get("source","shareInfo").match(/5xpage/)&&(0==stlib.data.get("image","shareInfo")||null==stlib.data.get("image","shareInfo"))||"snapsets"==stlib.data.get("destination","shareInfo")||"copy"==stlib.data.get("destination","shareInfo")||"plusone"==stlib.data.get("destination","shareInfo")||stlib.data.get("destination","shareInfo").match(stlib.sharer.regAuto)||"undefined"!=typeof stlib.nativeButtons&&stlib.nativeButtons.checkNativeButtonSupport(stlib.data.get("destination","shareInfo"))||0!=stlib.data.get("pinterest_native","shareInfo")&&null!=stlib.data.get("pinterest_native","shareInfo")){var n=new Image(1,1);n.src=stlib.sharer.sharerUrl+s,n.onload=function(){}}else"undefined"!=typeof e&&1==e?window.open(stlib.sharer.sharerUrl+s,(new Date).valueOf(),"scrollbars=1, status=1, height=480, width=640, resizable=1"):window.open(stlib.sharer.sharerUrl+s);t?t():null}},stlib.browser={iemode:null,firefox:null,firefoxVersion:null,safari:null,chrome:null,opera:null,windows:null,mac:null,ieFallback:/MSIE [6789]/.test(navigator.userAgent),init:function(){var t=navigator.userAgent.toString().toLowerCase();/msie|trident/i.test(t)&&(document.documentMode?stlib.browser.iemode=document.documentMode:(stlib.browser.iemode=5,document.compatMode&&"CSS1Compat"==document.compatMode&&(stlib.browser.iemode=7))),stlib.browser.firefox=t.indexOf("firefox")!=-1&&"undefined"!=typeof InstallTrigger,stlib.browser.firefoxVersion=t.indexOf("firefox/5.0")==-1&&t.indexOf("firefox/9.0")==-1,stlib.browser.safari=t.indexOf("safari")!=-1&&t.indexOf("chrome")==-1,stlib.browser.chrome=t.indexOf("safari")!=-1&&t.indexOf("chrome")!=-1,stlib.browser.opera=!!(window.opera||t.indexOf(" opr/")>=0),stlib.browser.windows=t.indexOf("windows")!=-1,stlib.browser.mac=t.indexOf("macintosh")!=-1},getIEVersion:function(){return stlib.browser.iemode},isFirefox:function(){return stlib.browser.firefox},firefox8Version:function(){return stlib.browser.firefoxVersion},isSafari:function(){return stlib.browser.safari},isWindows:function(){return stlib.browser.windows},isChrome:function(){return stlib.browser.chrome},isOpera:function(){return stlib.browser.opera},isMac:function(){return stlib.browser.mac}},stlib.browser.init(),stlib.browser.mobile={mobile:!1,uagent:null,android:null,iOs:null,silk:null,windows:null,kindle:null,isExcerptImplementation:!1,iOsVer:0,init:function(){this.uagent=navigator.userAgent.toLowerCase(),this.isAndroid()?this.mobile=!0:this.isIOs()?this.mobile=!0:this.isSilk()?this.mobile=!0:this.isWindowsPhone()?this.mobile=!0:this.isKindle()&&(this.mobile=!0)},isMobile:function(){return this.mobile},isAndroid:function(){return null===this.android&&(this.android=this.uagent.indexOf("android")>-1),this.android},isKindle:function(){return null===this.kindle&&(this.kindle=this.uagent.indexOf("kindle")>-1),this.kindle},isIOs:function(){return null===this.iOs&&(this.iOs=this.uagent.indexOf("ipad")>-1||this.uagent.indexOf("ipod")>-1||this.uagent.indexOf("iphone")>-1),this.iOs},isSilk:function(){return null===this.silk&&(this.silk=this.uagent.indexOf("silk")>-1),this.silk},getIOSVersion:function(){return this.isIOs()&&(this.iOsVer=this.uagent.substr(this.uagent.indexOf("os ")+3,5).replace(/\_/g,".")),this.iOsVer},isWindowsPhone:function(){return null===this.windows&&(this.windows=this.uagent.indexOf("windows phone")>-1),this.windows},handleForMobileFriendly:function(t,e,s){if(!this.isMobile())return!1;"undefined"==typeof stLight&&(stLight={},stLight.publisher=e.publisher,stLight.sessionID=e.sessionID,stLight.fpc="");var n="undefined"!=typeof t.title?t.title:encodeURIComponent(document.title),i="undefined"!=typeof t.url?t.url:document.URL,a=""!=e.short_url&&null!=e.short_url?e.short_url:"";if("sharethis"==e.service){var n="undefined"!=typeof t.title?t.title:encodeURIComponent(document.title),i="undefined"!=typeof t.url?t.url:document.URL,o="";"undefined"!=typeof t.summary&&null!=t.summary&&(o=t.summary);var r=document.createElement("form");r.setAttribute("method","GET"),r.setAttribute("action","http://edge.sharethis.com/share4x/mobile.html"),r.setAttribute("target","_blank");var l={url:i,title:n,summary:o,destination:e.service,publisher:stLight.publisher,fpc:stLight.fpc,sessionID:stLight.sessionID,short_url:a};"undefined"!=typeof t.image&&null!=t.image&&(l.image=t.image),"undefined"!=typeof t.summary&&null!=t.summary&&(l.desc=t.summary),"undefined"!=typeof s&&"undefined"!=typeof s.exclusive_services&&null!=s.exclusive_services&&(l.exclusive_services=s.exclusive_services),"undefined"!=typeof e.exclusive_services&&null!=e.exclusive_services&&(l.exclusive_services=e.exclusive_services),"undefined"!=typeof s&&"undefined"!=typeof s.services&&null!=s.services&&(l.services=s.services),"undefined"!=typeof e.services&&null!=e.services&&(l.services=e.services);var d=e;if("undefined"!=typeof s&&(d=s),"undefined"!=typeof d.doNotHash&&null!=d.doNotHash&&(l.doNotHash=d.doNotHash),"undefined"!=typeof t.via&&null!=t.via&&(l.via=t.via),l.service=e.service,l.type=e.type,stlib.data){var c=stlib.json.encode(stlib.data.pageInfo),u=stlib.json.encode(stlib.data.shareInfo);stlib.browser.isFirefox()&&!stlib.browser.firefox8Version()?(c=encodeURIComponent(encodeURIComponent(c)),u=encodeURIComponent(encodeURIComponent(u))):(c=encodeURIComponent(c),u=encodeURIComponent(u)),l.pageInfo=c,l.shareInfo=u}for(var p in l){var m=document.createElement("input");m.setAttribute("type","hidden"),m.setAttribute("name",p),m.setAttribute("value",l[p]),r.appendChild(m)}return document.body.appendChild(r),r.submit(),!0}if("email"==e.service){var h=""!=a?a+"%0A%0a":i+"%0A%0a";"undefined"!=typeof t.summary&&null!=t.summary&&(h+=t.summary+"%0A%0a"),h+="Sent using ShareThis";var g="mailto:?";return g+="subject="+n,g+="&body="+h,window.location.href=g,!0}return!1}},stlib.browser.mobile.init();var tpcCookiesEnableCheckingDone=!1,tpcCookiesEnabledStatus=!0;stlib.cookie={setCookie:function(t,e,s){var n=navigator.userAgent.indexOf("Safari")!=-1&&navigator.userAgent.indexOf("Chrome")==-1,i=navigator.userAgent.indexOf("MSIE")!=-1;if(n||i){var a=s?24*s*60*60:0,o=document.createElement("div");o.setAttribute("id",t),o.setAttribute("type","hidden"),document.body.appendChild(o);var r=document.getElementById(t),l=document.createElement("form");try{var d=document.createElement('<iframe name="'+t+'" ></iframe>')}catch(c){d=document.createElement("iframe")}d.name=t,d.src="javascript:false",d.style.display="none",r.appendChild(d),l.action=("https:"==document.location.protocol?"https://sharethis.com/":"http://sharethis.com/")+"account/setCookie.php",l.method="POST";var u=document.createElement("input");u.setAttribute("type","hidden"),u.setAttribute("name","name"),u.setAttribute("value",t),l.appendChild(u);var p=document.createElement("input");p.setAttribute("type","hidden"),p.setAttribute("name","value"),p.setAttribute("value",e),l.appendChild(p);var m=document.createElement("input");m.setAttribute("type","hidden"),m.setAttribute("name","time"),m.setAttribute("value",a),l.appendChild(m),l.target=t,r.appendChild(l),l.submit()}else{if(s){var h=new Date;h.setTime(h.getTime()+24*s*60*60*1e3);var g="; expires="+h.toGMTString()}else var g="";var f=t+"="+escape(e)+g;f+="; domain="+escape(".sharethis.com")+";path=/",document.cookie=f}},setTempCookie:function(t,e,s){if(s){var n=new Date;n.setTime(n.getTime()+24*s*60*60*1e3);var i="; expires="+n.toGMTString()}else var i="";var a=t+"="+escape(e)+i;a+="; domain="+escape(".sharethis.com")+";path=/",document.cookie=a},getCookie:function(t){var e=document.cookie.match("(^|;) ?"+t+"=([^;]*)(;|$)");return!!e&&unescape(e[2])},deleteCookie:function(t){var e="/",s=".sharethis.com";document.cookie=t.replace(/^\s+|\s+$/g,"")+"="+(e?";path="+e:"")+(s?";domain="+s:"")+";expires=Thu, 01-Jan-1970 00:00:01 GMT";var n=navigator.userAgent.indexOf("Safari")!=-1&&navigator.userAgent.indexOf("Chrome")==-1,i=navigator.userAgent.indexOf("MSIE")!=-1;if(n||i){var a=document.createElement("div");a.setAttribute("id",t),a.setAttribute("type","hidden"),document.body.appendChild(a);var o=document.getElementById(t),r=document.createElement("form");try{var l=document.createElement('<iframe name="'+t+'" ></iframe>')}catch(d){l=document.createElement("iframe")}l.name=t,l.src="javascript:false",l.style.display="none",o.appendChild(l),r.action=("https:"==document.location.protocol?"https://sharethis.com/":"http://sharethis.com/")+"account/deleteCookie.php",r.method="POST";var c=document.createElement("input");c.setAttribute("type","hidden"),c.setAttribute("name","name"),c.setAttribute("value",t),r.appendChild(c),r.target=t,o.appendChild(r),r.submit()}},deleteAllSTCookie:function(){var t=document.cookie;t=t.split(";");for(var e=0;e<t.length;e++){var s=t[e];if(s=s.split("="),!/st_optout/.test(s[0])){var n=s[0],i="/",a=".edge.sharethis.com";document.cookie=n+"=;path="+i+";domain="+a+";expires=Thu, 01-Jan-1970 00:00:01 GMT"}}},setFpcCookie:function(t,e){var s=new Date,n=s.getFullYear(),i=s.getMonth()+9,a=s.getDate(),o=t+"="+escape(e);if(n){var r=new Date(n,i,a);o+="; expires="+r.toGMTString()}var l=stlib.cookie.getDomain();o+="; domain="+escape(l)+";path=/",document.cookie=o},getFpcCookie:function(t){var e=document.cookie.match("(^|;) ?"+t+"=([^;]*)(;|$)");return!!e&&unescape(e[2])},getDomain:function(){var t=document.domain.split(/\./),e="";return t.length>1&&(e="."+t[t.length-2]+"."+t[t.length-1]),e},checkCookiesEnabled:function(){return tpcCookiesEnableCheckingDone?tpcCookiesEnabledStatus:(stlib.cookie.setTempCookie("STPC","yes",1),tpcCookiesEnabledStatus="yes"==stlib.cookie.getCookie("STPC"),tpcCookiesEnableCheckingDone=!0,tpcCookiesEnabledStatus)},hasLocalStorage:function(){try{return localStorage.setItem("stStorage","yes"),localStorage.removeItem("stStorage"),!0}catch(t){return!1}}},stlib.fpc={cookieName:"__unam",cookieValue:"",createFpc:function(){if(!document.domain||document.domain.search(/\.gov/)>0)return!1;var t=stlib.cookie.getFpcCookie(stlib.fpc.cookieName);if(0==t){var e=Math.round(2147483647*Math.random());e=e.toString(16);var s=(new Date).getTime();s=s.toString(16);var n=window.location.hostname.split(/\./)[1];if(!n)return!1;var i="";i=stlib.fpc.determineHash(n)+"-"+s+"-"+e+"-1",t=i}else{var a=t,o=a.split(/\-/);if(4==o.length){var r=Number(o[3]);r++,t=o[0]+"-"+o[1]+"-"+o[2]+"-"+r}}return stlib.cookie.setFpcCookie(stlib.fpc.cookieName,t),stlib.fpc.cookieValue=t,t},determineHash:function(t){for(var e=0,s=0,n=t.length-1;n>=0;n--){var i=parseInt(t.charCodeAt(n));e=(e<<8&268435455)+i+(i<<12),0!=(s=161119850&e)&&(e^=s>>20)}return e.toString(16)}},stlib.validate={regexes:{notEncoded:/(%[^0-7])|(%[0-7][^0-9a-f])|["{}\[\]\<\>\\\^`\|]/gi,tooEncoded:/%25([0-7][0-9a-f])/gi,publisher:/^(([a-z]{2}(-|\.))|)[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i,url:/^(http|https):\/\/([a-z0-9!'\(\)\*\.\-\+:]*(\.)[a-z0-9!'\(\)\*\.\-\+:]*)((\/[a-z0-9!'\(\)\*\.\-\+:]*)*)/i,fpc:/^[0-9a-f]{7}-[0-9a-f]{11}-[0-9a-f]{7,8}-[0-9]*$/i,sessionID:/^[0-9]*\.[0-9a-f]*$/i,title:/.*/,description:/.*/,buttonType:/^(chicklet|vcount|hcount|large|custom|button|)$/,comment:/.*/,destination:/.*/,source:/.*/,image:/(^(http|https):\/\/([a-z0-9!'\(\)\*\.\-\+:]*(\.)[a-z0-9!'\(\)\*\.\-\+:]*)((\/[a-z0-9!'\(\)\*\.\-\+:]*)*))|^$/i,sourceURL:/^(http|https):\/\/([a-z0-9!'\(\)\*\.\-\+:]*(\.)[a-z0-9!'\(\)\*\.\-\+:]*)((\/[a-z0-9!'\(\)\*\.\-\+:]*)*)/i,sharURL:/(^(http|https):\/\/([a-z0-9!'\(\)\*\.\-\+:]*(\.)[a-z0-9!'\(\)\*\.\-\+:]*)((\/[a-z0-9!'\(\)\*\.\-\+:]*)*))|^$/i}},stlib.html={encode:function(t){return stlib.html.startsWith(t,"http")?String(t).replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):String(t).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},startsWith:function(t,e){return t.match("^"+e)==e}},stlib.stfp={screenResolutionDepthHash:"ERROR",pluginsListHash:"ERROR",fontsListHash:"ERROR",timezoneoffsetHash:"ERROR",checkIEPlugins:["ShockwaveFlash.ShockwaveFlash","AcroPDF.PDF","PDF.PdfCtrl","QuickTime.QuickTime","rmocx.RealPlayer G2 Control","rmocx.RealPlayer G2 Control.1","RealPlayer.RealPlayer(tm) ActiveX Control (32-bit)","RealVideo.RealVideo(tm) ActiveX Control (32-bit)","RealPlayer","SWCtl.SWCtl","WMPlayer.OCX","AgControl.AgControl","Skype.Detection"],getPluginsHash:function(){var t="";if(null!=stlib.browser.getIEVersion())for(var e=0;e<stlib.stfp.checkIEPlugins.length;e++)try{new ActiveXObject(stlib.stfp.checkIEPlugins[e]),t+=stlib.stfp.checkIEPlugins[e]+":"}catch(s){}if((null==stlib.browser.getIEVersion()||stlib.browser.getIEVersion()>=11)&&!("undefined"==typeof navigator&&null==navigator||"undefined"==typeof navigator.plugins&&null==navigator.plugins))for(var e=0;e<navigator.plugins.length;e++)t+=navigator.plugins[e].name+":";_$d1("PluginList: "+t),t.length>0&&(stlib.stfp.pluginsListHash=stlib.stfp.getFpHash(t))},getResolutionDepthHash:function(){screen&&(_$d1("Resolution: "+("undefined"!=typeof screen.width?screen.width:"NA")+":"+("undefined"!=typeof screen.height?screen.height:"NA")+":"+("undefined"!=typeof screen.colorDepth?screen.colorDepth:"NA")),stlib.stfp.screenResolutionDepthHash=stlib.stfp.getFpHash(("undefined"!=typeof screen.width?screen.width:"NA")+":"+("undefined"!=typeof screen.height?screen.height:"NA")+":"+("undefined"!=typeof screen.colorDepth?screen.colorDepth:"NA")))},getTimezoneOffsetHash:function(){var t=new Date,e=t.getTimezoneOffset();_$d1("Timezoneoffset: "+e),stlib.stfp.timezoneoffsetHash=stlib.stfp.getFpHash(e.toString())},getFontsHash:function(){var t=!1,e=document,s=e.createElement("iframe");s.id="st_ifr",s.style.width="0px",s.style.height="0px",s.src="about:blank";var n=stlib.browser.isChrome(),i='<html><head><title>st_bf</title><script type="text/javascript">var stlib1={};stlib1.stfp={fontStr:"",fontsListHash:"ERROR",checkFonts:["Aharoni","algerian","Andalus","\'Angsana New\'","\'Apple Symbols\'","\'Arabic Typesetting\'","Arial","\'Baskerville Old Face\'","Batang","BatangChe","\'Bell MT\'","\'Berlin Sans FB\'","\'Bitstream Charter\'","\'Book Antiqua\'","\'Bookman Old Style\'","\'Bradley Hand ITC\'","Calibri","\'Californian FB\'","\'Cambria Math\'","\'Century Schoolbook\'","\'Century Schoolbook L\'","Charter","\'colonna mt\'","Consolas","Corbel","\'Cordia New\'","Courier","cursive","David","default","DFKai-SB","DilleniaUPC","DotumChe","Ebrima","\'Estrangelo Edessa\'","fantasy","FrankRuehl","Garamond","Gentium","Gungsuh","GungsuhChe","Haettenschweiler","\'Heiti TC\'","\'High Tower Text\'","\'Informal Roman\'","IrisUPC","\'Juice ITC\'","KaiTi","Kalinga","Kartika","Kokonor","Leelawadee","\'Liberation Mono\'","\'Liberation Sans\'","Loma","Magneto","\'Malgun Gothic\'","\'matura mt script capitals\'","\'Microsoft Himalaya\'","\'Microsoft JhengHei\'","\'Microsoft Sans Serif\'","\'Microsoft Uighur\'","\'Microsoft YaHei\'","\'Microsoft Yi Baiti\'","MingLiU","Mistral","Modena","\'Mongolian Baiti\'","\'Monotype Corsiva\'","\'MS Mincho\'","\'MS Outlook\'","\'MS PGothic\'","\'MS PMincho\'","\'MT Extra\'","\'Nimbus Mono L\'","\'Nimbus Sans L\'","NSimSun","Optima","Papyrus","PMingLiU-ExtB","Saab","\'Segoe Print\'","\'Segoe Script\'","\'Showcard Gothic\'","SimHei","\'Simplified Arabic\'","\'Simplified Arabic Fixed\'","SimSun","SimSun-ExtB","Tahoma","\'Traditional Arabic\'","Tunga","Ubuntu","\'URW Gothic L\'","\'URW Palladio L\'","Utopia","Verona","\'Viner Hand ITC\'","Vrinda","webdings","\'wide latin\'","Zapfino"],checkFontsLength:0,baseFonts:["monospace","sans-serif","serif"],baseFontsLength:0,testString:"mmmmmmmmmmlli",testSize:"72px",s:document.createElement("span"),sty:document.createElement("style"),hd:document.head||document.getElementsByTagName("head")[0],defaultWidth:{},defaultHeight:{},';i+=n?"checkFontForCrome:function(checkFontIndex){var detected = false;var checkElement;for(var baseFontIndex=0;baseFontIndex<stlib1.stfp.baseFontsLength;baseFontIndex++){checkElement = document.getElementById(\"st_check_fonts_\" + checkFontIndex + \"_\" + baseFontIndex);var matched = checkElement.offsetWidth!=stlib1.stfp.defaultWidth[baseFontIndex]||checkElement.offsetHeight!=stlib1.stfp.defaultHeight[baseFontIndex];detected = detected || matched;}return detected;},createFragments:function(){var span, fragment = document.createDocumentFragment();var doc = document;var d = doc.createElement('div');d.className = 'st_fontDetect';var baseFontName, checkFontName, baseElement, checkElement;for(var baseFontIndex=0;baseFontIndex<stlib1.stfp.baseFontsLength;baseFontIndex++){baseFontName = stlib1.stfp.baseFonts[baseFontIndex];baseElement = document.createElement('span');baseElement.style.fontFamily=baseFontName;baseElement.id = \"st_base_fonts_\" + baseFontIndex;baseElement.innerHTML = stlib1.stfp.testString;baseElement.style.fontSize = stlib1.stfp.testSize;fragment.appendChild(baseElement);}for(var checkFontIndex=0;checkFontIndex<stlib1.stfp.checkFontsLength;checkFontIndex++){checkFontName = stlib1.stfp.checkFonts[checkFontIndex];for(var baseFontIndex=0;baseFontIndex<stlib1.stfp.baseFontsLength;baseFontIndex++){baseFontName = stlib1.stfp.baseFonts[baseFontIndex];checkElement = document.createElement('span');checkElement.style.fontFamily= checkFontName + ',' + baseFontName;checkElement.id = \"st_check_fonts_\" + checkFontIndex + \"_\" + baseFontIndex;checkElement.innerHTML = stlib1.stfp.testString;checkElement.style.fontSize = stlib1.stfp.testSize;fragment.appendChild(checkElement);}}d.appendChild(fragment);doc.body.appendChild(d);},":'checkFont:function(font){var detected = false;for(var baseFontIndex=0;baseFontIndex<stlib1.stfp.baseFontsLength;baseFontIndex++){stlib1.stfp.s.style.fontFamily = font +"," + stlib1.stfp.baseFonts[baseFontIndex];var matched = stlib1.stfp.s.offsetWidth!=stlib1.stfp.defaultWidth[stlib1.stfp.baseFonts[baseFontIndex]]||stlib1.stfp.s.offsetHeight!=stlib1.stfp.defaultHeight[stlib1.stfp.baseFonts[baseFontIndex]];detected = detected || matched;}return detected;},',i+='createStyle:function(){var css =".st_fontDetect{display:inline !important}";stlib1.stfp.sty.type="text/css";stlib1.stfp.sty.id="st_style";if(stlib1.stfp.sty.styleSheet){stlib1.stfp.sty.styleSheet.cssText = css;}else{stlib1.stfp.sty.appendChild(document.createTextNode(css))}stlib1.stfp.hd.appendChild(stlib1.stfp.sty)},getFontsHash:function(){var isBodyStyleSet = false;stlib1.stfp.s.className="st_fontDetect";stlib1.stfp.createStyle();stlib1.stfp.s.style.fontSize=stlib1.stfp.testSize;stlib1.stfp.s.innerHTML=stlib1.stfp.testString;stlib1.stfp.baseFontsLength = stlib1.stfp.baseFonts.length;stlib1.stfp.checkFontsLength = stlib1.stfp.checkFonts.length;var bodyDisplay = null;var bodyVisibility = null;if(document.body.style.display==="none"){isBodyStyleSet = true;bodyDisplay = document.body.style.display;bodyVisibility = document.body.style.visibility;document.body.style.display="block";document.body.style.visibility="hidden";}',i+=n?"stlib1.stfp.createFragments();stlib1.stfp.defaultWidth[0] = document.getElementById('st_base_fonts_0').offsetWidth;stlib1.stfp.defaultHeight[0] = document.getElementById('st_base_fonts_0').offsetHeight;stlib1.stfp.defaultWidth[1] = document.getElementById('st_base_fonts_1').offsetWidth;stlib1.stfp.defaultHeight[1] = document.getElementById('st_base_fonts_1').offsetHeight;stlib1.stfp.defaultWidth[2] = document.getElementById('st_base_fonts_2').offsetWidth;stlib1.stfp.defaultHeight[2] = document.getElementById('st_base_fonts_2').offsetHeight;for(var checkFontIndex=0;checkFontIndex<stlib1.stfp.checkFontsLength;checkFontIndex++){var tempCheckFontName = stlib1.stfp.checkFonts[checkFontIndex];if(stlib1.stfp.checkFontForCrome(checkFontIndex)){stlib1.stfp.fontStr += tempCheckFontName +\":\";}}":'for(var baseFontIndex=0;baseFontIndex<stlib1.stfp.baseFontsLength;baseFontIndex++){var tempBaseFontName = stlib1.stfp.baseFonts[baseFontIndex];stlib1.stfp.s.style.fontFamily = tempBaseFontName;document.body.appendChild(stlib1.stfp.s);stlib1.stfp.defaultWidth[tempBaseFontName]=stlib1.stfp.s.offsetWidth;stlib1.stfp.defaultHeight[tempBaseFontName]=stlib1.stfp.s.offsetHeight;document.body.removeChild(stlib1.stfp.s)}stlib1.stfp.s.style.fontFamily="st_font";document.body.appendChild(stlib1.stfp.s);for(var checkFontIndex=0;checkFontIndex<stlib1.stfp.checkFontsLength;checkFontIndex++){var tempCheckFontName = stlib1.stfp.checkFonts[checkFontIndex];if(stlib1.stfp.checkFont(tempCheckFontName)){stlib1.stfp.fontStr += tempCheckFontName +":"}}var sheet = document.getElementById("st_style");sheet.parentNode.removeChild(sheet);document.body.removeChild(stlib1.stfp.s);',i+='if(isBodyStyleSet){document.body.style.display = bodyDisplay;document.body.style.visibility = bodyVisibility;}}};</script></head><body id="st_ifr"><div><script type="text/javascript">stlib1.stfp.getFontsHash();</script></div></body></html>',e.body.appendChild(s);try{s.contentWindow.document.open("text/html","replace")}catch(a){null!=stlib.browser.getIEVersion()&&stlib.browser.getIEVersion()<11&&a.message.match(/denied/g)&&(e.body.removeChild(s),t=!0)}t||(s.contentWindow.document.write(i),s.contentWindow.document.close(),_$d1("FontList: "+document.getElementById("st_ifr").contentWindow.stlib1.stfp.fontStr),stlib.stfp.fontsListHash=stlib.stfp.getFpHash(document.getElementById("st_ifr").contentWindow.stlib1.stfp.fontStr),e.body.removeChild(s))},init:function(){stlib.stfp.getFontsHash(),stlib.stfp.getPluginsHash(),stlib.stfp.getResolutionDepthHash(),stlib.stfp.getTimezoneOffsetHash()},getFpHash:function(t){for(var e=0,s=0,n=t.length-1;n>=0;n--){var i=parseInt(t.charCodeAt(n));e=(e<<8&268435455)+i+(i<<12),0!=(s=161119850&e)&&(e^=s>>20)}return e.toString(16)}},"undefined"==typeof stlib.data&&(stlib.data={bInit:!1,publisherKeySet:!1,pageInfo:{},shareInfo:{},resetPageData:function(){stlib.data.pageInfo.fpc="ERROR",stlib.data.pageInfo.sessionID="ERROR",stlib.data.pageInfo.hostname="ERROR",stlib.data.pageInfo.location="ERROR"},resetShareData:function(){stlib.data.shareInfo={},stlib.data.shareInfo.url="ERROR",stlib.data.shareInfo.sharURL="",stlib.data.shareInfo.buttonType="ERROR",stlib.data.shareInfo.destination="ERROR",stlib.data.shareInfo.source="ERROR"},resetData:function(){stlib.data.resetPageData(),stlib.data.resetShareData()},validate:function(){function t(t,e){e!=encodeURIComponent(e)&&(s.notEncoded.test(e)?_$de(t+" not encoded"):null,s.tooEncoded.test(e)?_$de(t+" has too much encoding"):null);var n=!s[t]||s[t].test(decodeURIComponent(e));n||_$de(t+" failed validation")}var e,s=stlib.validate.regexes,n=stlib.data.pageInfo;for(e in n)t(e,n[e]);n=stlib.data.shareInfo;for(e in n)t(e,n[e])},init:function(){if(!stlib.data.bInit){stlib.data.bInit=!0,stlib.data.resetData(),stlib.data.set("url",document.location.href,"shareInfo");var t="";stlib.hash.init(),stlib.data.set("shareHash",stlib.hash.shareHash,"pageInfo"),stlib.data.set("incomingHash",stlib.hash.incomingHash,"pageInfo"),stlib.hash.doNotHash||(t="#"+stlib.data.get("shareHash","pageInfo"));var e=stlib.hash.updateParams();stlib.data.set("url",e+t,"shareInfo"),1!=stlib.data.publisherKeySet&&stlib.data.set("publisher","ur.00000000-0000-0000-0000-000000000000","pageInfo"),
stlib.fpc.createFpc(),stlib.data.set("fpc",stlib.fpc.cookieValue,"pageInfo");var s=(new Date).getTime().toString(),n=Number(Math.random().toPrecision(5).toString().substr(2)).toString();stlib.data.set("sessionID",s+"."+n,"pageInfo"),stlib.data.set("hostname",document.location.hostname,"pageInfo"),stlib.data.set("location",document.location.pathname,"pageInfo");var i=document.referrer,a=i.replace("http://","").replace("https://","").split("/"),o=a.shift(),r=a.join("/");stlib.data.set("refDomain",o,"pageInfo"),stlib.data.set("refQuery",r,"pageInfo")}},setPublisher:function(t){stlib.data.set("publisher",t,"pageInfo"),stlib.data.publisherKeySet=!0},setSource:function(t,e){var s="";s=e?e.toolbar?"toolbar"+t:e.page&&"home"!=e.page&&""!=e.page?"chicklet"+t:"button"+t:t,stlib.data.set("source",s,"shareInfo")},set:function(t,e,s){if(_$d_(),_$d1("Setting: "+t+": "+e),"number"==typeof e||"boolean"==typeof e)stlib.data[s][t]=e;else if("undefined"==typeof e||null==e)_$d1("Value undefined or null");else if(stlib.data[s][t]=encodeURIComponent(decodeURIComponent(unescape(e.replace(/<[^<>]*>/gi," ")).replace(/%/gi,"%25"))),"url"==t||"location"==t||"image"==t)try{stlib.data[s][t]=encodeURIComponent(decodeURIComponent(decodeURI(e.replace(/<[^<>]*>/gi," ")).replace(/%/gi,"%25")))}catch(n){stlib.data[s][t]=encodeURIComponent(decodeURIComponent(unescape(e.replace(/<[^<>]*>/gi," ")).replace(/%/gi,"%25")))}},get:function(t,e){return!(!stlib.data[e]||!stlib.data[e][t])&&decodeURIComponent(stlib.data[e][t])},unset:function(t,e){stlib.data[e]&&"undefined"!=typeof stlib.data[e][t]&&delete stlib.data[e][t]}},stlib.data.resetData()),stlib.hash={doNotHash:!0,hashAddressBar:!1,doNotCopy:!0,prefix:"sthash",shareHash:"",incomingHash:"",validChars:["1","2","3","4","5","6","7","8","9","0","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],servicePreferences:{linkedin:"param",stumbleupon:"param",bebo:"param"},hashDestination:function(t){if("copy"==t)return"dpuf";var e=t.substring(0,2)+t.substring(t.length-2,t.length),s=function(t,e){return 122==t.charCodeAt(e)?"a":String.fromCharCode(t.charCodeAt(e)+1)};return s(e,0)+s(e,1)+s(e,2)+s(e,3)},getHash:function(){var t=!1,e="",s=document.location.href;s=s.split("#").shift();var n=s.split("?");if(n.length>1){n=n[1].split("&");for(arg in n)try{"sthash"==n[arg].substring(0,6)&&(t=!0,e=n[arg])}catch(i){}return t?e:document.location.hash.substring(1)}return document.location.hash.substring(1)},stripHash:function(t){var e=t;return e=e.split("#"),e.length>1?e[1]:""},clearHash:function(){if(stlib.hash.validateHash(document.location.hash)){var t=document.location.href.split("#").shift();window.history&&history.replaceState?history.replaceState(null,document.title,t):/MSIE/.test(navigator.userAgent)?window.location.replace("#"):document.location.hash=""}},init:function(){for(var t="",e=stlib.hash.validChars.length,s=0;s<8;s++)t+=stlib.hash.validChars[Math.random()*e|0];if(""==stlib.hash.getHash())stlib.hash.shareHash=stlib.hash.prefix+"."+t;else{var n=stlib.hash.getHash().split("."),i=n.shift();i==stlib.hash.prefix||i==stlib.hash.prefix?(stlib.hash.incomingHash=stlib.hash.getHash(),stlib.hash.shareHash=stlib.hash.prefix+"."+n.shift()+"."+t):stlib.hash.shareHash=stlib.hash.prefix+"."+t}!stlib.hash.doNotHash&&stlib.hash.hashAddressBar?(""==document.location.hash||stlib.hash.validateHash(document.location.hash))&&(window.history&&history.replaceState?history.replaceState(null,"ShareThis","#"+stlib.hash.shareHash+".dpbs"):/MSIE/.test(navigator.userAgent)?window.location.replace("#"+stlib.hash.shareHash+".dpbs"):document.location.hash=stlib.hash.shareHash+".dpbs"):stlib.hash.clearHash(),stlib.hash.doNotHash||stlib.hash.doNotCopy||stlib.hash.copyPasteInit(),stlib.hash.copyPasteLog()},checkURL:function(){var t=stlib.data.get("destination","shareInfo"),e=stlib.hash.updateParams(t),s="."+stlib.hash.hashDestination(t);if(stlib.hash.updateDestination(s),!stlib.hash.doNotHash&&"undefined"!=typeof stlib.data.pageInfo.shareHash){var n=stlib.data.get("url","shareInfo"),i=stlib.hash.stripHash(n);if(stlib.hash.validateHash(i)||""==i)if("undefined"!=typeof stlib.hash.servicePreferences[t])if("param"==stlib.hash.servicePreferences[t]){if(_$d1("Don't use hash, use params"),_$d2(e),e.split("?").length>1){for(var a=e.split("?")[1].split("&"),o=!1,r=0;r<a.length;r++)"sthash"==a[r].split(".")[0]&&(o=!0);o?stlib.data.set("url",e,"shareInfo"):stlib.data.set("url",e+"&"+stlib.data.pageInfo.shareHash,"shareInfo")}else stlib.data.set("url",e+"?"+stlib.data.pageInfo.shareHash,"shareInfo");"linkedin"==t&&""!=stlib.data.get("sharURL","shareInfo")&&stlib.data.set("sharURL",stlib.data.get("url","shareInfo"),"shareInfo")}else _$d1("Using Hash"),stlib.data.set("url",e+"#"+stlib.data.pageInfo.shareHash,"shareInfo");else _$d1("Not using custom destination hash type"),stlib.data.set("url",e+"#"+stlib.data.pageInfo.shareHash,"shareInfo")}},updateParams:function(t){var e=stlib.data.get("url","shareInfo").split("#").shift(),s=/(\?)sthash\.[a-zA-z0-9]{8}\.[a-zA-z0-9]{8}/,n=/(&)sthash\.[a-zA-z0-9]{8}\.[a-zA-z0-9]{8}/,i=/(\?)sthash\.[a-zA-z0-9]{8}/,a=/(&)sthash\.[a-zA-z0-9]{8}/;return s.test(e)?e=e.replace(s,"?"+stlib.data.pageInfo.shareHash):n.test(e)?e=e.replace(n,"&"+stlib.data.pageInfo.shareHash):i.test(e)?e=e.replace(i,"?"+stlib.data.pageInfo.shareHash):a.test(e)&&(e=e.replace(a,"&"+stlib.data.pageInfo.shareHash)),e},updateDestination:function(t){var e=/sthash\.[a-zA-z0-9]{8}\.[a-zA-z0-9]{8}\.[a-z]{4}/,s=/sthash\.[a-zA-z0-9]{8}\.[a-z]{4}/;_$d_(),_$d1("Updating Destination"),e.test(stlib.data.pageInfo.shareHash)?(_$d2(stlib.data.pageInfo.shareHash.substring(0,24)),stlib.data.pageInfo.shareHash=stlib.data.pageInfo.shareHash.substring(0,24)+t):s.test(stlib.data.pageInfo.shareHash)?(_$d2(stlib.data.pageInfo.shareHash.substring(0,15)),stlib.data.pageInfo.shareHash=stlib.data.pageInfo.shareHash.substring(0,15)+t):stlib.data.pageInfo.shareHash+=t},validateHash:function(t){var e=/[\?#&]?sthash\.[a-zA-z0-9]{8}\.[a-zA-z0-9]{8}$/,s=/[\?#&]?sthash\.[a-zA-z0-9]{8}\.[a-zA-z0-9]{8}\.[a-z]{4}$/,n=/[\?#&]?sthash\.[a-zA-z0-9]{8}\.[a-z]{4}$/,i=/[\?#&]?sthash\.[a-zA-z0-9]{8}$/;return i.test(t)||n.test(t)||s.test(t)||e.test(t)},appendHash:function(t){var e=stlib.hash.stripHash(t);return stlib.data.pageInfo.shareHash&&(stlib.hash.validateHash(e)||""==e)&&(t=t.replace("#"+e,"")+"#"+stlib.data.pageInfo.shareHash),t},copyPasteInit:function(){var t=document.getElementsByTagName("body")[0],e=document.createElement("div");e.id="stcpDiv",e.style.position="absolute",e.style.top="-1999px",e.style.left="-1988px",t.appendChild(e),e.innerHTML="ShareThis Copy and Paste";document.location.href.split("#").shift(),"#"+stlib.hash.shareHash;document.addEventListener?t.addEventListener("copy",function(t){if("undefined"==typeof Tynt){var s=document.getSelection();if(!s.isCollapsed){var n=s.getRangeAt(0).cloneContents();if(e.innerHTML="",e.appendChild(n),0!=e.textContent.trim().length){0==(s+"").trim().length||(e.innerHTML==s+""||e.textContent==s+""?e.innerHTML=stlib.html.encode(stlib.hash.selectionModify(s)):e.innerHTML+=stlib.html.encode(stlib.hash.selectionModify(s,!0)));var i=document.createRange();i.selectNodeContents(e);var a=s.getRangeAt(0);s.removeAllRanges(),s.addRange(i),setTimeout(function(){s.removeAllRanges(),s.addRange(a)},0)}}}},!1):document.attachEvent},copyPasteLog:function(){var t=window.addEventListener?"addEventListener":"attachEvent",e="attachEvent"==t?"oncopy":"copy",s=document.getElementsByTagName("body")[0];s[t](e,function(t){var e=!0;stlib.data.resetShareData(),stlib.data.set("url",document.location.href,"shareInfo"),stlib.data.setSource("copy"),stlib.data.set("destination","copy","shareInfo"),stlib.data.set("buttonType","custom","shareInfo"),"undefined"!=typeof Tynt&&(stlib.data.set("result","tynt","shareInfo"),stlib.logger.log("debug"),e=!1),"undefined"!=typeof addthis_config&&(stlib.data.set("result","addThis","shareInfo"),"undefined"==typeof addthis_config.data_track_textcopy||addthis_config.data_track_textcopy?(stlib.data.set("enabled","true","shareInfo"),e=!1):stlib.data.set("enabled","false","shareInfo"),stlib.logger.log("debug")),e&&(stlib.data.set("result","pass","shareInfo"),stlib.logger.log("debug"))},!1)},logCopy:function(t,e){stlib.data.resetShareData(),stlib.data.set("url",t,"shareInfo"),stlib.data.setSource("copy"),stlib.data.set("destination","copy","shareInfo"),stlib.data.set("buttonType","custom","shareInfo"),e&&stlib.data.set("description",e,"shareInfo"),stlib.sharer.share()},selectionModify:function(t,e){t=""+t,_$d_(),_$d1("Copy Paste");var s=/^((http|https):\/\/([a-z0-9!'\(\)\*\.\-\+:]*(\.)[a-z0-9!'\(\)\*\.\-\+:]*)((\/[a-z0-9!'\(\)\*\.\-\+:]*)*))/i,n=/^([a-z0-9!'\(\)\*\.\-\+:]*(\.)[a-z0-9!'\(\)\*\.\-\+:]*)((\/[a-z0-9!'\(\)\*\.\-\+:]*)*)/i,i=/^\+?1?[\.\-\\)_\s]?[\\(]?[0-9]{3}[\.\-\\)_\s]?[0-9]{3}[\.\-_\s]?[0-9]{4}$|^[0-9]{3}[\.\-_\s]?[0-9]{4}$/,a=/^[0-9]{3}[\.\-_\s]?[0-9]{8}$/,o=/^[0-9]{2}[\.\-_\s]?[0-9]{4}[\.\-_\s]?[0-9]{4}$/,r=/[\-_\.a-z0-9]+@[\-_\.a-z0-9]+\.[\-_\.a-z0-9]+/i,l=/[\s@]/,d=document.location.href.split("#").shift(),c="#"+stlib.hash.shareHash,u="",p="",m="";return"undefined"!=typeof e||!s.test(t)&&!n.test(t)||l.test(t.trim())?(_$d2("is Not Url"),p=""==document.location.hash||/^#$/.test(document.location.hash)||stlib.hash.validateHash(document.location.hash)?d+c+".dpuf":document.location.href,m=t,t.length>50&&(u=" - See more at: "+p,i.test(t)||a.test(t)||o.test(t)||r.test(t)||(m+=u))):(_$d2("is Url"),null==t.match(/#/)||stlib.hash.validateHash(t)?(p=t.split("#")[0]+c+".dpuf",m=p):(p=t,m=p)),t.length>140&&(t=t.substring(0,137)+"..."),stlib.hash.logCopy(p,t),e&&1==e?u:m}},stlib.pump=function(t,e,s){this.isIframeReady=!1,this.isIframeSending=!1,this.getHash=function(t){var e=t.split("#");return e.shift(),e.join("#")},this.broadcastInit=function(t){this.destination=t,_$d_("---------------------"),_$d1("Initiating broadcaster:"),_$d(this.destination)},this.broadcastSendMessage=function(t){if(_$d_("---------------------"),_$d1("Initiating Send:"),this.destination===window){if(stlib.browser.ieFallback)return window.location.replace(window.location.href.split("#")[0]+"#"+t),void _$d2("child can't communicate with parent");_$d2("Iframe to publisher: "+t),parent.postMessage("#"+t,document.referrer)}else{if(_$d2("Publisher to Iframe: "+t),stlib.browser.ieFallback)return void(this.destination.contentWindow&&(this.destination.contentWindow.location.replace(this.destination.src+"#"+t),this.isIframeSending=!0));this.destination.contentWindow.postMessage("#"+t,this.destination.src)}},this.receiverInit=function(t,e){if(_$d_("---------------------"),_$d1("Initiating Receiver:"),_$d(t),stlib.browser.ieFallback){if(this.callback=e,this.source=t,t===window){window.location.replace(window.location.href.split("#")[0]+"#"),this.currentIframe=window.location.hash;var s="receiver"+stlib.functionCount;stlib.functions[s]=function(t){if(""!=window.location.hash&&"#"!=window.location.hash){var e=window.location.hash;t(e),window.location.replace(window.location.href.split("#")[0]+"#")}},stlib.functionCount++;var n="callback"+stlib.functionCount;stlib.functions[n]=e,stlib.functionCount++,setInterval("stlib.functions['"+s+"'](stlib.functions['"+n+"'])",200)}var i=window.addEventListener?"addEventListener":"attachEvent",a="attachEvent"==i?"onmessage":"message";return void window[i](a,function(e){t==window||e.origin.indexOf("sharethis.com")!=-1&&(e.data.match(/#Pinterest Click/)&&stlib.sharer.sharePinterest(),e.data.match(/#Print Click/)&&stlib.sharer.stPrint())},!1)}var i=window.addEventListener?"addEventListener":"attachEvent",a="attachEvent"==i?"onmessage":"message";window[i](a,function(s){t==window?(_$d1("arrived in iframe from:"),_$d(s.origin),(s.data.match(/#fragmentPump/)||s.data.match(/#Buttons Ready/)||s.data.match(/#Widget Ready/)||0==s.data.indexOf("#light")||0==s.data.indexOf("#widget")||0==s.data.indexOf("#popup")||0==s.data.indexOf("#show")||0==s.data.indexOf("#init")||0==s.data.indexOf("#test")||0==s.data.indexOf("#data"))&&e(s.data)):s.origin.indexOf("sharethis.com")!=-1?(_$d1("arrived in parent from:"),_$d(s.origin),s.data.match(/#fragmentPump/)||s.data.match(/#Buttons Ready/)||s.data.match(/#Widget Ready/)||0==s.data.indexOf("#light")||0==s.data.indexOf("#widget")||0==s.data.indexOf("#popup")||0==s.data.indexOf("#show")||0==s.data.indexOf("#init")||0==s.data.indexOf("#test")||0==s.data.indexOf("#data")?e(s.data):s.data.match(/#Pinterest Click/)?stlib.sharer.sharePinterest():s.data.match(/#Print Click/)&&stlib.sharer.stPrint()):(_$d1("discarded event from:"),_$d(s.origin))},!1)},this.broadcastInit(t),this.receiverInit(e,s)},stlib.json={c:{"\b":"b","\t":"t","\n":"n","\f":"f","\r":"r",'"':'"',"\\":"\\","/":"/"},d:function(t){return t<10?"0".concat(t):t},e:function(c,f,e){return e=eval,delete eval,"undefined"==typeof eval&&(eval=e),f=eval(""+c),eval=e,f},i:function(t,e,s){return 1*t.substr(e,s)},p:["","000","00","0",""],rc:null,rd:/^[0-9]{4}\-[0-9]{2}\-[0-9]{2}T[0-9]{2}:[0-9]{2}:[0-9]{2}$/,rs:/(\x5c|\x2F|\x22|[\x0c-\x0d]|[\x08-\x0a])/g,rt:/^([0-9]+|[0-9]+[,\.][0-9]{1,3})$/,ru:/([\x00-\x07]|\x0b|[\x0e-\x1f])/g,s:function(t,e){return"\\".concat(stlib.json.c[e])},u:function(t,e){var s=e.charCodeAt(0).toString(16);return"\\u".concat(stlib.json.p[s.length],s)},v:function(t,e){return stlib.json.types[typeof result](result)!==Function&&(e.hasOwnProperty?e.hasOwnProperty(t):e.constructor.prototype[t]!==e[t])},types:{"boolean":function(){return Boolean},"function":function(){return Function},number:function(){return Number},object:function(t){return t instanceof t.constructor?t.constructor:null},string:function(){return String},undefined:function(){return null}},$$:function(t){function e(e,s){s=e[t],delete e[t];try{stlib.json.e(e)}catch(n){return e[t]=s,1}}return e(Array)&&e(Object)},encode:function(){var t,e,s=arguments.length?arguments[0]:this;if(null===s)t="null";else if(void 0!==s&&(e=stlib.json.types[typeof s](s)))switch(e){case Array:t=[];for(var n=0,i=0,a=s.length;i<a;i++)void 0!==s[i]&&(e=stlib.json.encode(s[i]))&&(t[n++]=e);t="[".concat(t.join(","),"]");break;case Boolean:t=String(s);break;case Date:t='"'.concat(s.getFullYear(),"-",stlib.json.d(s.getMonth()+1),"-",stlib.json.d(s.getDate()),"T",stlib.json.d(s.getHours()),":",stlib.json.d(s.getMinutes()),":",stlib.json.d(s.getSeconds()),'"');break;case Function:break;case Number:t=isFinite(s)?String(s):"null";break;case String:t='"'.concat(s.replace(stlib.json.rs,stlib.json.s).replace(stlib.json.ru,stlib.json.u),'"');break;default:var o,n=0;t=[];for(o in s)void 0!==s[o]&&(e=stlib.json.encode(s[o]))&&(t[n++]='"'.concat(o.replace(stlib.json.rs,stlib.json.s).replace(stlib.json.ru,stlib.json.u),'":',e));t="{".concat(t.join(","),"}")}return t},decode:function(t){if("string"==typeof t){var e=null;try{return/^[\],:{}\s]*$/.test(t.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))?e=window.JSON&&window.JSON.parse?window.JSON.parse(t):new Function("return "+t)():null}catch(s){}}}};try{stlib.json.rc=new RegExp('^("(\\\\.|[^"\\\\\\n\\r])*?"|[,:{}\\[\\]0-9.\\-+Eaeflnr-u \\n\\r\\t])+?$')}catch(z){stlib.json.rc=/^(true|false|null|\[.*\]|\{.*\}|".*"|\d+|\d+\.\d+)$/}stlib.logger={loggerUrl:("https:"==document.location.protocol?"https://":"http://")+"l.sharethis.com/",productArray:new Array,version:"",lang:"en",isFpEvent:!1,constructParamString:function(){var t,e=stlib.data.pageInfo,s="";for(t in e)(stlib.logger.isFpEvent||"ufa"!=t&&"ufb"!=t&&"ufc"!=t&&"ufd"!=t)&&(s+=t+"="+e[t]+"&");e=stlib.data.shareInfo;for(t in e)s+=t+"="+e[t]+"&";return s.substring(0,s.length-1)},log:function(t,e){if(_$d_(),_$d1("Log Event PageInfo:"),_$d(stlib.data.pageInfo),_$d1("Log Event ShareInfo:"),_$d(stlib.data.shareInfo),"undefined"==typeof t)return void _$de("event does not exist \nFor help, contact support@sharethis.com");if(null==stlib.data.pageInfo||null==stlib.data.shareInfo)return void _$de("stlib.logger does not have enough info to log \nFor help, contact support@sharethis.com");if(!stlib.data.get("url","shareInfo"))return void _$de("shareThisInfo.url do not exist \nFor help, contact support@sharethis.com");if(!stlib.data.get("sessionID","pageInfo"))return void _$de("sharePageInfo.sessionID do not exist \nFor help, contact support@sharethis.com");if(!stlib.data.get("destination","shareInfo")&&"pview"!=t)return void _$de("shareThisInfo.destination do not exist \nFor help, contact support@sharethis.com");if(!stlib.data.get("buttonType","shareInfo")&&"pview"!=t)return void _$de("shareThisInfo.type do not exist \nFor help, contact support@sharethis.com");if(!stlib.data.get("source","shareInfo"))return void _$de("shareThisInfo.source do not exist \nFor help, contact support@sharethis.com");if("pview"==t?(stlib.data.unset("destination","shareInfo"),stlib.data.unset("buttonType","shareInfo")):(stlib.data.unset("refDomain","pageInfo"),stlib.data.unset("refQuery","pageInfo")),"pview"==t||"share"==t?(stlib.logger.isFpEvent=!0,"ERROR"!=stlib.stfp.screenResolutionDepthHash&&stlib.data.set("ufa",stlib.stfp.screenResolutionDepthHash,"pageInfo"),"ERROR"!=stlib.stfp.pluginsListHash&&stlib.data.set("ufb",stlib.stfp.pluginsListHash,"pageInfo"),"ERROR"!=stlib.stfp.fontsListHash&&stlib.data.set("ufc",stlib.stfp.fontsListHash,"pageInfo"),"ERROR"!=stlib.stfp.timezoneoffsetHash&&stlib.data.set("ufd",stlib.stfp.timezoneoffsetHash,"pageInfo")):stlib.logger.isFpEvent=!1,"undefined"!=typeof stlib.data.get("counter","shareInfo")){var s=0;stlib.data.get("counter","shareInfo")&&(s=stlib.data.get("counter","shareInfo")),stlib.data.set("ts"+(new Date).getTime()+"."+s,"","shareInfo"),stlib.data.unset("counter","shareInfo")}else stlib.data.set("ts"+(new Date).getTime(),"","shareInfo");var n="pview"==t?"pview":"debug"==t?"cns":"log";if("pview"==t)var i=stlib.logger.loggerUrl+n+"?event="+t+"&product="+stlib.logger.productArray+"&version="+stlib.logger.version+"&lang="+stlib.logger.lang+"&"+stlib.logger.constructParamString();else var i=stlib.logger.loggerUrl+n+"?event="+t+"&"+stlib.logger.constructParamString();_$d1("Final Log Url:"),_$d2(i);var a=new Image(1,1);a.src=i,a.onload=function(){},e?e():null}},stlib.scriptLoader={loadJavascript:function(t,e){_$d_(),_$d1("Loading JS: "+t);var s=stlib.scriptLoader;s.head=document.getElementsByTagName("head")[0],s.scriptSrc=t,s.script=document.createElement("script"),s.script.setAttribute("type","text/javascript"),s.script.setAttribute("src",s.scriptSrc),s.script.async=!0,window.attachEvent&&document.all?s.script.onreadystatechange=function(){"complete"!=this.readyState&&"loaded"!=this.readyState||e()}:s.script.onload=e,s.s=document.getElementsByTagName("script")[0],s.s.parentNode.insertBefore(s.script,s.s)},loadCSS:function(t,e){_$d_(),_$d1("Loading CSS: "+t);var s,n=stlib.scriptLoader;n.head=document.getElementsByTagName("head")[0],n.cssSrc=t,n.css=document.createElement("link"),n.css.setAttribute("rel","stylesheet"),n.css.setAttribute("type","text/css"),n.css.setAttribute("href",t),n.css.setAttribute("id",t),setTimeout(function(){e(),document.getElementById(t)||(s=setInterval(function(){document.getElementById(t)&&(clearInterval(s),e())},100))},100),n.head.appendChild(n.css)}},stlib.nativeButtons={supportedNativeButtons:{linkedinfollow:{log:!0,config:!0,dependencyLoaded:!1,dependencyLoading:!1,requiredFields:[["st_followId","Profile Id","Enter '207839' for profile id"]]},twitterfollow:{log:!1,config:!0,requiredFields:[["st_username","Username","Enter 'sharethis' for username"]]},pinterestfollow:{log:!0,config:!0,requiredFields:[["st_username","Username","Enter 'sharethis' for username"]]},youtube:{log:!0,config:!0,requiredFields:[["st_username","Username","Enter 'sharethis' for username"]]},foursquaresave:{log:!1,config:!0,dependencyLoaded:!1,dependencyLoading:!1},foursquarefollow:{log:!1,config:!0,requiredFields:[["st_username","Username","Enter 'sharethis' for username"],["st_followId","Follow id","Enter '1234567' for follow id"]]},googleplusfollow:{log:!0,config:!0,requiredFields:[["st_followId","Page Id","Enter '110967630299632321627' for page id"]]},googleplusadd:{log:!0,config:!0,requiredFields:[["st_followId","Profile Id","Enter '113842823840690472625' for profile id"]]}},loadService:function(t){if("foursquaresave"==t||"foursquarefollow"==t)if(0==stlib.nativeButtons.supportedNativeButtons.foursquaresave.dependencyLoaded){if(0==stlib.nativeButtons.supportedNativeButtons.foursquaresave.dependencyLoading){stlib.nativeButtons.supportedNativeButtons.foursquaresave.dependencyLoading=!0;var e="http://platform.foursquare.com/js/widgets.js",s={uid:"606"};"https:"==document.location.protocol&&(e="http://platform-s.foursquare.com/js/widgets.js",s.secure=!0),function(){window.___fourSq=s;var t=document.createElement("script");t.type="text/javascript",t.src=e,t.async=!0;var n=document.getElementsByTagName("script")[0];t.onload=function(){fourSq.widget.Factory.go(),stlib.nativeButtons.supportedNativeButtons.foursquaresave.dependencyLoaded=!0,stlib.nativeButtons.supportedNativeButtons.foursquaresave.dependencyLoading=!1},t.onreadystatechange=function(){"complete"!=this.readyState&&"loaded"!=this.readyState||(fourSq.widget.Factory.go(),stlib.nativeButtons.supportedNativeButtons.foursquaresave.dependencyLoaded=!0,stlib.nativeButtons.supportedNativeButtons.foursquaresave.dependencyLoading=!1)},n.parentNode.insertBefore(t,n)}()}}else fourSq.widget.Factory.go();else if("pinterestfollow"==t);else if("twitterfollow"==t);else if("youtube"==t);else if("linkedinfollow"==t)if(window.IN&&"function"==typeof window.IN.parse)window.IN.parse();else if(0==stlib.nativeButtons.supportedNativeButtons.linkedinfollow.dependencyLoading){stlib.nativeButtons.supportedNativeButtons.linkedinfollow.dependencyLoading=!0;var e="//platform.linkedin.com/in.js";!function(){var t=document.createElement("script");t.type="text/javascript",t.src=e,t.async=!0;var s=document.getElementsByTagName("script")[0];t.onload=function(){stlib.nativeButtons.supportedNativeButtons.linkedinfollow.dependencyLoading=!1},t.onreadystatechange=function(){"complete"!=this.readyState&&"loaded"!=this.readyState||(stlib.nativeButtons.supportedNativeButtons.linkedinfollow.dependencyLoading=!1)},s.parentNode.insertBefore(t,s)}()}},logService:function(t,e){stlib.data.resetShareData(),stlib.data.set("url",e,"shareInfo"),stlib.data.set("destination",t,"shareInfo"),stlib.data.setSource("chicklet"),stlib.data.set("buttonType","chicklet","shareInfo"),stlib.sharer.share()},makeButton:function(t,e,s){if("foursquaresave"==t){try{var n=document.createElement("<div></div>"),i=document.createElement("<a></a>")}catch(a){n=document.createElement("div"),i=document.createElement("a")}return n.className="stNativeButton stFourSquare",i.setAttribute("href","https://foursquare.com/intent/venue.html"),i.setAttribute("class","fourSq-widget"),i.setAttribute("data-on-open","foursquareCallback"),n.appendChild(i),n}if("foursquarefollow"==t){if("undefined"==typeof s.username||""==s.username)return!1;if("undefined"==typeof s.followId||""==s.followId)return!1;try{var n=document.createElement("<div></div>"),i=document.createElement("<a></a>")}catch(a){n=document.createElement("div"),i=document.createElement("a")}return n.className="stNativeButton stFourSquare",i.setAttribute("href","https://foursquare.com/user/"+s.username),i.setAttribute("class","fourSq-widget"),i.setAttribute("data-type","follow"),i.setAttribute("data-fuid",s.followId),i.setAttribute("data-on-open","foursquareCallback"),n.appendChild(i),n}if("googleplusfollow"==t||"googleplusadd"==t){if("undefined"==typeof s.followId||""==s.followId)return!1;try{var o=document.createElement("<span></span>")}catch(a){o=document.createElement("span")}o.className="stNativeButton stGoogleNative";var r=document.createElement("g:plus");return r.setAttribute("href","https://plus.google.com/"+s.followId),r.setAttribute("width","300"),r.setAttribute("height","69"),o.appendChild(r),o}if("pinterestfollow"==t){if("undefined"==typeof s.username||""==s.username)return!1;try{var l=document.createElement("<span></span>"),d=document.createElement("<a></a>"),c=document.createElement("<img></img>")}catch(a){l=document.createElement("span"),d=document.createElement("a"),c=document.createElement("img")}l.className="stNativeButton stPinterestfollow";var u=s.username;return d.setAttribute("target","_blank"),d.setAttribute("href","//pinterest.com/"+u+"/"),c.setAttribute("src","//passets-cdn.pinterest.com/images/follow-on-pinterest-button.png"),c.setAttribute("width","156"),c.setAttribute("height","26"),c.setAttribute("alt","Follow "+u+" on Pinterest"),d.appendChild(c),l.appendChild(d),l}if("twitterfollow"==t){if("undefined"==typeof s.username||""==s.username)return!1;try{var p=document.createElement("<iframe></iframe>")}catch(a){p=document.createElement("iframe")}var m="&screen_name="+s.username,h="&show_count=false";iedocmode=stlib.browser.getIEVersion();"vcount"==e?h="&show_count=true":"hcount"==e&&(h="&show_count=true"),p.setAttribute("allowtransparency","true"),p.setAttribute("frameborder","0"),p.setAttribute("scrolling","no"),p.className="stTwitterFollowFrame",p.setAttribute("src","//platform.twitter.com/widgets/follow_button.html?lang=en&show_screen_name=false"+m+h);var g=document.createElement("span");return g.className="stNativeButton stTwitterFollowFrame stTwitterFollow",g.appendChild(p),g}if("youtube"==t){if("undefined"==typeof s.username||""==s.username)return!1;try{var f=document.createElement("<span></span>"),b=document.createElement("<a></a>"),v=document.createElement("<img></img>")}catch(a){f=document.createElement("span"),b=document.createElement("a"),v=document.createElement("img")}f.setAttribute("class","stNativeButton stYoutube");var u=s.username;return b.setAttribute("target","_blank"),b.setAttribute("href","//youtube.com/subscription_center?add_user="+u),v.setAttribute("src","//s.ytimg.com/yt/img/creators_corner/Subscribe_to_my_videos/YT_Subscribe_130x36_red.png"),v.setAttribute("alt","Follow "+u+" on youtube"),b.appendChild(v),f.appendChild(b),f}if("linkedinfollow"==t){if("undefined"==typeof s.followId||""==s.followId)return!1;var _=document.createElement("span");_.setAttribute("class","stNativeButton stLinkedinfollow");var y=document.createElement("script");return y.type="text/javascript",y.setAttribute("type","IN/FollowCompany"),y.setAttribute("data-id",s.followId),y.setAttribute("data-counter","none"),"vcount"==e?y.setAttribute("data-counter","top"):"hcount"==e&&y.setAttribute("data-counter","right"),_.appendChild(y),_}},checkNativeButtonSupport:function(t){return!!stlib.nativeButtons.supportedNativeButtons[t]},checkNativeButtonLogging:function(t){return!!stlib.nativeButtons.supportedNativeButtons[t]&&stlib.nativeButtons.supportedNativeButtons[t].log},checkNativeButtonConfig:function(t){return!!stlib.nativeButtons.supportedNativeButtons[t]&&stlib.nativeButtons.supportedNativeButtons[t].config}},foursquareCallback=function(t){if(t){var e="foursquaresave",s="https://foursquare.com/intent/venue.html";t.config.type&&(e="foursquarefollow",s="https://foursquare.com/user/"+t.config.fuid),stlib.nativeButtons.logService(e,s)}},stlib.nativeCounts={nativeCountServices:{linkedin:!0,facebook:!0,stumbleupon:!0},nativeFunc:[],addNativeFunc:function(t,e){stlib.nativeCounts.nativeFunc[t]=e},getNativeCounts:function(t,e,s){switch(t){case"facebook":stlib.scriptLoader.loadJavascript(("https:"==document.location.protocol?"https://":"http://")+"api.facebook.com/method/fql.query?format=json&query=select url, like_count, total_count, comment_count, share_count, click_count from link_stat where url='"+encodeURIComponent(e)+"'&callback="+s,function(){});break;case"linkedin":stlib.scriptLoader.loadJavascript(("https:"==document.location.protocol?"https://":"http://")+"www.linkedin.com/countserv/count/share?format=jsonp&callback="+s+"&url="+encodeURIComponent(e),function(){});break;case"stumbleupon":stlib.scriptLoader.loadJavascript(("https:"==document.location.protocol?"https://":"http://")+"www.stumbleupon.com/services/1.1/badge.getinfo?url="+encodeURIComponent(e)+"&format=jsonp&callback="+s,function(){})}},checkNativeCountServicesQueue:function(t){return!!stlib.nativeCounts.nativeCountServices[t]}};var stWidgetVersion=!1;"undefined"==typeof switchTo5x?stWidgetVersion="4x":(0==switchTo5x&&(stWidgetVersion="4x"),1==switchTo5x&&(stWidgetVersion="5xa"));var stShowNewMobileWidget=!1;if(__stgetPubGA=function(){"undefined"!=typeof _gaq&&"undefined"==typeof __stPubGA?("undefined"!=typeof _gat&&(__stPubGA=_gat._getTrackerByName("~0")._getAccount()),"undefined"!=typeof __stPubGA&&"UA-XXXXX-X"==__stPubGA&&_gaq.push(function(){var t=_gat._getTrackerByName();__stPubGA=t._getAccount()})):"undefined"!=typeof ga&&"undefined"==typeof __stPubGA&&ga(function(){for(var t=ga.getAll(),e=0;e<t.length;++e){var s=t[e],n=s.get("trackingId"),i=n.indexOf("UA");i>=0&&(__stPubGA=n)}}),"UA-XXXXX-X"==__stPubGA&&delete __stPubGA},"undefined"==typeof stLight&&"undefined"==typeof SHARETHIS){var isMobileButtonLoaded=!1,stRecentServices=!1,iswhatsappCustomButton=!1;"undefined"==typeof switchTo5x?stWidgetVersion="4x":(0==switchTo5x&&(stWidgetVersion="4x"),1==switchTo5x&&(stWidgetVersion="5xa"));var esiLoaded=!1,esiStatus="",stIsLoggedIn=!1,servicesLoggedIn={},stFastShareObj={};if(stFastShareObj.shorten=!0,"undefined"==typeof useEdgeSideInclude)var useEdgeSideInclude=!0;if("https:"==document.location.protocol)var useFastShare=!1,useEdgeSideInclude=!1;if("undefined"==typeof useFastShare)var useFastShare=!0;stLight=new function(){this.version=!1,this.publisher=null,this.sessionID_time=(new Date).getTime().toString(),this.sessionID_rand=Number(Math.random().toPrecision(5).toString().substr(2)).toString(),this.sessionID=this.sessionID_time+"."+this.sessionID_rand,this.fpc=null,this.counter=0,this.readyRun=!1,this.meta={hostname:document.location.host,location:document.location.pathname},this.loadedFromBar=!1,this.clickCallBack=!1},stLight.onReady=function(){return 1!=stLight.readyRun&&(stLight.readyRun=!0,stlib.stfp.init(),void stLight.getAllAppDefault(function(){if(stlib.data.init(),stLight.fpc=stlib.data.get("fpc","pageInfo"),null==stButtons.messageQueueInstance&&(stButtons.messageQueueInstance=new stlib.messageQueue),stLight.processSTQ(),null==stLight.publisher&&"undefined"!=typeof window.console)try{console.debug("Please specify a ShareThis Publisher Key \nFor help, contact support@sharethis.com")}catch(t){}var e=stLight.getSource();stLight.hasButtonOnPage()&&("share4x"==e||"bar_share4x"==e?stlib.logger.productArray.push("Chicklet4x"):"share5x"!=e&&"bar_share5x"!=e||stlib.logger.productArray.push("Chicklet5x")),"undefined"!=typeof st_hover_widget&&stlib.logger.productArray.push("HoverBar"),"undefined"!=typeof st_pulldown_widget&&stlib.logger.productArray.push("PullDownBar"),"undefined"!=typeof st_bar_widget&&stlib.logger.productArray.push("ShareBar"),"undefined"!=typeof st_service_widget&&stlib.logger.productArray.push("ShareNow"),"undefined"!=typeof stlib.shareEgg&&stlib.logger.productArray.push("ShareEgg"),"undefined"!=typeof st_disc_widget&&stlib.logger.productArray.push("TrendingWidget"),stlib.logger.version="buttons.js","undefined"!==stWidget.options.lang&&""!==stWidget.options.lang?stlib.logger.lang=stWidget.options.lang:stlib.logger.lang="en",stLight.log("pview",e),stWidget.options.sessionID=stLight.sessionID,stWidget.options.fpc=stLight.fpc,stLight.loadServicesLoggedIn(function(){stButtons.onReady()})}))},stLight.getSource=function(){var t="share4x";return"5xa"==stWidgetVersion&&(t="share5x"),stLight.hasButtonOnPage()?stLight.loadedFromBar&&(t="5xa"==stWidgetVersion?"bar_share5x":"bar_share4x"):stLight.loadedFromBar&&(t="bar"),t},stLight.getSource2=function(t){var e="share4x";if("5xa"==stWidgetVersion){e="share5x";try{0!=stLight.clickCallBack&&stLight.clickCallBack(t.service);
}catch(s){}}return"stbar"!=t.type&&"stsmbar"!=t.type||(e="bar"),e},stLight.log=function(t,e,s,n){stlib.data.resetShareData(),stlib.data.set("url",document.location.href,"shareInfo"),stlib.data.set("title",document.title,"shareInfo"),stlib.data.set("counter",stLight.counter++,"shareInfo"),stlib.data.setSource(e),"undefined"!=typeof s&&stlib.data.set("destination",s,"shareInfo"),"undefined"!=typeof n&&stlib.data.set("buttonType",n,"shareInfo"),stlib.logger.log(t),"pview"==t&&stLight.createSegmentFrame()},stLight._stFpc=function(){if(!document.domain||document.domain.search(/\.gov/)>0)return!1;var t=stLight._stGetFpc("__unam");if(0==t){var e=Math.round(2147483647*Math.random());e=e.toString(16);var s=(new Date).getTime();s=s.toString(16);var n="",i=stLight._stGetD();if(i=i.split(/\./)[1],!i)return!1;n=stLight._stdHash(i)+"-"+s+"-"+e+"-1",t=n,stLight._stSetFpc(t)}else{var a=t,o=a.split(/\-/);if(4==o.length){var r=Number(o[3]);r++,a=o[0]+"-"+o[1]+"-"+o[2]+"-"+r,t=a,stLight._stSetFpc(t)}}return t},stLight._stSetFpc=function(t){var e="__unam",s=new Date,n=s.getFullYear(),i=s.getMonth()+9,a=s.getDate(),o=e+"="+escape(t);if(n){var r=new Date(n,i,a);o+="; expires="+r.toGMTString()}var l=stLight._stGetD();o+="; domain="+escape(l)+";path=/",document.cookie=o},stLight._stGetD=function(){var t=document.domain.split(/\./),e="";return t.length>1&&(e="."+t[t.length-2]+"."+t[t.length-1]),e},stLight._stGetFpc=function(t){var e=document.cookie.match("(^|;) ?"+t+"=([^;]*)(;|$)");return!!e&&unescape(e[2])},stLight._stdHash=function(t){for(var e=0,s=0,n=t.length-1;n>=0;n--){var i=parseInt(t.charCodeAt(n));e=(e<<8&268435455)+i+(i<<12),0!=(s=161119850&e)&&(e^=s>>20)}return e.toString(16)},stLight._thisScript=null,stLight.getShareThisLightScript=function(){for(var t=document.getElementsByTagName("script"),e=null,s=0;s<t.length;s++){var n=t[s].src;n.search(/.*sharethis.*\/button\/light.*/)>=0&&(e=t[s])}return e},stLight.dbrInfo=function(){var t=document.referrer;if(t&&t.length>0){var e=/\/\/.*?\//,s=t.match(e);if("undefined"!=typeof s&&"undefined"!=typeof s[0]){var n=new RegExp(document.domain,"gi");if(1==n.test(s[0]))return!1}var i=/(http:\/\/)(.*?)\/.*/i,a=/(^.*\?)(.*)/gi,o="",r=t.replace(i,"$2"),n=new RegExp(r,"gi");if(!(r.length>0))return!1;o+="&refDomain="+r;var l=t.replace(a,"$2");return l.length>0&&(o+="&refQuery="+encodeURIComponent(l)),o}return!1},stLight.odjs=function(t,e){this.head=document.getElementsByTagName("head")[0],this.scriptSrc=t,this.script=document.createElement("script"),this.script.setAttribute("type","text/javascript"),this.script.setAttribute("src",this.scriptSrc),window.attachEvent&&document.all?this.script.onreadystatechange=function(){"complete"!=this.readyState&&(t.indexOf("getAllAppDefault.esi")==-1&&t.indexOf("checkOAuth.esi")==-1||"loaded"!=this.readyState)||e()}:this.script.onload=e,this.head.appendChild(this.script)},stLight.getAppDefault=function(t,e,s){if(useEdgeSideInclude){var n="cb="+e,i="&app="+t,a="&publisher="+(null!=stLight.publisher?stLight.publisher:"ur.00000000-0000-0000-0000-000000000000"),o="&domain="+document.location.hostname.replace(/^www\./,"");stLight.odjs("http://wd-edge.sharethis.com/button/getAllAppDefault.esi?"+n+i+a+o,function(){null!=s&&s()})}else"cns"==t?(null==stWidget.options.doNotHash&&(stlib.hash.doNotHash=stWidget.options.doNotHash=!0),null==stWidget.options.hashAddressBar&&(stlib.hash.hashAddressBar=stWidget.options.hashAddressBar=!1),null==stWidget.options.doNotCopy&&(stlib.hash.doNotCopy=stWidget.options.doNotCopy=!0)):"snapsets"==t&&null==stWidget.options.snapsets&&(stWidget.options.snapsets=!1),null!=s&&s()},stLight.getAllAppDefault=function(t){if(useEdgeSideInclude){if("loading"==esiStatus)return void(null!=t&&stButtons.cbAppQueue.push(t));if("loaded"==esiStatus)return void(null!=t&&t());esiStatus="loading";var e="cb=stLight.allDefault",s="&app=all",n="&publisher="+(null!=stLight.publisher?stLight.publisher:"ur.00000000-0000-0000-0000-000000000000"),i="&domain="+document.location.hostname.replace(/^www\./,"");stLight.odjs("http://wd-edge.sharethis.com/button/getAllAppDefault.esi?"+e+s+n+i,function(){esiStatus="loaded";for(var e=0;e<stButtons.cbAppQueue.length;e++)stButtons.cbAppQueue[e]();stButtons.cbAppQueue=[],null!=t&&t()})}else"cns"==name?(null==stWidget.options.doNotHash&&(stlib.hash.doNotHash=stWidget.options.doNotHash=!0),null==stWidget.options.hashAddressBar&&(stlib.hash.hashAddressBar=stWidget.options.hashAddressBar=!1),null==stWidget.options.doNotCopy&&(stlib.hash.doNotCopy=stWidget.options.doNotCopy=!0)):"snapsets"==name&&null==stWidget.options.snapsets&&(stWidget.options.snapsets=!1),null!=t&&t()},stLight.allDefault=function(t){t?(t.cns&&stLight.cnsDefault(t.cns),t.snapsets&&stLight.snapSetsDefault(t.snapsets),t.migration?stLight.migrationDefault(t.migration):stLight.usePublisherDefaultSettings(),t.mobileWidget?stLight.mobileWidgetSetsDefault(t.mobileWidget):"undefined"!=typeof stLight.mobileWidget&&stLight.setUserDefinedMobileParameter()):stLight.usePublisherDefaultSettings()},stLight.mobileWidgetSetsDefault=function(t){"undefined"!=typeof stLight.mobileWidget?stLight.setUserDefinedMobileParameter():t&&(stShowNewMobileWidget=t.mobileWidget)},stLight.setUserDefinedMobileParameter=function(){stShowNewMobileWidget=stLight.mobileWidget===!0||"true"===stLight.mobileWidget||(stLight.mobileWidget===!1||"false"===stLight.mobileWidget,!1)},stLight.usePublisherDefaultSettings=function(){"undefined"==typeof switchTo5x?stWidgetVersion="4x":(0==switchTo5x&&(stWidgetVersion="4x"),1==switchTo5x&&(stWidgetVersion="5xa")),"undefined"!=typeof stLight.mobileWidget&&stLight.setUserDefinedMobileParameter()},stLight.migrationDefault=function(t){0==stWidget.skipESIValue&&(stLight.version?stWidgetVersion=stLight.version:(""!=stWidget.options.lang&&"en"!=stWidget.options.lang||"undefined"!=typeof t&&""!==t.version&&(stWidgetVersion="5x"==t.version?"5xa":t.version),0==stWidgetVersion?stLight.usePublisherDefaultSettings():stWidget.options.publisherMigration=!0)),"5x"!=stWidgetVersion&&"5x"!=stLight.version||(stWidgetVersion="5xa")},stLight.snapSetsDefault=function(t){t&&(t.override?stWidget.options.snapsets=t.snapsets:null==stWidget.options.snapsets&&(stWidget.options.snapsets=t.snapsets))},stLight.cnsDefault=function(t){t&&(t.override?(stWidget.options.doNotHash=t.doNotHash,stWidget.options.hashAddressBar=t.hashAddressBar,stWidget.options.doNotCopy=t.doNotCopy):(null==stWidget.options.doNotHash&&(stWidget.options.doNotHash=t.doNotHash),null==stWidget.options.hashAddressBar&&(stWidget.options.hashAddressBar=t.hashAddressBar),null==stWidget.options.doNotCopy&&(stWidget.options.doNotCopy=t.doNotCopy)),stlib.hash.doNotHash=stWidget.options.doNotHash=!!/true/i.test(stWidget.options.doNotHash),stlib.hash.hashAddressBar=stWidget.options.hashAddressBar=!!/true/i.test(stWidget.options.hashAddressBar),stlib.hash.doNotCopy=stWidget.options.doNotCopy=!!/true/i.test(stWidget.options.doNotCopy))},stLight.loadServicesLoggedIn=function(t){if(useFastShare&&0==esiLoaded)try{stLight.odjs("https:"==document.location.protocol?"https://wd-edge.sharethis.com/button/checkOAuth.esi":"http://wd-edge.sharethis.com/button/checkOAuth.esi",function(){"undefined"!=typeof userDetails&&(stIsLoggedIn=!0,"null"!==userDetails&&(servicesLoggedIn=userDetails)),esiLoaded=!0,null!=t&&t()})}catch(e){}else null!=t&&t()},"completed"==window.document.readyState?stLight.onReady():"undefined"!=typeof window.addEventListener?window.addEventListener("load",stLight.onReady,!1):"undefined"!=typeof document.addEventListener?document.addEventListener("load",stLight.onReady,!1):"undefined"!=typeof window.attachEvent&&window.attachEvent("onload",stLight.onReady),stLight.createSegmentFrame=function(){try{stLight.segmentframe=document.createElement('<iframe name="stframe" allowTransparency="true" style="body{background:transparent;}" ></iframe>')}catch(t){stLight.segmentframe=document.createElement("iframe")}stLight.segmentframe.id="stSegmentFrame",stLight.segmentframe.name="stSegmentFrame";var e=document.body,s=("https:"==document.location.protocol?"https://seg.":"http://seg.")+"sharethis.com/getSegment.php?purl="+encodeURIComponent(document.location.href)+"&jsref="+encodeURIComponent(document.referrer)+"&rnd="+(new Date).getTime();stLight.segmentframe.src=s,stLight.segmentframe.frameBorder="0",stLight.segmentframe.scrolling="no",stLight.segmentframe.width="0px",stLight.segmentframe.height="0px",stLight.segmentframe.setAttribute("style","display:none;"),e.appendChild(stLight.segmentframe)},stLight.options=function(t){t&&t.version&&(stLight.version=t.version),t&&"undefined"!=typeof t.mobileWidget&&(stLight.mobileWidget=t.mobileWidget),t&&t.publisher&&(stlib.data.setPublisher(t.publisher),stLight.publisher=t.publisher),t&&t.loadedFromBar&&(stLight.loadedFromBar=t.loadedFromBar),t&&t.clickCallBack&&"function"==typeof t.clickCallBack&&(stLight.clickCallBack=t.clickCallBack),t&&"undefined"!=typeof t.hashAddressBar&&(stlib.hash.hashAddressBar=t.hashAddressBar),t&&"undefined"!=typeof t.doNotHash&&(stlib.hash.doNotHash=t.doNotHash),t&&"undefined"!=typeof t.doNotCopy&&(stlib.hash.doNotCopy=t.doNotCopy);for(var e in t)"shorten"==e&&(stFastShareObj.shorten=t[e]),stWidget.options.hasOwnProperty(e)&&null!==t[e]&&(stWidget.options[e]=t[e])},stLight.hasButtonOnPage=function(){for(var t=document.getElementsByTagName("*"),e=new RegExp(/^st_(.*?)$/),s=t.length,n=0;n<s;n++)if("string"==typeof t[n].className&&""!=t[n].className){if(t[n].className.match(/st_whatsapp_custom/g)&&!stlib.browser.mobile.isIOs()&&!stlib.browser.mobile.isAndroid()&&!iswhatsappCustomButton&&"undefined"!=typeof window.console)try{console.debug("WhatsApp custom button has support for iOS (iPhone) and android only and it will not work on any other platform."),iswhatsappCustomButton=!0}catch(i){}if(t[n].className.match(e)&&t[n].className.match(e).length>=2&&t[n].className.match(e)[1])return!0}return!1}}var stButtons={};if(stButtons.smartifyButtons=function(t){if("undefined"!=typeof t&&"undefined"!=t){stRecentServices=t;for(var e in stRecentServices)stRecentServices[e].processed=!1}stButtons.completeInit()},stButtons.makeButton=function(t){function e(t){var e=new Date,s=null,n=0;do if(s=new Date,n++,n>t)break;while(s-e<t||!esiLoaded)}var s=t.service,n=t.text,i="";"undefined"!=typeof stWidget.options.shorten&&(i=stWidget.options.shorten),null!=n||"vcount"!=t.type&&"hcount"!=t.type||(n="Share","email"==s&&(n="Mail")),"fb_like"==s?s="fblike":"fblike_fbLong"==s&&(s="fblike",t.type="fbLong");var a=stWidget.ogurl?stWidget.ogurl:stWidget.twitterurl?stWidget.twitterurl:document.location.href;a=t.url?t.url:a;var o=a;stlib.hash.doNotHash||(o=stlib.hash.appendHash(a),a=o),stlib.data.set("url",o,"shareInfo");var r=null!=t.short_url?t.short_url:"",l=stWidget.ogtitle?stWidget.ogtitle:stWidget.twittertitle?stWidget.twittertitle:document.title;if(l=t.title?t.title:l,"string"==typeof t.pinterest_native&&(t.pinterest_native=t.pinterest_native.replace(/^\s+|\s+$/g,"")),!("weheartit"!=s&&"pinterest"!=s||"false"!=t.pinterest_native&&null!=t.pinterest_native&&""!=t.pinterest_native)){var d=stWidget.ogimg?stWidget.ogimg:stWidget.twitterimg?stWidget.twitterimg:t.thumbnail?t.thumbnail:null;"string"==typeof d&&(d=d.replace(/^\s+|\s+$/g,"")),"string"==typeof t.image&&(t.image=t.image.replace(/^\s+|\s+$/g,"")),d=t.image?t.image:d}var c=stWidget.desc?stWidget.desc:"";c=stWidget.ogdesc?stWidget.ogdesc:stWidget.twitterdesc?stWidget.twitterdesc:stWidget.desc,c=t.summary&&null!=t.summary?t.summary:c;var u=t.message&&null!=t.message?t.message:"";0==/(http|https):\/\//.test(a)&&(a=decodeURIComponent(a),l=decodeURIComponent(l)),0==/(http|https):\/\//.test(r)&&(r=decodeURIComponent(r));var p=document.createElement("span");if(p.setAttribute("style","text-decoration:none;color:#000000;display:inline-block;cursor:pointer;"),p.className="stButton","custom"==t.type&&"email"!=s&&"sharethis"!=s&&"wordpress"!=s)return t.element.onclick=function(){_$d_(),_$d1("Clicked on a custom button to share"),stLight.callSubscribers("click",s,a),stlib.data.resetShareData(),stlib.data.set("url",a,"shareInfo"),stlib.data.set("short_url",r,"shareInfo"),stlib.data.set("shorten",i,"shareInfo"),stlib.data.set("title",l,"shareInfo"),stlib.data.set("destination",s,"shareInfo"),stlib.data.setSource("chicklet"),stlib.data.set("buttonType",t.type,"shareInfo"),"undefined"!=typeof pinterest_native&&null!=pinterest_native&&" "!=pinterest_native&&stlib.data.set("pinterest_native",pinterest_native,"shareInfo"),"undefined"!=typeof d&&null!=d&&" "!=d&&stlib.data.set("image",d,"shareInfo"),"undefined"!=typeof c&&null!=c&&stlib.data.set("description",c,"shareInfo"),""!=u&&stlib.data.set("message",u,"shareInfo"),null!=t.element.getAttribute("st_username")&&stlib.data.set("refUsername",t.element.getAttribute("st_username"),"shareInfo"),"twitter"==s&&null!=t.element.getAttribute("st_via")&&stlib.data.set("via",t.element.getAttribute("st_via").replace(/^\s+|\s+$/g,""),"shareInfo"),stlib.sharer.share(null,stWidget.options.servicePopup),"pinterest"==s&&stlib.sharer.sharePinterest(),"print"==s&&stlib.sharer.stPrint()},!1;if("email"==s||"sharethis"==s||"wordpress"==s||stIsLoggedIn&&servicesLoggedIn&&"undefined"!=typeof servicesLoggedIn[s]&&(useFastShare||!useFastShare&&switchTo5x)&&("facebook"==s||"twitter"==s||"yahoo"==s||"linkedin"==s)||(p.onclick=function(){if(stlib.browser.mobile.isIOs()||stlib.browser.mobile.isAndroid()||"whatsapp"!=s||window.location.pathname.indexOf("get-sharing-tools")==-1){_$d_(),_$d1("Clicked on a regular button to share"),stLight.callSubscribers("click",s,a);for(var e=this.getElementsByTagName("*"),n=0;n<e.length;n++)"stBubble_hcount"!=e[n].className&&"stBubble_count"!=e[n].className||stWidget.options.nativeCount&&stlib.nativeCounts.checkNativeCountServicesQueue(s)||isNaN(e[n].innerHTML)||(e[n].innerHTML=Number(e[n].innerHTML)+1);stWidget.options.tracking&&shareLog(s,a),stlib.data.resetShareData();var o="",p=stLight.getSource();"share5x"==p?o="5x":"share4x"==p&&(o="4x"),stlib.data.set("url",a,"shareInfo"),stlib.data.set("short_url",r,"shareInfo"),stlib.data.set("shorten",i,"shareInfo"),stlib.data.set("title",l,"shareInfo"),stlib.data.set("destination",s,"shareInfo"),stlib.data.setSource("chicklet"+o),stlib.data.set("buttonType",t.type,"shareInfo"),"undefined"!=typeof pinterest_native&&null!=pinterest_native&&" "!=pinterest_native&&stlib.data.set("pinterest_native",pinterest_native,"shareInfo"),"undefined"!=typeof d&&null!=d&&stlib.data.set("image",d,"shareInfo"),"undefined"!=typeof c&&null!=c&&stlib.data.set("description",c,"shareInfo"),""!=u&&stlib.data.set("message",u,"shareInfo"),null!=t.element.getAttribute("st_username")&&stlib.data.set("refUsername",t.element.getAttribute("st_username"),"shareInfo"),"twitter"==s&&null!=t.element.getAttribute("st_via")&&stlib.data.set("via",t.element.getAttribute("st_via").replace(/^\s+|\s+$/g,""),"shareInfo"),stlib.sharer.share(null,stWidget.options.servicePopup),"pinterest"!=s||0!=stlib.data.get("image","shareInfo")&&null!=stlib.data.get("image","shareInfo")||stlib.sharer.sharePinterest(),"print"==s&&stlib.sharer.stPrint()}else;}),"gbuzz"==s)return p;if("fblike"==s||"fbsend"==s||"fbrec"==s||"fbLong"==s||"fbsub"==s)return"fbsub"==s&&(a=null!=t.element.getAttribute("st_username")?"http://facebook.com/"+t.element.getAttribute("st_username"):""),stButtons.makeFBButton(s,t.type,a);if(stlib.nativeButtons.checkNativeButtonSupport(s)){var m={};if(null!=t.element.getAttribute("st_username")&&(m.username=t.element.getAttribute("st_username")),null!=t.element.getAttribute("st_followId")&&(m.followId=t.element.getAttribute("st_followId")),retObj=stlib.nativeButtons.makeButton(s,t.type,m),retObj)return stlib.nativeButtons.checkNativeButtonLogging(s)&&(retObj.onclick=function(){stlib.nativeButtons.logService(s,a)}),retObj;if("undefined"!=typeof window.console)try{console.debug("Looks like "+s+" is missing some required parameters. Please recheck "+s+" HTML \nFor help, contact support@sharethis.com")}catch(h){}return p}if("plusone"==s){stButtons.loadPlusone=!0;var g=document.createElement("div");g.innerHTML="&nbsp;",iedocmode=stlib.browser.getIEVersion();var f=navigator.userAgent.indexOf("MSIE 7.0")!=-1,b=(navigator.userAgent.indexOf("Safari")!=-1&&navigator.userAgent.indexOf("Chrome")==-1,"display:inline-block;overflow:hidden;line-height:0px;"),v="overflow:hidden;zoom:1;display:inline;line-height:0px;position:relative;",_=document.createElement("g:plusone"),y=a;if(/#sthash/i.test(y)){var w=y.split("#");w.length>0&&(y=w[0])}return _.setAttribute("href",y),"vcount"==t.type?(_.setAttribute("size","tall"),g.setAttribute("style",b+"vertical-align:bottom;width:55px; height:61px;"),f&&g.style.setAttribute?g.style.setAttribute("cssText",b+"vertical-align:bottom;width:55px; height:61px;",0):null,iedocmode&&7==iedocmode&&g.style.setAttribute?g.style.setAttribute("cssText",v+"vertical-align:bottom;bottom:-8px;width:55px; height:80px;",0):null):"hcount"==t.type?(_.setAttribute("size","medium"),_.setAttribute("count","true"),g.setAttribute("style",b+"position:relative;vertical-align:middle;bottom:0px;width:75px; height:21px;"),f&&g.style.setAttribute?g.style.setAttribute("cssText",b+"position:relative;vertical-align:middle;width:75px; height:21px;",0):null,iedocmode&&7==iedocmode&&g.style.setAttribute?g.style.setAttribute("cssText",v+"vertical-align:middle;bottom:2px;width:75px; height:21px;",0):null):"button"==t.type?(_.setAttribute("size","medium"),_.setAttribute("count","false"),g.setAttribute("style",b+"position:relative;vertical-align:middle;bottom:0px;width:36px; height:21px;"),f&&g.style.setAttribute?g.style.setAttribute("cssText",b+"position:relative;vertical-align:middle;width:36px; height:21px;",0):null,iedocmode&&7==iedocmode&&g.style.setAttribute?g.style.setAttribute("cssText",v+"vertical-align:middle;bottom:-8px;width:36px; height:39px;",0):null):"large"==t.type?(_.setAttribute("size","large"),_.setAttribute("count","false"),g.setAttribute("style",b+"position:relative;vertical-align:middle;bottom:12px;width:38px; height:27px;"),f&&g.style.setAttribute?g.style.setAttribute("cssText",b+"position:relative;vertical-align:middle;bottom:0px;width:38px; height:30px;",0):null,iedocmode&&(8==iedocmode||9==iedocmode)&&g.style.setAttribute?g.style.setAttribute("cssText",v+"vertical-align:middle;bottom:7px;width:38px; height:39px;",0):null,iedocmode&&7==iedocmode&&g.style.setAttribute?g.style.setAttribute("cssText",v+"vertical-align:middle;bottom:1px;width:38px; height:39px;",0):null):(_.setAttribute("size","small"),_.setAttribute("count","false"),g.setAttribute("style",b+"position:relative;vertical-align:middle;bottom:0px;width:36px; height:16px;"),f&&g.style.setAttribute?g.style.setAttribute("cssText",b+"position:relative;vertical-align:middle;width:36px; height:16px;",0):null,iedocmode&&7==iedocmode&&g.style.setAttribute?g.style.setAttribute("cssText",v+"vertical-align:middle;bottom:-12px;width:36px; height:36px;",0):null),g.appendChild(_),_.setAttribute("callback","plusoneCallback"),g}var $="https:"==document.location.protocol?"https://ws.sharethis.com/images/":"http://w.sharethis.com/images/",C=s;if(esiLoaded||"facebook"!=s&&"twitter"!=s&&"linkedin"!=s&&"yahoo"!=s||e(500),"chicklet"==t.type){var k=document.createElement("span");return k.className="chicklets "+s,null==n?(k.innerHTML="&nbsp;",p.style.paddingLeft="0px",p.style.paddingRight="0px",p.style.width="16px"):k.appendChild(document.createTextNode(n)),p.appendChild(k),p}if("large"==t.type){var k=document.createElement("span");return k.className="stLarge",p.appendChild(k),k.style.backgroundImage="url('"+$+C+"_32.png')",p}if("basic"==t.type||"circle"==t.type||"brushed"==t.type||"shiny"==t.type){var k=document.createElement("span");return k.className="stLarge",k.className="16"==t.size?"brushed"==t.type||"shiny"==t.type?"stSmall2":"stSmall":k.className,k.className="64"==t.size?"stHuge":k.className,p.appendChild(k),k.style.backgroundImage="url('"+$+t.type+"/"+t.size+"/"+C+(t.color?"_"+t.color:"_"+t.type)+".png')",p}if("pcount"==t.type||"stbar"==t.type||"stsmbar"==t.type){var I=document.createElement("span"),k=document.createElement("span");if("stsmbar"==t.type){k.className="stSmBar";var $="https:"==document.location.protocol?"https://ws.sharethis.com/images/":"http://w.sharethis.com/images/";k.style.backgroundImage="url('"+$+C+"_16.png')"}else{k.className="stLarge";var $="https:"==document.location.protocol?"https://ws.sharethis.com/images/":"http://w.sharethis.com/images/";k.style.backgroundImage="url('"+$+C+"_32.png')"}I.appendChild(k);var x=document.createElement("span"),A=document.createElement("div");"stsmbar"==t.type?A.className="stBubbleSmHoriz":A.className="stBubbleSm",A.setAttribute("id","stBubble_"+t.count),A.style.visibility="hidden";var S=document.createElement("div");return S.className="stBubble_count_sm",A.appendChild(S),x.appendChild(A),x.appendChild(I),p.appendChild(x),stButtons.getCount2(a,s,S),I.onmouseover=function(){var e=document.getElementById("stBubble_"+t.count);e.style.visibility="visible"},I.onmouseout=function(){var e=document.getElementById("stBubble_"+t.count);e.style.visibility="hidden"},p}if("button"==t.type||"vcount"==t.type||"hcount"==t.type){var I=document.createElement("span");I.className="stButton_gradient";var B=document.createElement("span");if(B.className="chicklets "+s,null==n?B.innerHTML="&nbsp;":B.appendChild(document.createTextNode(n)),I.appendChild(B),"facebook"==s||"twitter"==s||"linkedin"==s||"yahoo"==s||"pinterest"==s||"sharethis"==s||"email"==s){var T=document.createElement("span");T.className="stMainServices st-"+s+"-counter",T.innerHTML="&nbsp",I=T,T.style.backgroundImage="url('"+$+C+"_counter.png')","sharethis"==s&&null!=n&&n.length<6&&(T.className="stMainServices st-"+s+"-counter2",T.style.backgroundImage="url('"+$+C+"_counter2.png')")}if("vcount"==t.type){var x=document.createElement("div"),A=document.createElement("div");A.className="stBubble";var S=document.createElement("div");S.className="stBubble_count",A.appendChild(S),x.appendChild(A),x.appendChild(I),p.appendChild(x),stButtons.getCount2(a,s,S)}else if("hcount"==t.type){var x=document.createElement("span"),L=document.createElement("span");L.className="stButton_gradient stHBubble";var E=document.createElement("span");E.className="stButton_left",E.innerHTML="&nbsp;";var W=document.createElement("span");W.className="stButton_right",W.innerHTML="&nbsp;";var S=document.createElement("span");S.className="stBubble_hcount",L.appendChild(S),x.appendChild(I);var N=document.createElement("span");N.className="stArrow",N.appendChild(L),x.appendChild(N),p.appendChild(x),stButtons.getCount2(a,s,S)}else p.appendChild(I);if(("vcount"==t.type||"hcount"==t.type)&&"native"==t.ctype)if("twitter"==s){var D=document.createElement("span");D.className="stButton";var P=55,F=20,j="",R="none";if("vcount"==t.type){var O=document.createElement("div");P=55,F=62,j="top:42px;",R="vertical"}else if("hcount"==t.type){var O=document.createElement("span");P=110,F=20,R="horizontal"}iedocmode=stlib.browser.getIEVersion();var M=document.createElement("span");M.setAttribute("style","vertical-align:bottom;line-height:0px;position:absolute;padding:0px !important;"+j+"width:55px;height:20px;"),iedocmode&&7==iedocmode&&M.style.setAttribute?M.style.setAttribute("cssText","vertical-align:bottom;line-height:0px;position:absolute;padding:0px !important;"+j+"width:55px;height:20px;",0):null;try{var H=document.createElement('<iframe name="stframe" allowTransparency="true" scrolling="no" frameBorder="0"></iframe>')}catch(h){H=document.createElement("iframe"),H.setAttribute("allowTransparency","true"),H.setAttribute("frameborder","0"),H.setAttribute("scrolling","no")}var U=encodeURIComponent(a);H.setAttribute("src","http://platform.twitter.com/widgets/tweet_button.html?count="+R+"&url="+U),H.setAttribute("style","width:"+P+"px;height:"+F+"px;"),iedocmode&&7==iedocmode&&H.style.setAttribute?H.style.setAttribute("cssText","width:"+P+"px;height:"+F+"px;",0):null,useFastShare&&servicesLoggedIn&&"undefined"!=typeof servicesLoggedIn[s]&&O.appendChild(M),O.appendChild(H),I=O,D.appendChild(I),D.setAttribute("style","text-decoration:none;color:#000000;display:inline-block;cursor:pointer;vertical-align:bottom;margin-top:6px;width:"+P+"px;height:"+F+"px;"),iedocmode&&7==iedocmode&&D.style.setAttribute?D.style.setAttribute("cssText","text-decoration:none;color:#000000;display:inline-block;cursor:pointer;vertical-align:bottom;width:"+P+"px;height:"+F+"px;",0):null,p=D}else if("facebook"==s)return stButtons.getXFBMLFromFB(t),stButtons.makeFBButton("fblike",t.type,a)}else if("css"==t.type){var I=document.createElement("div");if(I.className="stCSSButton","cssV"==t.cssType){var q=document.createElement("div");q.className="stCSSVBubble";var z=document.createElement("div");z.className="stCSSVBubble_count",q.appendChild(z);var V=document.createElement("div");V.className="stCSSVArrow";var G=document.createElement("div");G.className="stCSSVArrowBorder",G.appendChild(V),p.appendChild(q),p.appendChild(G),stButtons.getCount2(a,s,z)}var X=document.createElement("div");X.className="stCSSSprite "+s,X.innerHTML="&nbsp;";var k=document.createElement("span");if(k.className="stCSSText",I.appendChild(X),null==n||""==n||(k.appendChild(document.createTextNode(n)),I.appendChild(k)),p.appendChild(I),"cssH"==t.cssType){var Q=document.createElement("div");Q.className="stCSSHBubble";var z=document.createElement("div");z.className="stCSSHBubble_count",Q.appendChild(z);var Y=document.createElement("div");Y.className="stCSSHArrow";var J=document.createElement("div");J.className="stCSSHArrowBorder",J.appendChild(Y),p.appendChild(J),p.appendChild(Q),stButtons.getCount2(a,s,z)}}return p},stButtons.makeFBButton=function(t,e,s){try{var n=document.createElement("<div></div>")}catch(i){n=document.createElement("div")}if(/#sthash/i.test(s)){var a=s.split("#");a.length>0&&(s=a[0])}var o=s,r="button_count",l="fb-send",d="";iedocmode=stlib.browser.getIEVersion();var c="";"vcount"==e?r="box_count":"hcount"==e||("large"==e?c=iedocmode&&7==iedocmode?"vertical-align:bottom;bottom:3px;":"bottom:7px;margin-top:9px;":"button"==e||(c="top:1px;margin-top:0px;")),"fbLong"==t?(l="fb-like",r="standard",n.setAttribute("data-layout",r),n.setAttribute("data-send","false"),n.setAttribute("data-show-faces","false")):"fbsend"==t?l="fb-send":"fblike"==t||"fbrec"==t?("fbrec"==t?d="recommend":null,l="fb-like",n.setAttribute("data-action",d),n.setAttribute("data-send","false"),n.setAttribute("data-layout",r),n.setAttribute("data-show-faces","false")):"fbsub"==t&&(l="fb-subscribe",n.setAttribute("data-layout",r),n.setAttribute("data-show-faces","false")),n.setAttribute("class",l),n.setAttribute("data-href",o),iedocmode&&7==iedocmode&&(n="fbsend"!=t?document.createElement("<div class='"+l+"' data-action='"+d+"' data-send='false' data-layout='"+r+"' data-show-faces='false' data-href='"+o+"'></div>"):document.createElement("<div class='"+l+"' data-href='"+o+"'></div>"));var u=document.createElement("span");return u.setAttribute("style","text-decoration:none;color:#000000;display:inline-block;cursor:pointer;position:relative;margin:3px 3px 0;padding:0px;font-size:11px;line-height:0px;vertical-align:bottom;overflow:visible;"+c),iedocmode&&7==iedocmode&&u.style.setAttribute?u.style.setAttribute("cssText","text-decoration:none;color:#000000;display:inline-block;cursor:pointer;position:relative;margin:3px 3px 0;font-size:11px;line-height:0px;"+c,0):null,u.appendChild(n),u},stButtons.getCount=function(t,e,s){if(s&&null!==s)for(;s.childNodes.length>=1;)try{s.removeChild(s.firstChild)}catch(n){}stButtons.cbQueue.push({url:t,service:e,element:s}),stButtons.getCountsFromService(t,e,s)},stButtons.getCount2=function(t,e,s){if(s&&null!==s)for(;s.childNodes.length>=1;)try{s.removeChild(s.firstChild)}catch(n){}if(stWidget.options.nativeCount&&stlib.nativeCounts.checkNativeCountServicesQueue(e)){if("facebook"==e&&/#/.test(t)&&(t=t.split("#")[0]),stButtons.cbNativeQueue.push({url:t,service:e,element:s}),"undefined"==typeof stButtons.countsNativeResp[t]&&(stButtons.countsNativeResp[t]=[]),"undefined"==typeof stButtons.countsNativeResp[t][e])stlib.nativeCounts.getNativeCounts(e,t,"stButtons."+e+"CB"),stButtons.countsNativeResp[t][e]=null;else if(null!=stButtons.countsNativeResp[t][e])switch(e){case"facebook":stButtons.facebookCB(stButtons.countsNativeResp[t][e]);break;case"linkedin":stButtons.linkedinCB(stButtons.countsNativeResp[t][e]);break;case"stumbleupon":stButtons.stumbleuponCB(stButtons.countsNativeResp[t][e])}}else stButtons.cbQueue.push({url:t,service:e,element:s}),stButtons.getCountsFromService(t,e,s)},stButtons.processCB=function(t){"undefined"!=typeof t&&"undefined"!=typeof t.ourl&&(stButtons.countsResp[t.ourl]=t),stButtons.processCount(t)},stButtons.stumbleuponCB=function(t){var e={ourl:"",stumbleupon:null};"undefined"!=typeof t&&"undefined"!=typeof t.result&&("undefined"!=typeof stButtons.countsNativeResp[t.result.url]&&(stButtons.countsNativeResp[t.result.url].stumbleupon=t),e.ourl=t.result.url,"undefined"!=typeof t.result.views&&(e.stumbleupon=t.result.views)),stButtons.processNativeCount(e,"stumbleupon")},stButtons.linkedinCB=function(t){var e={ourl:"",linkedin:null};"undefined"!=typeof t&&("undefined"!=typeof stButtons.countsNativeResp[t.url]&&(stButtons.countsNativeResp[t.url].linkedin=t),e.ourl=t.url,"undefined"!=typeof t.count&&(e.linkedin=t.count)),stButtons.processNativeCount(e,"linkedin")},stButtons.facebookCB=function(t){var e={ourl:"",facebook:null};"undefined"!=typeof t&&("undefined"!=typeof stButtons.countsNativeResp[t[0].url]&&(stButtons.countsNativeResp[t[0].url].facebook=t),e.ourl=t[0].url,"undefined"!=typeof t[0].total_count&&(e.facebook=t[0].total_count)),stButtons.processNativeCount(e,"facebook")},stButtons.processCount=function(t){if(t){stButtons.storedCountResponse=t;for(var e=!1,s=0;s<stButtons.cbQueue.length;s++){var n=stButtons.cbQueue[s];if(t.ourl==n.url){var i="New";try{"sharethis"==n.service?(null==stWidget.options.minShareCount||t.total>=stWidget.options.minShareCount)&&(i="zero"==stWidget.options.newOrZero?t.total>0?stButtons.human(t.total):"0":t.total>0?stButtons.human(t.total):"New"):"facebook"==n.service&&"undefined"!=typeof t.facebook2?(null==stWidget.options.minShareCount||t.facebook2>=stWidget.options.minShareCount)&&(i=stButtons.human(t.facebook2)):"undefined"!=typeof t[n.service]?(null==stWidget.options.minShareCount||t[n.service]>=stWidget.options.minShareCount)&&(i=t[n.service]>0?stButtons.human(t[n.service]):"0"):(null==stWidget.options.minShareCount||stWidget.options.minShareCount<=0)&&(i="0"),1==/stHBubble/.test(n.element.parentNode.className)?n.element.parentNode.style.display="inline-block":1==/stBubble/.test(n.element.parentNode.className)&&(n.element.parentNode.style.display="block"),n.element.innerHTML=i}catch(a){if(!n.element.hasChildNodes()){var o=document.createElement("div");o.innerHTML=i,n.element.appendChild(o)}}e=!0}}}},stButtons.processNativeCount=function(t,e){if(t&&e)for(var s=0;s<stButtons.cbNativeQueue.length;s++){var n=stButtons.cbNativeQueue[s];if(t.ourl==n.url||"stumbleupon"==e&&t.ourl.replace(/http:\/\/www\.|http:\/\/|www\./i,"")==n.url.replace(/http:\/\/www\.|http:\/\/|www\./i,"")){var i="New";try{if(n.service!=e)continue;null!=t[e]&&(null==stWidget.options.minShareCount||t[e]>=stWidget.options.minShareCount)&&(i=stButtons.human(t[e])),1==/stHBubble/.test(n.element.parentNode.className)?n.element.parentNode.style.display="inline-block":1==/stBubble/.test(n.element.parentNode.className)&&(n.element.parentNode.style.display="block"),n.element.innerHTML=i}catch(a){if(!n.element.hasChildNodes()){var o=document.createElement("div");o.innerHTML=i,n.element.appendChild(o)}}}}},stButtons.human=function(t){return t>=1e5?(t/=1e3,t=Math.round(t),t+="K"):t>=1e4&&(t/=100,t=Math.round(t),t/=10,t+="K"),t},stButtons.isValidService=function(t){return!("object"!=typeof stlib.allServices||!stlib.allServices.hasOwnProperty(t))||(!("object"!=typeof stlib.allOauthServices||!stlib.allOauthServices.hasOwnProperty(t))||(!("object"!=typeof stlib.allNativeServices||!stlib.allNativeServices.hasOwnProperty(t))||!("object"!=typeof stlib.allOtherServices||!stlib.allOtherServices.hasOwnProperty(t))));
},stButtons.locateElements=function(t){var e,s,n,i=document.getElementsByTagName("*"),a=[],o=new RegExp(/st_(.*?)_custom/),r=new RegExp(/st_(.*?)_vcount/),l=new RegExp(/st_(.*?)_vcount_native/),d=new RegExp(/st_(.*?)_hcount/),c=new RegExp(/st_(.*?)_hcount_native/),u=new RegExp(/st_(.*?)_button/),p=new RegExp(/st_(.*?)_large/),m=new RegExp(/st_(.*?)_pcount/),h=new RegExp(/st_(.*?)_stbar/),g=new RegExp(/st_(.*?)_stsmbar/),f=new RegExp(/st_(.*?)_css/),b=new RegExp(/^st_(.*?)$/),v=(new RegExp(/st_(.*?)_basic/),new RegExp(/st_(.*?)_circle/)),_=new RegExp(/(st_(.*?)_basic)|(st_(.*?)_circle)/),y=new RegExp(/(st_(.*?)_brushed)|(st_(.*?)_shiny)/),w=(new RegExp(/(st_(.*?)_brushed)/),new RegExp(/(st_(.*?)_shiny)/)),$=i.length,C=!1,k={},I=0,x=[],A=!1;"undefined"!=typeof stRecentServices&&"undefined"!=stRecentServices&&"false"!=stRecentServices&&stRecentServices&&(A=!0);for(var S=0;S<$;S++)if(e="",s=!1,n=!1,"string"==typeof i[S].className&&""!=i[S].className){if(!stlib.browser.mobile.isIOs()&&!stlib.browser.mobile.isAndroid()&&i[S].className.indexOf("whatsapp")!==-1&&window.location.pathname.indexOf("get-sharing-tools")===-1)continue;if(i[S].className.match(o)&&i[S].className.match(o).length>=2&&i[S].className.match(o)[1])0==stButtons.testElem(i[S])&&(n=!0,e=i[S].className.match(o)[1],typeName="custom","plusone"!=e&&"fblike"!=e&&"fbrec"!=e&&"fbsend"!=e&&"fbsub"!=e||(typeName="chicklet"),a.push({service:e,element:i[S],url:i[S].getAttribute("st_url"),short_url:null!=i[S].getAttribute("st_short_url")?i[S].getAttribute("st_short_url"):"",title:i[S].getAttribute("st_title"),image:null!=i[S].getAttribute("st_img")?i[S].getAttribute("st_img"):i[S].getAttribute("st_image"),pinterest_native:i[S].getAttribute("st_native"),message:null!=i[S].getAttribute("st_msg")?i[S].getAttribute("st_msg"):i[S].getAttribute("st_message"),summary:i[S].getAttribute("st_summary"),text:i[S].getAttribute("displayText"),type:typeName}),i[S].setAttribute("st_processed","yes"));else if(i[S].className.match(_)&&i[S].className.match(_).length>=2){if(0==stButtons.testElem(i[S])){n=!0,e=i[S].className.split("_")[1];var B="basic";i[S].className.match(v)&&(B="circle"),a.push({service:e,element:i[S],url:i[S].getAttribute("st_url"),short_url:null!=i[S].getAttribute("st_short_url")?i[S].getAttribute("st_short_url"):"",title:i[S].getAttribute("st_title"),image:null!=i[S].getAttribute("st_img")?i[S].getAttribute("st_img"):i[S].getAttribute("st_image"),pinterest_native:i[S].getAttribute("st_native"),message:null!=i[S].getAttribute("st_msg")?i[S].getAttribute("st_msg"):i[S].getAttribute("st_message"),summary:i[S].getAttribute("st_summary"),text:i[S].getAttribute("displayText"),type:B,size:i[S].className.split("$")[1],color:i[S].className.split("$")[2]}),i[S].setAttribute("st_processed","yes")}}else if(i[S].className.match(y)&&i[S].className.match(y).length>=2){if(0==stButtons.testElem(i[S])){n=!0,e=i[S].className.split("_")[1];var B="brushed";i[S].className.match(w)&&(B="shiny"),a.push({service:e,element:i[S],url:i[S].getAttribute("st_url"),short_url:null!=i[S].getAttribute("st_short_url")?i[S].getAttribute("st_short_url"):"",title:i[S].getAttribute("st_title"),image:null!=i[S].getAttribute("st_img")?i[S].getAttribute("st_img"):i[S].getAttribute("st_image"),pinterest_native:i[S].getAttribute("st_native"),message:null!=i[S].getAttribute("st_msg")?i[S].getAttribute("st_msg"):i[S].getAttribute("st_message"),summary:i[S].getAttribute("st_summary"),text:i[S].getAttribute("displayText"),type:B,size:i[S].className.split("$")[1]}),i[S].setAttribute("st_processed","yes")}}else if(i[S].className.match(r)&&i[S].className.match(r).length>=2&&i[S].className.match(r)[1]){if(0==stButtons.testElem(i[S])){n=!0,e=i[S].className.match(r)[1];var T="";i[S].className.match(l)&&i[S].className.match(l).length>=2&&i[S].className.match(l)[1]&&(T="native"),a.push({service:e,element:i[S],url:i[S].getAttribute("st_url"),short_url:null!=i[S].getAttribute("st_short_url")?i[S].getAttribute("st_short_url"):"",title:i[S].getAttribute("st_title"),image:null!=i[S].getAttribute("st_img")?i[S].getAttribute("st_img"):i[S].getAttribute("st_image"),pinterest_native:i[S].getAttribute("st_native"),message:null!=i[S].getAttribute("st_msg")?i[S].getAttribute("st_msg"):i[S].getAttribute("st_message"),summary:i[S].getAttribute("st_summary"),text:i[S].getAttribute("displayText"),type:"vcount",ctype:T}),i[S].setAttribute("st_processed","yes")}}else if(i[S].className.match(d)&&i[S].className.match(d).length>=2&&i[S].className.match(d)[1]){if(0==stButtons.testElem(i[S])){n=!0,e=i[S].className.match(d)[1];var T="";i[S].className.match(c)&&i[S].className.match(c).length>=2&&i[S].className.match(c)[1]&&(T="native"),a.push({service:e,element:i[S],url:i[S].getAttribute("st_url"),short_url:null!=i[S].getAttribute("st_short_url")?i[S].getAttribute("st_short_url"):"",title:i[S].getAttribute("st_title"),image:null!=i[S].getAttribute("st_img")?i[S].getAttribute("st_img"):i[S].getAttribute("st_image"),pinterest_native:i[S].getAttribute("st_native"),message:null!=i[S].getAttribute("st_msg")?i[S].getAttribute("st_msg"):i[S].getAttribute("st_message"),summary:i[S].getAttribute("st_summary"),text:i[S].getAttribute("displayText"),type:"hcount",ctype:T}),i[S].setAttribute("st_processed","yes")}}else if(i[S].className.match(u)&&i[S].className.match(u).length>=2&&i[S].className.match(u)[1])0==stButtons.testElem(i[S])&&(n=!0,e=i[S].className.match(u)[1],a.push({service:e,element:i[S],url:i[S].getAttribute("st_url"),short_url:null!=i[S].getAttribute("st_short_url")?i[S].getAttribute("st_short_url"):"",title:i[S].getAttribute("st_title"),image:null!=i[S].getAttribute("st_img")?i[S].getAttribute("st_img"):i[S].getAttribute("st_image"),pinterest_native:i[S].getAttribute("st_native"),message:null!=i[S].getAttribute("st_msg")?i[S].getAttribute("st_msg"):i[S].getAttribute("st_message"),summary:i[S].getAttribute("st_summary"),text:i[S].getAttribute("displayText"),type:"button"}),i[S].setAttribute("st_processed","yes"));else if(i[S].className.match(p)&&i[S].className.match(p).length>=2&&i[S].className.match(p)[1])0==stButtons.testElem(i[S])&&(n=!0,e=i[S].className.match(p)[1],a.push({service:e,element:i[S],url:i[S].getAttribute("st_url"),short_url:null!=i[S].getAttribute("st_short_url")?i[S].getAttribute("st_short_url"):"",title:i[S].getAttribute("st_title"),image:null!=i[S].getAttribute("st_img")?i[S].getAttribute("st_img"):i[S].getAttribute("st_image"),pinterest_native:i[S].getAttribute("st_native"),message:null!=i[S].getAttribute("st_msg")?i[S].getAttribute("st_msg"):i[S].getAttribute("st_message"),summary:i[S].getAttribute("st_summary"),text:i[S].getAttribute("displayText"),type:"large"}),i[S].setAttribute("st_processed","yes"));else if(i[S].className.match(m)&&i[S].className.match(m).length>=2&&i[S].className.match(m)[1])0==stButtons.testElem(i[S])&&(n=!0,e=i[S].className.match(m)[1],a.push({service:e,element:i[S],url:i[S].getAttribute("st_url"),short_url:null!=i[S].getAttribute("st_short_url")?i[S].getAttribute("st_short_url"):"",title:i[S].getAttribute("st_title"),image:null!=i[S].getAttribute("st_img")?i[S].getAttribute("st_img"):i[S].getAttribute("st_image"),pinterest_native:i[S].getAttribute("st_native"),message:null!=i[S].getAttribute("st_msg")?i[S].getAttribute("st_msg"):i[S].getAttribute("st_message"),summary:i[S].getAttribute("st_summary"),text:i[S].getAttribute("displayText"),type:"pcount",count:S}),i[S].setAttribute("st_processed","yes"));else if(i[S].className.match(h)&&i[S].className.match(h).length>=2&&i[S].className.match(h)[1])0==stButtons.testElem(i[S])&&(n=!0,e=i[S].className.match(h)[1],a.push({service:e,element:i[S],url:i[S].getAttribute("st_url"),short_url:null!=i[S].getAttribute("st_short_url")?i[S].getAttribute("st_short_url"):"",title:i[S].getAttribute("st_title"),image:null!=i[S].getAttribute("st_img")?i[S].getAttribute("st_img"):i[S].getAttribute("st_image"),pinterest_native:i[S].getAttribute("st_native"),message:null!=i[S].getAttribute("st_msg")?i[S].getAttribute("st_msg"):i[S].getAttribute("st_message"),summary:i[S].getAttribute("st_summary"),text:i[S].getAttribute("displayText"),type:"stbar",count:S}),i[S].setAttribute("st_processed","yes"));else if(i[S].className.match(g)&&i[S].className.match(g).length>=2&&i[S].className.match(g)[1])0==stButtons.testElem(i[S])&&(n=!0,e=i[S].className.match(g)[1],a.push({service:e,element:i[S],url:i[S].getAttribute("st_url"),short_url:null!=i[S].getAttribute("st_short_url")?i[S].getAttribute("st_short_url"):"",title:i[S].getAttribute("st_title"),image:null!=i[S].getAttribute("st_img")?i[S].getAttribute("st_img"):i[S].getAttribute("st_image"),pinterest_native:i[S].getAttribute("st_native"),message:null!=i[S].getAttribute("st_msg")?i[S].getAttribute("st_msg"):i[S].getAttribute("st_message"),summary:i[S].getAttribute("st_summary"),text:i[S].getAttribute("displayText"),type:"stsmbar",count:S}),i[S].setAttribute("st_processed","yes"));else if(i[S].className.match(f)&&i[S].className.match(f).length>=2&&i[S].className.match(f)[1]){if(0==stButtons.testElem(i[S])){n=!0,e=i[S].className.match(f)[1];var L=i[S].className.split("_");a.push({service:e,element:i[S],url:i[S].getAttribute("st_url"),short_url:null!=i[S].getAttribute("st_short_url")?i[S].getAttribute("st_short_url"):"",title:i[S].getAttribute("st_title"),image:null!=i[S].getAttribute("st_img")?i[S].getAttribute("st_img"):i[S].getAttribute("st_image"),pinterest_native:i[S].getAttribute("st_native"),message:null!=i[S].getAttribute("st_msg")?i[S].getAttribute("st_msg"):i[S].getAttribute("st_message"),summary:i[S].getAttribute("st_summary"),text:i[S].getAttribute("displayText"),type:"css",cssType:L[L.length-1]}),i[S].setAttribute("st_processed","yes")}}else i[S].className.match(b)&&i[S].className.match(b).length>=2&&i[S].className.match(b)[1]&&0==stButtons.testElem(i[S])&&(n=!0,e=i[S].className.match(b)[1],a.push({service:e,element:i[S],url:i[S].getAttribute("st_url"),short_url:null!=i[S].getAttribute("st_short_url")?i[S].getAttribute("st_short_url"):"",title:i[S].getAttribute("st_title"),image:null!=i[S].getAttribute("st_img")?i[S].getAttribute("st_img"):i[S].getAttribute("st_image"),pinterest_native:i[S].getAttribute("st_native"),message:null!=i[S].getAttribute("st_msg")?i[S].getAttribute("st_msg"):i[S].getAttribute("st_message"),summary:i[S].getAttribute("st_summary"),text:i[S].getAttribute("displayText"),type:"chicklet"}),i[S].setAttribute("st_processed","yes"));if(A&&n){for(I=0;I<x.length;I++)x[I].service==e&&(x[I].count++,s=!0);s||x.push({service:e,count:1,doNotReplace:!1,processed:!1})}if("sharethis"==e){if(stlib.browser.mobile.isMobile())if(C){if(!stlib.browser.mobile.isExcerptImplementation){for(var E,W=document.getElementsByTagName("meta"),N=0,D=W.length;N<D;N++)"description"==W[N].name.toLowerCase()&&(E=W[N]);k.url=document.URL,k.title=document.title,k.image=null,k.summary=E}stlib.browser.mobile.isExcerptImplementation=!0}else k={service:e,url:i[S].getAttribute("st_url"),title:i[S].getAttribute("st_title"),image:null!=i[S].getAttribute("st_img")?i[S].getAttribute("st_img"):i[S].getAttribute("st_image"),summary:i[S].getAttribute("st_summary"),type:"button"};C=!0}}if(A)for(var P=[],N=x.length-1;N>=0;N--)if("sharethis"==x[N].service||x[N].doNotReplace)x[N].processed=!0;else for(var D in stRecentServices){var F=!1;if(!stRecentServices[D].processed){for(var j=0;j<x.length;j++)if(D==x[j].service&&!x[j].processed){F=!0,x[j].doNotReplace=!0,stRecentServices[D].processed=!0;break}if(!F){P.push({oldService:x[N].service,newService:D});for(var R=0;R<a.length;R++)a[R].service==x[N].service&&(a[R].service=D,a[R].text=stRecentServices[D].title,a[R].element.setAttribute("displayText",stRecentServices[D].title),a[R].element.className=a[R].element.className.replace(x[N].service,D));stRecentServices[D].processed=!0,x[N].processed=!0;break}x[N].processed=!0}}if(a.length>0&&C&&stlib.browser.mobile.isMobile()&&stShowNewMobileWidget&&!isMobileButtonLoaded){var O=document.querySelector&&document.querySelector('div[id="stToolPop"]');if(null==O&&(stButtons.createMobileShareButton(),k.element=document.getElementById("stToolPop"),a.push(k),0==stWidget.mobileWidgetLoaded)){var M=("https:"==document.location.protocol?"https://ws":"http://w")+".sharethis.com/mobile/js/mobile.0739a75d74f715a7944b59d4f3f37c05.js";stlib.scriptLoader.loadJavascript(M,function(){mobileWidget.init(),stWidget.mobileWidgetLoaded=!0})}}for(var H=a.length,S=0;S<H;S++)stButtons.isValidService(a[S].service)&&stWidget.addEntry(a[S]);H>0&&C&&stlib.browser.mobile.isMobile()&&stButtons.hideBarsAndButtons()},stButtons.odcss=function(t,e){this.head=document.getElementsByTagName("head")[0],this.scriptSrc=t,this.css=document.createElement("link"),this.css.setAttribute("rel","stylesheet"),this.css.setAttribute("type","text/css"),this.css.setAttribute("href",this.scriptSrc),setTimeout(function(){e()},500),this.head.appendChild(this.css)},stButtons.makeButtons=function(){if("undefined"==typeof stButtons.button_css_called){var t="https:"==document.location.protocol?"https://ws.sharethis.com/button/css/buttons-secure.css":"http://w.sharethis.com/button/css/buttons.1be8af3324f0d6a3f57225413b0da78b.css";stButtons.odcss(t,function(){}),stButtons.button_css_called=!0}stButtons.locateElements()},stButtons.getPlusOneFromGoogle=function(t){if(0==stButtons.plusOneLoaded){if(0==stButtons.plusOneLoading){var e=document.createElement("script");e.setAttribute("type","text/javascript"),e.setAttribute("src","https://apis.google.com/js/plusone.js"),e.async=stWidget.options.asyncPlusone,e.onload=function(){stButtons.renderPlusOneFromGoogle(t),stButtons.plusOneLoaded=!0,stButtons.plusOneLoading=!1},e.onreadystatechange=function(){"complete"==this.readyState&&(stButtons.renderPlusOneFromGoogle(t),stButtons.plusOneLoaded=!0,stButtons.plusOneLoading=!1)},stButtons.plusOneLoading=!0,document.getElementsByTagName("head")[0].appendChild(e)}}else stButtons.renderPlusOneFromGoogle(t)},stButtons.renderPlusOneFromGoogle=function(t){"plusone"==t?gapi.plusone.go():"googleplusfollow"!=t&&"googleplusadd"!=t||gapi.plus.go()},stButtons.getXFBMLFromFB=function(t){if("undefined"==typeof stWidget.options.fbLoad||1==stWidget.options.fbLoad)if(0==stButtons.xfbmlLoaded){if(0==stButtons.xfbmlLoading){stButtons.xfbmlLoading=!0;var e=document.createElement("div");e.setAttribute("id","fb-root"),document.body.appendChild(e);var s="en_US";"undefined"!=typeof stWidget.options.fbLang&&""!=stWidget.options.fbLang&&(s=stWidget.options.fbLang);var n,i=document.getElementsByTagName("script")[0];if(document.getElementById("facebook-jssdk"))return void("undefined"!=typeof FB&&"undefined"!=typeof FB.XFBML&&"function"==typeof FB.XFBML.parse&&(/iframe/.test(t.innerHTML)||FB.XFBML.parse(t),stButtons.trackFB(),stButtons.xfbmlLoaded=!0,stButtons.xfbmlLoading=!1));n=document.createElement("script"),n.id="facebook-jssdk",n.src="//connect.facebook.net/"+s+"/sdk.js#version=v2.0",n.async=stWidget.options.async,n.onload=function(){FB.init({appId:"",xfbml:!0,version:"v2.0"}),stButtons.trackFB(),stButtons.xfbmlLoaded=!0,stButtons.xfbmlLoading=!1},n.onreadystatechange=function(){"complete"!=this.readyState&&"loaded"!=this.readyState||(FB.init({appId:"",xfbml:!0,version:"v2.0"}),stButtons.trackFB(),stButtons.xfbmlLoaded=!0,stButtons.xfbmlLoading=!1)},i.parentNode.insertBefore(n,i)}}else/iframe/.test(t.innerHTML)||FB.XFBML.parse(t),stButtons.trackFB()},stButtons.addCount=function(t){stButtons.counts.push(t)},stButtons.getCountsFromService=function(t,e,s){if(0==stButtons.checkQueue(t)){var n=n+"-"+stButtons.cbVal;n="stButtons.processCB",stButtons.cbVal++;var i=document.referrer,a=i.replace("http://","").replace("https://","").split("/"),o=a.shift(),r=a.join("/");o=encodeURIComponent(o),r=encodeURIComponent(r);var l=stLight.publisher,d="https:"==document.location.protocol?"https://ws.sharethis.com/api/getCount2.php?cb="+n+"&refDomain="+o+"&refQuery="+r+"&pgurl="+encodeURIComponent(document.location.href)+"&pubKey="+l+"&url=":"http://wd.sharethis.com/api/getCount2.php?cb="+n+"&refDomain="+o+"&refQuery="+r+"&pgurl="+encodeURIComponent(document.location.href)+"&pubKey="+l+"&url=";stLight.odjs(d+encodeURIComponent(t),function(){}),stButtons.queue.push(t)}stButtons.countsResp[t]&&stButtons.processCount(stButtons.countsResp[t])},stButtons.checkQueue=function(t){for(var e=0;e<stButtons.queue.length;e++)if(stButtons.queue[e]==t)return!0;return!1},stButtons.testElem=function(t){return null!=t.getAttribute("st_processed")},stButtons.createMobileShareButton=function(){if(null==document.getElementById("stToolPop")){var t=document.createElement("div"),e=document.createElement("a"),s=document.createElement("img"),n=document.getElementsByTagName("body")[0];t.id="stToolPop",t.className="stToolPop-circular semiTrans gray",t.style.visibility="hidden",e.className="stToolPopLink",e.href="javascript:void(0)",s.id="stToolPop_logo",s.src=("https:"==document.location.protocol?"https://ws":"http://w")+".sharethis.com/images/st-logo-m-widget.png",e.appendChild(s),t.appendChild(e),n.appendChild(t),isMobileButtonLoaded=!0}},stButtons.hideBarsAndButtons=function(){var t=document.getElementById("sharebar");null!=t&&(t.style.cssText="display:none !important")},"undefined"==typeof stWidget)var stWidget=new function(){this.shareables=[],this.entries=0,this.widgetOpen=!1,this.mouseOnTimer=null,this.mouseTimer=null,this.mouseOutTimer=null,this.frameReady=!1,this.stopClosing=!1,this.buttonClicked=!1,this.widgetLoadingComplete=!1,this.skipESIValue=!1,this.frameUrl5xa=this.frameUrl5x="https:"==document.location.protocol?"https://ws.sharethis.com/secure5x/index.html":"http://edge.sharethis.com/share5x/index.70703924f9d54feeb6c2737e7b92dc57.html",this.frameUrl4x="https:"==document.location.protocol?"https://ws.sharethis.com/secure/index.html":"http://edge.sharethis.com/share4x/index.1545d23c12678a4c51ee09515d1791f8.html",this.secure=!1;try{this.mainstframe=document.createElement('<iframe name="stLframe" allowTransparency="true" style="body{background:transparent;}" ></iframe>'),this.mainstframe.onreadystatechange=function(){if("complete"===stWidget.mainstframe.readyState){stWidget.frameReady=!0,stButtons.pumpInstance=new stlib.pump(stWidget.mainstframe,stWidget.mainstframe,function(){stButtons.messageQueueInstance.process()}),stButtons.messageQueueInstance.setPumpInstance(stButtons.pumpInstance);try{stButtons.pumpInstance.broadcastSendMessage("Buttons Ready")}catch(t){}}}}catch(t){this.mainstframe=document.createElement("iframe"),this.mainstframe.allowTransparency="true",this.mainstframe.setAttribute("allowTransparency","true"),this.mainstframe.onload=function(){stWidget.frameReady=!0,stButtons.pumpInstance=new stlib.pump(stWidget.mainstframe,stWidget.mainstframe,function(){stButtons.messageQueueInstance.process()}),stButtons.messageQueueInstance.setPumpInstance(stButtons.pumpInstance);try{stButtons.pumpInstance.broadcastSendMessage("Buttons Ready")}catch(t){}}}this.mainstframe.id="stLframe",this.mainstframe.className="stLframe",this.mainstframe.name="stLframe",this.mainstframe.frameBorder="0",this.mainstframe.scrolling="no",this.wrapper=document.createElement("div"),this.wrapper.id="stwrapper",this.wrapper.className="stwrapper",this.wrapper.style.display="none";var e=0;this.widgetLoadInterval=self.setInterval(function(){stWidget.widgetLoad(),e+=1,e>90&&(stWidget.forceDefaultWidgetSetting(),window.clearInterval(stWidget.widgetLoadInterval))},1e3),this.ogtitle=null,this.ogdesc=null,this.ogurl=null,this.short_url=null,this.ogimg=null,this.ogtype=null,this.twittertitle=null,this.twitterdesc=null,this.twitterurl=null,this.twitterimg=null,this.twittercard=null,this.desc=null,this.initFire=!1,this.merge=function(t,e){for(var s in e)t.hasOwnProperty(s)&&null!==e[s]&&(t[s]=e[s])},this.oldScroll=0,this.init=function(){0==stWidget.initFire&&(stWidget.initFire=!0,null==stButtons.messageQueueInstance&&(stButtons.messageQueueInstance=new stlib.messageQueue),stlib.browser.ieFallback?setTimeout("stButtons.messageQueueInstance.send(stWidget.createFrag(stlib.data,'data'), 'data');",1e3):stButtons.messageQueueInstance.send(stWidget.createFrag(stlib.data,"data"),"data"),stlib.browser.ieFallback?(setTimeout("stButtons.messageQueueInstance.send(stWidget.createFrag(null,'init'), 'init');",2e3),setTimeout("stWidget.initIE=true;",2500)):stButtons.messageQueueInstance.send(stWidget.createFrag(null,"init"),"init"))}};stWidget.createWidgetContainer=function(){window.clearInterval(stWidget.widgetLoadInterval),"5xa"==stWidgetVersion?(stWidget.frameUrlChoice=stWidget.frameUrl5xa,stWidget.wrapper.className+=" stwrapper5x"):"4x"==stWidgetVersion&&(stWidget.frameUrlChoice=stWidget.frameUrl4x,stWidget.wrapper.className+=" stwrapper4x"),stWidget.mainstframe.src=stWidget.frameUrlChoice,stWidget.overlay=document.createElement("div"),document.all&&navigator.appVersion.indexOf("MSIE 6.")!=-1&&(stWidget.overlay.style.position="absolute"),stWidget.overlay.setAttribute("id","stOverlay"),stWidget.overlay.setAttribute("onclick","javascript:stWidget.closeWidget();"),stWidget.wrapper.appendChild(stWidget.mainstframe),stWidget.widgetLoadingComplete=!0},stWidget.widgetLoad=function(){"loaded"!=esiStatus&&0!=useEdgeSideInclude||stWidget.createWidgetContainer()},stWidget.forceDefaultWidgetSetting=function(){stWidget.skipESIValue=!0,stLight.usePublisherDefaultSettings(),stWidget.createWidgetContainer()},stWidget.mobileWidgetLoaded=!1,stWidget.mobileWidget=function(t,e,s){if(stlib.browser.mobile.isMobile()){if(!stShowNewMobileWidget)return stlib.browser.mobile.handleForMobileFriendly(t,e,s);if(0==stWidget.mobileWidgetLoaded){var n=("https:"==document.location.protocol?"https://ws":"http://w")+".sharethis.com/mobile/js/mobile.0739a75d74f715a7944b59d4f3f37c05.js";stlib.scriptLoader.loadJavascript(n,function(){mobileWidget.loadMobileWidget(t,e,s),stWidget.mobileWidgetLoaded=!0})}else mobileWidget.loadMobileWidget(t,e,s);return!0}return!1},stWidget.options=new function(){this.fpc=stLight.fpc,this.sessionID=null,this.publisher=null,this.tracking=!0,this.send_services=null,this.exclusive_services=null,this.headerTitle=null,this.headerfg=null,this.headerbg=null,this.offsetLeft=null,this.offsetTop=null,this.onhover=!0,this.async=!1,this.asyncPlusone=!1,this.autoclose=!0,this.autoPosition=!0,this.embeds=!1,this.doneScreen=!0,this.minorServices=!0,this.excludeServices=null,this.theme=1,this.serviceBarColor=null,this.shareButtonColor=null,this.footerColor=null,this.headerTextColor=null,this.helpTextColor=null,this.mainWidgetColor=null,this.textBoxFontColor=null,this.textRightToLeft=!1,this.shorten=!0,this.popup=!1,this.newOrZero="new",this.minShareCount=null,this.publisherGA=null,this.services="",this.relatedDomain=null,this.hashAddressBar=null,this.doNotHash=null,this.doNotCopy=null,this.nativeCount=!1,this.lang="",this.fbLang="",this.fbLoad=!0,this.servicePopup=!1,this.textcause=null,this.linkcause=null,this.snapsets=null,this.publisherMigration=!1},stWidget.addEntry=function(t){if(!t.element)return!1;if(t&&t.service&&("email"==t.service||"sharethis"==t.service||"wordpress"==t.service||stIsLoggedIn&&servicesLoggedIn&&"undefined"!=typeof servicesLoggedIn[t.service]&&(useFastShare||!useFastShare&&"5xa"==stWidgetVersion)&&("facebook"==t.service||"twitter"==t.service||"yahoo"==t.service||"linkedin"==t.service))?openWidget=!0:openWidget=!1,openWidget){"custom"!=t.type?(t.element.appendChild(stButtons.makeButton(t)),"plusone"!=t.service&&"googleplusfollow"!=t.service&&"googleplusadd"!=t.service||stButtons.getPlusOneFromGoogle(t.service),"fblike"!=t.service&&"fbsend"!=t.service&&"fbrec"!=t.service&&"fbLong"!=t.service&&"fbsub"!=t.service||stButtons.getXFBMLFromFB(t.element),stlib.nativeButtons.checkNativeButtonSupport(t.service)&&stlib.nativeButtons.loadService(t.service)):stButtons.makeButton(t);var e=new Shareable(t);e.idx=stWidget.entries,stWidget.entries++,e.publisher=stLight.publisher,e.sessionID=stLight.sessionID,e.fpc=stLight.fpc,null!=t.element.getAttribute("st_via")&&(e.via=t.element.getAttribute("st_via").replace(/^\s+|\s+$/g,"")),e.url=stWidget.ogurl?stWidget.ogurl:stWidget.twitterurl?stWidget.twitterurl:document.location.href,e.url=t.url?t.url:e.url,stlib.hash.doNotHash||(e.url=stlib.hash.appendHash(e.url),t.url=e.url),stlib.data.set("url",e.url,"shareInfo"),stWidget.short_url=e.short_url,stlib.data.set("short_url",e.short_url,"shareInfo"),e.title=stWidget.ogtitle?stWidget.ogtitle:stWidget.twittertitle?stWidget.twittertitle:document.title,e.title=t.title?t.title:e.title;var s=stWidget.ogimg?stWidget.ogimg:stWidget.twitterimg?stWidget.twitterimg:t.element.thumbnail?t.element.thumbnail:null;return e.image=t.element.image?t.element.image:s,e.summary=stWidget.ogdesc?stWidget.ogdesc:stWidget.twitterdesc?stWidget.twitterdesc:stWidget.desc,e.summary=t.element.summary?t.element.summary:e.summary,stWidget.merge(e,stWidget.options),"undefined"!=typeof stWidget.options.textRightToLeft&&"null"!=stWidget.options.textRightToLeft&&1==stWidget.options.textRightToLeft&&(document.getElementById("stwrapper").style.top="auto",document.getElementById("stwrapper").style.left="auto"),e.mouseOn=function(){stWidget.mouseOnTimer=setTimeout(e.decideFastShare,500)},e.mouseOut=function(){clearInterval(stWidget.mouseOnTimer)},e.decideFastShare=function(){(!stlib.browser.ieFallback||"undefined"!=typeof stWidget.initIE&&1==stWidget.initIE)&&(useFastShare&&stIsLoggedIn&&"email"!=t.service&&"sharethis"!=t.service&&"wordpress"!=t.service&&("undefined"!=typeof servicesLoggedIn[t.service]||"facebook"!=t.service&&"twitter"!=t.service&&"linkedin"!=t.service&&"yahoo"!=t.service)?(stLight.log("widget","fastShare",t.service,t.type),stFastShareObj.url=e.url,stFastShareObj.short_url=e.short_url,stFastShareObj.title=e.title,stFastShareObj.image=e.image,"undefined"!=typeof e.summary&&null!=e.summary&&(stFastShareObj.summary=e.summary),stFastShareObj.via=null,"twitter"==t.service&&null!=e.element.getAttribute("st_via")&&(stFastShareObj.via=e.element.getAttribute("st_via").replace(/^\s+|\s+$/g,"")),stFastShareObj.message=e.message,stFastShareObj.element=t.element,stFastShareObj.service=t.service,stFastShareObj.type=t.type,stFastShareObj.publisher=stlib.data.get("publisher","pageInfo"),stFastShareObj.fpc=stlib.data.get("fpc","pageInfo"),stFastShareObj.sessionID=stlib.data.get("sessionID","pageInfo"),stFastShareObj.hostname=stlib.data.get("hostname","pageInfo"),stFastShareObj.username=servicesLoggedIn[t.service],"undefined"==typeof fastShare?stLight.odjs("https:"==document.location.protocol?"https://ws.sharethis.com/button/fastShare.js":"http://w.sharethis.com/button/fastShare.js",function(){fastShare.showWidget()}):fastShare.showWidget()):stWidget.mobileWidget(e,t,stWidget.options)?stLight.log("widget","mobile",t.service,t.type):e.popup())},e.popup=function(){if(0==stWidget.widgetOpen){"4x"==stWidgetVersion&&stWidget.stCancelClose();var s=stLight.getSource2(t);if(stLight.log("widget",s,t.service,t.type),stWidget.options.popup&&"4x"==stWidgetVersion){var n=stWidget.createFrag(e);_$d_(),_$d1("4x Popup Called"),_$d1(n),_$d_(),window.open(stWidget.frameUrl4x+"#"+n,"newstframe","status=1,toolbar=0,width=345,height=375")}else if(stWidget.options.popup&&"5xa"==stWidgetVersion){var i="http://sharethis.com/share?url="+e.url;null!=e.title&&(i+="&title="+e.title),null!=e.image&&(i+="&img="+e.image),null!=e.summary&&(i+="&summary="+e.summary),null!=t.type&&(i+="&type="+t.type),null!=e.via&&(i+="&via="+e.via);var a="";if(stlib.data){var o=stlib.json.encode(stlib.data.pageInfo),r=stlib.json.encode(stlib.data.shareInfo);stlib.browser.isFirefox()&&!stlib.browser.firefox8Version()?(o=encodeURIComponent(encodeURIComponent(o)),r=encodeURIComponent(encodeURIComponent(r))):(o=encodeURIComponent(o),r=encodeURIComponent(r)),a="&pageInfo="+o+"&shareInfo="+r}window.open(i+a,"newstframe","status=1,toolbar=0,width=820,height=950")}else stButtons.messageQueueInstance.send(stWidget.createFrag(e),"light"),stWidget.positionWidget(e),0==stWidget.options.embeds&&stWidget.hideEmbeds(),setTimeout(function(){stWidget.widgetOpen=!0,st_showing=!0},200)}else 1==stWidget.widgetOpen&&0==stWidget.options.onhover;return!1},e.init(),stlib.buttonInfo.addButton(e),e}return"custom"!==t.type?(t.element.appendChild(stButtons.makeButton(t)),"plusone"!=t.service&&"googleplusfollow"!=t.service&&"googleplusadd"!=t.service||stButtons.getPlusOneFromGoogle(t.service),"fblike"!=t.service&&"fbsend"!=t.service&&"fbrec"!=t.service&&"fbLong"!=t.service&&"fbsub"!=t.service||stButtons.getXFBMLFromFB(t.element),stlib.nativeButtons.checkNativeButtonSupport(t.service)&&stlib.nativeButtons.loadService(t.service)):stButtons.makeButton(t),stlib.buttonInfo.addButton(t),!0},stWidget.createFrag=function(t,e){var s="light";if(s=stWidget.options.popup?"popup":s,__stgetPubGA(),"data"==e){s="data";for(var n in t)if(1==t.hasOwnProperty(n)&&null!==t[n]&&"function"!=typeof t[n]){if("object"==typeof t[n])var i=stlib.json.encode(t[n]);else var i=t[n];s=stlib.browser.isFirefox()&&!stlib.browser.firefox8Version()?s+"/"+n+"="+encodeURIComponent(encodeURIComponent(i)):s+"/"+n+"="+encodeURIComponent(i)}}else if("init"==e){s="init",stWidget.options.tracking&&null==stWidget.options.publisherGA&&("undefined"!=typeof pageTracker&&null!==pageTracker?("undefined"!=typeof pageTracker._getAccount&&(stWidget.options.publisherGA=pageTracker._getAccount()),"undefined"!=typeof ga&&null==stWidget.options.publisherGA&&ga(function(){for(var t=ga.getAll(),e=0;e<t.length;++e){var s=t[e],n=s.get("trackingId"),i=n.indexOf("UA");i>=0&&(stWidget.options.publisherGA=n)}})):null==stWidget.options.publisherGA&&"undefined"!=typeof __stPubGA&&(stWidget.options.publisherGA=__stPubGA));for(var n in stWidget.options)if(1==stWidget.options.hasOwnProperty(n)&&null!==stWidget.options[n]&&"function"!=typeof stWidget.options[n]&&"object"!=typeof stWidget.options[n]){var a=stWidget.options[n];try{a=decodeURIComponent(a),a=decodeURIComponent(a)}catch(o){}s=s+"/"+n+"="+encodeURIComponent(a)}s=s+"/pUrl="+encodeURIComponent(encodeURIComponent(document.location.href))+(""!=document.title?"/title="+encodeURIComponent(encodeURIComponent(document.title)):"")+"/stLight=true"}else{for(var n in t)1==t.hasOwnProperty(n)&&null!==t[n]&&"function"!=typeof t[n]&&"object"!=typeof t[n]&&"idx"!==n&&(s=s+"/"+n+"-=-"+encodeURIComponent(encodeURIComponent(t[n])));if("email"==t.service&&(s+="/page-=-send"),"5xa"==stWidgetVersion&&("facebook"==t.service?s+="/page-=-fbhome":"twitter"==t.service?s+="/page-=-twhome":"yahoo"==t.service?s+="/page-=-ybhome":"linkedin"==t.service?s+="/page-=-lihome":"wordpress"==t.service&&(s+="/page-=-wphome")),stlib.data){var r=stlib.json.encode(stlib.data.pageInfo),l=stlib.json.encode(stlib.data.shareInfo);stlib.browser.isFirefox()&&!stlib.browser.firefox8Version()?(r=encodeURIComponent(encodeURIComponent(r)),l=encodeURIComponent(encodeURIComponent(l))):(r=encodeURIComponent(r),l=encodeURIComponent(l)),s+="/pageInfo-=-"+r,s+="/shareInfo-=-"+l}}return s},stWidget.positionWidget=function(t){return!!t&&(stWidget.overlay.style.display="block",void(stWidget.wrapper.style.display="block"))},stWidget.hideWidget=function(){stWidget.wrapper.style.display="none",stWidget.overlay.style.display="none"},stWidget.pageSize=function(){var t=[0,0,0,0],e=0,s=0,n=0,i=0;return"number"==typeof window.pageYOffset?(e=window.pageXOffset,s=window.pageYOffset):document.body&&(document.body.scrollLeft||document.body.scrollTop)?(e=document.body.scrollLeft,s=document.body.scrollTop):document.documentElement&&(document.documentElement.scrollLeft||document.documentElement.scrollTop)&&(e=document.documentElement.scrollLeft,s=document.documentElement.scrollTop),window.innerWidth?(n=window.innerWidth,i=window.innerHeight):document.documentElement.offsetWidth&&(n=document.documentElement.offsetWidth,i=document.documentElement.offsetHeight),t={scrX:e,scrY:s,width:n,height:i}},stWidget.closetimeout=null,stWidget.stClose=function(t){t||(t=1e3),"4x"!=stWidgetVersion||null==stWidget.options.autoclose||1!=stWidget.options.autoclose&&"true"!=stWidget.options.autoclose||(stWidget.openDuration<.5&&0==stWidget.stopClosing?stWidget.closetimeout=setTimeout("stWidget.closeWidget()",t):stWidget.stopClosing=!0);
},stWidget.stCancelClose=function(){clearTimeout(stWidget.closetimeout),stWidget.buttonClicked=!0,setTimeout(function(){stWidget.buttonClicked=!1},100)},stWidget.closeWidget=function(){return 0!=st_showing&&(st_showing=!1,stWidget.widgetOpen=!1,stWidget.wrapper.style.display="none",stWidget.showEmbeds(),stWidget.sendEvent("screen","home"),void(stWidget.overlay.style.display="none"))},stWidget.hideEmbeds=function(){for(var t=document.getElementsByTagName("embed"),e=0;e<t.length;e++)t[e].style.visibility="hidden"},stWidget.showEmbeds=function(){if(1==stWidget.options.embeds)return!0;for(var t=document.getElementsByTagName("embed"),e=0;e<t.length;e++)t[e].style.visibility="visible"},stWidget.sendEvent=function(t,e){var s="widget/"+t+"="+e;stButtons.messageQueueInstance.send(s,"widget")},stWidget.getMetaTags=function(){stWidget.getOGTags(),stWidget.getTwitterTags()},stWidget.getOGTags=function(){for(var t=document.getElementsByTagName("meta"),e=0;e<t.length;e++){var s=t[e].getAttribute("property");null==s&&(s=t[e].getAttribute("name")),"og:title"==s?stWidget.ogtitle=t[e].getAttribute("content"):"og:type"==s?stWidget.ogtype=t[e].getAttribute("content"):"og:url"==s?stWidget.ogurl=t[e].getAttribute("content"):"og:image"==s?stWidget.ogimg=t[e].getAttribute("content").replace(/^\s+|\s+$/g,""):"og:description"==s?stWidget.ogdesc=t[e].getAttribute("content"):"description"!=s&&"Description"!=s||(stWidget.desc=t[e].getAttribute("content"))}},stWidget.getTwitterTags=function(){for(var t=document.getElementsByTagName("meta"),e=0;e<t.length;e++){var s=t[e].getAttribute("name");null==s&&(s=t[e].getAttribute("property")),"twitter:card"==s?stWidget.twittercard=t[e].getAttribute("content"):"twitter:url"==s?stWidget.twitterurl=t[e].getAttribute("content"):"twitter:title"==s?stWidget.twittertitle=t[e].getAttribute("content"):"twitter:description"==s?stWidget.twitterdesc=t[e].getAttribute("content"):"twitter:image"==s?stWidget.twitterimg=t[e].getAttribute("content"):"description"!=s&&"Description"!=s||(stWidget.desc=t[e].getAttribute("content"))}},stButtons.completeInit=function(){if(!stButtons.goToInit){stButtons.goToInit=!0;var t=self.setInterval(function(){stWidget.widgetLoadingComplete&&(stWidget.getMetaTags(),document.body.appendChild(stWidget.wrapper),document.body.appendChild(stWidget.overlay),stButtons.makeButtons(),stWidget.init(),window.clearInterval(t))},1e3)}},plusoneCallback=function(t){"on"==t.state&&(stlib.data.resetShareData(),stlib.data.set("url",t.href,"shareInfo"),stlib.data.set("short_url",stWidget.short_url,"shareInfo"),stlib.data.set("destination","plusone","shareInfo"),stlib.data.setSource("chicklet"),stlib.data.set("buttonType","chicklet","shareInfo"),stlib.sharer.share())},stButtons.trackFB=function(){try{stButtons.fbTracked||"undefined"==typeof FB||"undefined"==typeof FB.Event||"undefined"==typeof FB.Event.subscribe||(stButtons.fbTracked=!0,FB.Event.subscribe("edge.create",function(t){stButtons.trackShare("fblike_auto",t),stLight.callSubscribers("click","fblike",t)}),FB.Event.subscribe("edge.remove",function(t){stButtons.trackShare("fbunlike_auto",t),stLight.callSubscribers("click","fbunlike",t)}),FB.Event.subscribe("message.send",function(t){stButtons.trackShare("fbsend_auto",t),stLight.callSubscribers("click","fbsend",t)}))}catch(t){}},stButtons.trackTwitter=function(){stButtons.twitterTracked||"undefined"==typeof twttr||"undefined"==typeof twttr.events||"undefined"==typeof twttr.events.bind||(stButtons.twitterTracked=!0,twttr.events.bind("click",function(t){stButtons.trackTwitterEvent("click"),stLight.callSubscribers("click","twitter")}),twttr.events.bind("tweet",function(){stButtons.trackTwitterEvent("tweet")}),twttr.events.bind("retweet",function(){stButtons.trackTwitterEvent("retweet"),stLight.callSubscribers("click","retweet")}),twttr.events.bind("favorite",function(){stButtons.trackTwitterEvent("favorite"),stLight.callSubscribers("click","favorite")}),twttr.events.bind("follow",function(){stButtons.trackTwitterEvent("follow"),stLight.callSubscribers("click","follow")}))},stButtons.trackTwitterEvent=function(t){stButtons.trackShare("twitter_"+t+"_auto")},stButtons.trackShare=function(t,e){if("undefined"!=typeof e&&null!==e)var s=e;else var s=document.location.href;stlib.data.resetShareData(),stlib.data.set("url",s,"shareInfo"),stlib.data.set("short_url",stWidget.short_url,"shareInfo"),stlib.data.set("destination",t,"shareInfo"),stlib.data.set("buttonType","chicklet","shareInfo"),stlib.data.setSource("chicklet"),stlib.sharer.share()},stLight.processSTQ=function(){if("undefined"==typeof _stq)return!1;for(var t=0;t<_stq.length;t++){var e=_stq[t];stLight.options(e)}},stLight.onDomContentLoaded=function(){stLight.onReady(),stButtons.trackTwitter()},stLight.onDomContentLoadedLazy=function(){stLight.loadServicesLoggedIn(function(){stLight.getAllAppDefault(function(){stlib.data.init(),stButtons.locateElements(),stButtons.makeButtons()})})},stLight.messageReceiver=function(t){if(t&&("http://edge.sharethis.com"==t.origin||"https://ws.sharethis.com"==t.origin)){var e=t.data;if(e=e.split("|"),"ShareThis"==e[0]&&e.length>2){var s="undefined"==typeof e[3]?document.location.href:e[3];stLight.callSubscribers(e[1],e[2],s)}}},stLight.subscribe=function(t,e){"click"==t?stLight.clickSubscribers.push(e):stLight.nonClickSubscribers.push(e)},stLight.callSubscribers=function(t,e,s){if("click"==t)for(var n=0;n<stLight.clickSubscribers.length;n++)stLight.clickSubscribers[n]("click",e,s);"Email"==e&&"close"==t&&stWidget.closeWidget(),"Print"==e&&"close"==t&&stWidget.closeWidget()},stLight.gaTS=function(t,e,s){var n="",i="";"fblike"==e?(n="ShareThis_facebook",i="Like"):"fbunlike"==e?(n="ShareThis_facebook",i="UnLike"):"fbsend"==e?(n="ShareThis_facebook",i="Send"):"twitter"==e?(n="ShareThis_twitter",i="Share"):"retweet"==e?(n="ShareThis_twitter",i="ReTweet"):"favorite"==e?(n="ShareThis_twitter",i="Favorite"):"follow"==e?(n="ShareThis_twitter",i="Follow"):(n="ShareThis_"+e,i="Share"),"undefined"!=typeof ga?ga("send","social",n,i,s):"undefined"!=typeof _gaq&&_gaq.push(["_trackSocial",n,i,s])},stButtons.onReady=function(){for(var t=document.getElementsByTagName("*"),e=new RegExp(/sharethis_smartbuttons/),s=!1,n=0;n<t.length;n++)if("string"==typeof t[n].className&&""!=t[n].className&&t[n].className.match(e)){s=!0;break}if(s){var i=document.getElementsByTagName("head")[0],a=["return=json","cb=stButtons.smartifyButtons"];a=a.join("&");var o=("https:"==document.location.protocol?"https://ws.":"http://wd.")+"sharethis.com/api/getRecentServices.php?"+a,r=document.createElement("script");r.setAttribute("type","text/javascript"),r.setAttribute("src",o),i.appendChild(r),setTimeout("stButtons.completeInit()",2e3)}else stButtons.completeInit();stLight.subscribe("click",stLight.gaTS),stlib.browser.ieFallback&&stlib.browser.getIEVersion()<9||stLight.getAllAppDefault(function(){stWidget.options.snapsets&&"undefined"==typeof stLight.snapSetsRun&&(stLight.snapSetsRun=!0,"undefined"==typeof stlib.p6x&&stLight.odjs("http://w.sharethis.com/button/clipboard.js",function(){stlib.p6x.init()}))})},stLight.domReady=function(){stLight.onReady(),stButtons.trackTwitter(),__stgetPubGA(),"undefined"!=typeof __stPubGA&&1==stLight.readyRun&&1==stWidget.frameReady&&stWidget.sendEvent("publisherGA",__stPubGA)},stButtons.goToInit=!1,stButtons.widget=!1,stButtons.widgetArray=[],stButtons.cbAppQueue=[],stButtons.queue=[],stButtons.cbQueue=[],stButtons.cbNativeQueue=[],stButtons.cbVal=0,stButtons.queuePos=0,stButtons.counts=[],st_showing=!1,stButtons.urlElements=[],stButtons.publisherTracker=null,stButtons.plusOneLoaded=!1,stButtons.plusOneLoading=!1,stButtons.xfbmlLoaded=!1,stButtons.xfbmlLoading=!1,stButtons.fbTracked=!1,stButtons.twitterTracked=!1,stButtons.pumpInstance=null,stButtons.messageQueueInstance=null,stButtons.countsResp=[],stButtons.countsNativeResp=[],stWidget.getMetaTags(),stLight.clickSubscribers=[],stLight.nonClickSubscribers=[];var __stPubGA;"completed"==window.document.readyState?stLight.domReady():"undefined"!=typeof window.addEventListener?window.addEventListener("load",stLight.domReady,!1):"undefined"!=typeof document.addEventListener?document.addEventListener("load",stLight.domReady,!1):"undefined"!=typeof window.attachEvent&&window.attachEvent("onload",stLight.domReady),"undefined"!=typeof window.addEventListener?window.addEventListener("click",function(){stWidget.closeWidget()},!1):"undefined"!=typeof document.addEventListener?document.addEventListener("click",function(){stWidget.closeWidget()},!1):"undefined"!=typeof window.attachEvent&&window.attachEvent("onclick",function(){stWidget.closeWidget()}),"undefined"==typeof __st_loadLate?"undefined"!=typeof window.addEventListener?window.addEventListener("DOMContentLoaded",stLight.onDomContentLoaded,!1):"undefined"!=typeof document.addEventListener&&document.addEventListener("DOMContentLoaded",stLight.onDomContentLoaded,!1):"undefined"!=typeof window.addEventListener?window.addEventListener("DOMContentLoaded",stLight.onDomContentLoadedLazy,!1):"undefined"!=typeof document.addEventListener&&document.addEventListener("DOMContentLoaded",stLight.onDomContentLoadedLazy,!1),"undefined"!=typeof window.addEventListener?window.addEventListener("message",stLight.messageReceiver,!1):"undefined"!=typeof document.addEventListener?document.addEventListener("message",stLight.messageReceiver,!1):"undefined"!=typeof window.attachEvent&&window.attachEvent("onmessage",stLight.messageReceiver),"complete"==document.readyState&&0==stLight.readyRun&&stLight.domReady(),function(t){t.fn.jRating=function(e){var s={bigStarsPath:base_url+"/js/icons/stars-1.png",smallStarsPath:base_url+"/js/icons/small-new.png",phpPath:"php/jRating.php",type:"big",step:!1,isDisabled:!1,showRateInfo:!0,canRateAgain:!1,sendRequest:!0,length:5,decimalLength:0,rateMax:5,rateInfosX:-45,rateInfosY:5,nbRates:1,onSuccess:null,onError:null,onClick:null};if(this.length>0)return this.each(function(){function n(t){var e=parseFloat(100*t/b*parseInt(o.rateMax)/100),s=Math.pow(10,parseInt(o.decimalLength)),n=Math.round(e*s)/s;return n}function i(){switch(o.type){case"small":l=21,d=17,c=o.smallStarsPath;break;default:l=25,d=20,c=o.bigStarsPath}}function a(t){return t?t.offsetLeft+a(t.offsetParent):0}var o=t.extend(s,e),r=0,l=0,d=0,c="",u=!1,p=0,m=o.nbRates;if(t(this).hasClass("jDisabled")||o.isDisabled)var h=!0;else var h=!1;i(),t(this).height(d);var g=parseFloat(t(this).attr("data-average")),f=parseInt(t(this).attr("data-id")),b=l*o.length,v=g/o.rateMax*b,g=(t("<div>",{"class":"jRatingColor",css:{width:v}}).appendTo(t(this)),t("<div>",{"class":"jRatingAverage",css:{width:0,top:-d}}).appendTo(t(this)));t("<div>",{"class":"jStar",css:{width:b,height:d,top:-(2*d),background:"url("+c+") repeat-x"}}).appendTo(t(this));t(this).css({width:b,overflow:"hidden",zIndex:1,position:"relative"}),h||t(this).unbind().bind({mouseenter:function(e){var s=a(this),i=e.pageX-s;if(o.showRateInfo){t("<p>",{"class":"jRatingInfos",html:n(i)+' <span class="maxRate">/ '+o.rateMax+"</span>",css:{top:e.pageY+o.rateInfosY,left:e.pageX+o.rateInfosX}}).appendTo("body").hide()}},mouseover:function(e){t(this).css("cursor","pointer")},mouseout:function(){t(this).css("cursor","default"),u?g.width(p):g.width(0)},mousemove:function(e){var s=a(this),i=e.pageX-s;r=o.step?Math.floor(i/l)*l+l:i,g.width(r),o.showRateInfo&&t("p.jRatingInfos").css({left:e.pageX+o.rateInfosX}).html(n(r)+' <span class="maxRate">/ '+o.rateMax+"</span>")},mouseleave:function(){t("p.jRatingInfos").remove()},click:function(e){var s=this;u=!0,p=r,m--,(!o.canRateAgain||parseInt(m)<=0)&&t(this).unbind().css("cursor","default").addClass("jDisabled"),o.showRateInfo&&t("p.jRatingInfos").fadeOut("fast",function(){t(this).remove()}),e.preventDefault();var i=n(r);g.width(r),t(".datasSent p").html("<strong>idBox : </strong>"+f+"<br /><strong>rate : </strong>"+i+"<br /><strong>action :</strong> rating"),t(".serverResponse p").html("<strong>Loading...</strong>"),o.onClick&&o.onClick(s,i),o.sendRequest&&t.post(o.phpPath,{idBox:f,rate:i,action:"rating"},function(e){e.error?(t(".serverResponse p").html(e.server),o.onError&&o.onError(s,i)):(t(".serverResponse p").html(e.server),o.onSuccess&&o.onSuccess(s,i))},"json")}})})}}(jQuery);var base_url=$("#base_url").val();$(document).ready(function(){$("#host-feedback-button1").on("click",function(t){if($(".commenterror").html(""),null==$("#comments").val()||""==$("#comments").val())return $(".commenterror").html("Please write a Comment  before Posting."),!1;$(this).addClass("disabled"),$(this).text("Saving...");var e=$("ul#host-comment-append");$.ajax({url:base_url+"/user/addfeedback",type:"POST",data:{_token:$("#token").val(),comments:$("#comments").val(),traveller_id:$("#traveller_id").val(),host_id:$("#host_id").val()},success:function(t,s,n){e.prepend(t),$(".provide-host-comment").hide(),$(".comment-edit").hide()},error:function(t,e,s){}})})}),$(document).ready(function(){$("body").on("click",".owner-reply-submit",function(t){var e=$(this);if(e.parents(".hosts-feedback").find(".commenterror").html(""),null==$(this).parents(".hosts-feedback").find(".reply").val()||""==$(this).parents(".hosts-feedback").find(".reply").val())return e.parents(".hosts-feedback").find(".commenterror").html("Please write a comment before posting."),!1;$(this).addClass("disabled"),$(this).text("Saving...");var s=$(this).parents("li.property_comment_row");$.ajax({url:base_url+"/review/addreply",type:"POST",data:{_token:$("#token").val(),reply:s.find(".reply").val(),rewiewid:s.find("#rewiewid").val(),pid:$("#pid").val()},success:function(t,e,n){s.replaceWith(t),$(".reply-edit").hide()},error:function(t,e,s){}})})}),$(document).ready(function(){$("body").on("click",".owner-reply-cancel",function(t){$(".reply-edit").hide(),$(".hosts-feedback").find("#host_review_box").show()})}),$(document).ready(function(){$("body").on("click",".owner-comment-edit",function(t){if($(".commenterror").html(""),null==$("#editcomment").val()||""==$("#editcomment").val())return $(".commenterror").html("Please write a Comment  before Posting."),!1;$(this).addClass("disabled"),$(this).text("Saving...");var e=$(this).parents("li.property_comment_row");$.ajax({url:base_url+"/properties/editcomment",type:"POST",data:{_token:$("#token").val(),comment:e.find("#editcomment").val(),rewiewid:e.find("#rewiewid").val(),pid:$("#pid").val(),image_order:$("#image_order").val(),delimages:$("#delimages").val()},success:function(t,s,n){e.replaceWith(t),$(".comment-edit").hide(),$("#admin-rating-edit").hide(),allowratingreload()},error:function(t,e,s){}})})}),$(document).ready(function(){$("body").on("click",".owner-comment-cancel",function(t){$(this).parents(".guests-review").find("#host_review").show(),$(".comment-edit").hide(),$("#admin-rating-edit").hide(),$(this).parents(".guests-review").find(".img_container").show()})}),$(document).ready(function(){$("#host-comment-button").on("click",function(t){if($(".commenterror").html(""),null==$("#comment").val()||""==$("#comment").val())return $(".commenterror").html("Please write a Comment  before Posting."),!1;$(this).addClass("disabled"),$(this).text("Saving...");var e=$("ul#comment-append");$.ajax({url:base_url+"/properties/addcomment",type:"POST",data:{_token:$("#token").val(),comment:$("#comment").val(),guestid:$("#guestid").val(),pid:$("#pid").val(),hostid:$("#hostid").val(),bid:$("#review_for_booking").val(),image_order:$("#image_order").val()},success:function(t,s,n){0==t.success?($(".commenterror").html(t.message),$("#host-comment-button").text("Comment"),$("#host-comment-button").removeClass("disabled")):($(".duplicate_img_cont").remove(),$(".provide-your-feedback").remove(),allowratingreload(),e.prepend(t))},error:function(t,e,s){}})})}),$(document).ready(function(){$(".reply-edit").hide(),$("body").on("click","a.creatediv",function(){$(this).parents(".hosts-feedback").find(".reply-edit").show(),$(this).parents("#host_review_box").hide(),$(".commenterror").html("")})}),$(document).ready(function(){$(".comment-edit").hide(),$("body").on("click","a.comment-edit-link",function(){$(this).parents(".guests-review").find(".comment-edit").show(),$(this).parents("#host_review").hide(),$(this).parents(".guests-review").find(".img_container").hide(),$(".commenterror").html(""),$("#admin-rating-edit").show()})}),$(document).ready(function(){$(".comment-edit").hide(),$("body").on("click","a.comment-edit-link-profile",function(){$(this).parents(".review-system").find(".comment-edit").show(),$(this).parents("#guests_review").hide()})}),$(document).ready(function(){$(".ratingparameter").jRating({type:"big",step:!0,length:5,canRateAgain:!0,nbRates:100,decimalLength:0,onClick:function(t,e){$.ajax({url:base_url+"/properties/addrating",type:"POST",data:{_token:$("#token").val(),from_type:$(t).find(".from_type").val(),from_id:$(t).find(".from_id").val(),to_type:$(t).find(".to_type").val(),to_id:$(t).find(".to_id").val(),rating_param:$(t).find(".rating_param").val(),bid:$("#review_for_booking").val(),rate:e},success:function(t,e,s){},error:function(t,e,s){}})}})}),$(document).ready(function(){$("body").on("click",".host-feedback-edit",function(t){if($(".commenterror").html(""),null==$("#editfeedback").val()||""==$("#editfeedback").val())return $(".commenterror").html("Please write a Comment  before Posting."),!1;$(this).addClass("disabled"),$(this).text("Saving...");var e=$(this).parents("li.host_comment_row");$.ajax({url:base_url+"/user/editfeedback",type:"POST",data:{_token:$("#token").val(),editfeedback:e.find("#editfeedback").val(),rewiewid:e.find("#rewiewid").val()},success:function(t,s,n){e.replaceWith(t),$(".comment-edit").hide()},error:function(t,e,s){}})})}),$(document).ready(function(){$("body").on("click",".host-feedback-cancel",function(t){$(".comment-edit").hide(),$(this).parents(".review-system").find("#guests_review").show()})}),$(document).ready(function(){$(".ratingparametershow").jRating({type:"small",length:5,isDisabled:!0,decimalLength:0}),$(".ratingparametershowsmall").jRating({type:"small",length:5,isDisabled:!0,decimalLength:0})});