{"version":3,"sources":["jquery.flexslider-min.js","booking_script_v1.js","reviewpictureupload.js","owl.carousel.js","buttons.js","jRating.jquery.js","rating-review.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;ACJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACx1DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACnWA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACZA;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACtOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"common_property_page.js","sourcesContent":["/*\n * jQuery FlexSlider v2.6.1\n * Copyright 2012 WooThemes\n * Contributing Author: Tyler Smith\n */!function($){var e=!0;$.flexslider=function(t,a){var n=$(t);n.vars=$.extend({},$.flexslider.defaults,a);var i=n.vars.namespace,s=window.navigator&&window.navigator.msPointerEnabled&&window.MSGesture,r=(\"ontouchstart\"in window||s||window.DocumentTouch&&document instanceof DocumentTouch)&&n.vars.touch,o=\"click touchend MSPointerUp keyup\",l=\"\",c,d=\"vertical\"===n.vars.direction,u=n.vars.reverse,v=n.vars.itemWidth>0,p=\"fade\"===n.vars.animation,m=\"\"!==n.vars.asNavFor,f={};$.data(t,\"flexslider\",n),f={init:function(){n.animating=!1,n.currentSlide=parseInt(n.vars.startAt?n.vars.startAt:0,10),isNaN(n.currentSlide)&&(n.currentSlide=0),n.animatingTo=n.currentSlide,n.atEnd=0===n.currentSlide||n.currentSlide===n.last,n.containerSelector=n.vars.selector.substr(0,n.vars.selector.search(\" \")),n.slides=$(n.vars.selector,n),n.container=$(n.containerSelector,n),n.count=n.slides.length,n.syncExists=$(n.vars.sync).length>0,\"slide\"===n.vars.animation&&(n.vars.animation=\"swing\"),n.prop=d?\"top\":\"marginLeft\",n.args={},n.manualPause=!1,n.stopped=!1,n.started=!1,n.startTimeout=null,n.transitions=!n.vars.video&&!p&&n.vars.useCSS&&function(){var e=document.createElement(\"div\"),t=[\"perspectiveProperty\",\"WebkitPerspective\",\"MozPerspective\",\"OPerspective\",\"msPerspective\"];for(var a in t)if(void 0!==e.style[t[a]])return n.pfx=t[a].replace(\"Perspective\",\"\").toLowerCase(),n.prop=\"-\"+n.pfx+\"-transform\",!0;return!1}(),n.ensureAnimationEnd=\"\",\"\"!==n.vars.controlsContainer&&(n.controlsContainer=$(n.vars.controlsContainer).length>0&&$(n.vars.controlsContainer)),\"\"!==n.vars.manualControls&&(n.manualControls=$(n.vars.manualControls).length>0&&$(n.vars.manualControls)),\"\"!==n.vars.customDirectionNav&&(n.customDirectionNav=2===$(n.vars.customDirectionNav).length&&$(n.vars.customDirectionNav)),n.vars.randomize&&(n.slides.sort(function(){return Math.round(Math.random())-.5}),n.container.empty().append(n.slides)),n.doMath(),n.setup(\"init\"),n.vars.controlNav&&f.controlNav.setup(),n.vars.directionNav&&f.directionNav.setup(),n.vars.keyboard&&(1===$(n.containerSelector).length||n.vars.multipleKeyboard)&&$(document).bind(\"keyup\",function(e){var t=e.keyCode;if(!n.animating&&(39===t||37===t)){var a=39===t?n.getTarget(\"next\"):37===t?n.getTarget(\"prev\"):!1;n.flexAnimate(a,n.vars.pauseOnAction)}}),n.vars.mousewheel&&n.bind(\"mousewheel\",function(e,t,a,i){e.preventDefault();var s=0>t?n.getTarget(\"next\"):n.getTarget(\"prev\");n.flexAnimate(s,n.vars.pauseOnAction)}),n.vars.pausePlay&&f.pausePlay.setup(),n.vars.slideshow&&n.vars.pauseInvisible&&f.pauseInvisible.init(),n.vars.slideshow&&(n.vars.pauseOnHover&&n.hover(function(){n.manualPlay||n.manualPause||n.pause()},function(){n.manualPause||n.manualPlay||n.stopped||n.play()}),n.vars.pauseInvisible&&f.pauseInvisible.isHidden()||(n.vars.initDelay>0?n.startTimeout=setTimeout(n.play,n.vars.initDelay):n.play())),m&&f.asNav.setup(),r&&n.vars.touch&&f.touch(),(!p||p&&n.vars.smoothHeight)&&$(window).bind(\"resize orientationchange focus\",f.resize),n.find(\"img\").attr(\"draggable\",\"false\"),setTimeout(function(){n.vars.start(n)},200)},asNav:{setup:function(){n.asNav=!0,n.animatingTo=Math.floor(n.currentSlide/n.move),n.currentItem=n.currentSlide,n.slides.removeClass(i+\"active-slide\").eq(n.currentItem).addClass(i+\"active-slide\"),s?(t._slider=n,n.slides.each(function(){var e=this;e._gesture=new MSGesture,e._gesture.target=e,e.addEventListener(\"MSPointerDown\",function(e){e.preventDefault(),e.currentTarget._gesture&&e.currentTarget._gesture.addPointer(e.pointerId)},!1),e.addEventListener(\"MSGestureTap\",function(e){e.preventDefault();var t=$(this),a=t.index();$(n.vars.asNavFor).data(\"flexslider\").animating||t.hasClass(\"active\")||(n.direction=n.currentItem<a?\"next\":\"prev\",n.flexAnimate(a,n.vars.pauseOnAction,!1,!0,!0))})})):n.slides.on(o,function(e){e.preventDefault();var t=$(this),a=t.index(),s=t.offset().left-$(n).scrollLeft();0>=s&&t.hasClass(i+\"active-slide\")?n.flexAnimate(n.getTarget(\"prev\"),!0):$(n.vars.asNavFor).data(\"flexslider\").animating||t.hasClass(i+\"active-slide\")||(n.direction=n.currentItem<a?\"next\":\"prev\",n.flexAnimate(a,n.vars.pauseOnAction,!1,!0,!0))})}},controlNav:{setup:function(){n.manualControls?f.controlNav.setupManual():f.controlNav.setupPaging()},setupPaging:function(){var e=\"thumbnails\"===n.vars.controlNav?\"control-thumbs\":\"control-paging\",t=1,a,s;if(n.controlNavScaffold=$('<ol class=\"'+i+\"control-nav \"+i+e+'\"></ol>'),n.pagingCount>1)for(var r=0;r<n.pagingCount;r++){s=n.slides.eq(r),void 0===s.attr(\"data-thumb-alt\")&&s.attr(\"data-thumb-alt\",\"\");var c=\"\"!==s.attr(\"data-thumb-alt\")?c=' alt=\"'+s.attr(\"data-thumb-alt\")+'\"':\"\";if(a=\"thumbnails\"===n.vars.controlNav?'<img src=\"'+s.attr(\"data-thumb\")+'\"'+c+\"/>\":'<a href=\"#\">'+t+\"</a>\",\"thumbnails\"===n.vars.controlNav&&!0===n.vars.thumbCaptions){var d=s.attr(\"data-thumbcaption\");\"\"!==d&&void 0!==d&&(a+='<span class=\"'+i+'caption\">'+d+\"</span>\")}n.controlNavScaffold.append(\"<li>\"+a+\"</li>\"),t++}n.controlsContainer?$(n.controlsContainer).append(n.controlNavScaffold):n.append(n.controlNavScaffold),f.controlNav.set(),f.controlNav.active(),n.controlNavScaffold.delegate(\"a, img\",o,function(e){if(e.preventDefault(),\"\"===l||l===e.type){var t=$(this),a=n.controlNav.index(t);t.hasClass(i+\"active\")||(n.direction=a>n.currentSlide?\"next\":\"prev\",n.flexAnimate(a,n.vars.pauseOnAction))}\"\"===l&&(l=e.type),f.setToClearWatchedEvent()})},setupManual:function(){n.controlNav=n.manualControls,f.controlNav.active(),n.controlNav.bind(o,function(e){if(e.preventDefault(),\"\"===l||l===e.type){var t=$(this),a=n.controlNav.index(t);t.hasClass(i+\"active\")||(a>n.currentSlide?n.direction=\"next\":n.direction=\"prev\",n.flexAnimate(a,n.vars.pauseOnAction))}\"\"===l&&(l=e.type),f.setToClearWatchedEvent()})},set:function(){var e=\"thumbnails\"===n.vars.controlNav?\"img\":\"a\";n.controlNav=$(\".\"+i+\"control-nav li \"+e,n.controlsContainer?n.controlsContainer:n)},active:function(){n.controlNav.removeClass(i+\"active\").eq(n.animatingTo).addClass(i+\"active\")},update:function(e,t){n.pagingCount>1&&\"add\"===e?n.controlNavScaffold.append($('<li><a href=\"#\">'+n.count+\"</a></li>\")):1===n.pagingCount?n.controlNavScaffold.find(\"li\").remove():n.controlNav.eq(t).closest(\"li\").remove(),f.controlNav.set(),n.pagingCount>1&&n.pagingCount!==n.controlNav.length?n.update(t,e):f.controlNav.active()}},directionNav:{setup:function(){var e=$('<ul class=\"'+i+'direction-nav\"><li class=\"'+i+'nav-prev\"><a class=\"'+i+'prev\" href=\"#\">'+n.vars.prevText+'</a></li><li class=\"'+i+'nav-next\"><a class=\"'+i+'next\" href=\"#\">'+n.vars.nextText+\"</a></li></ul>\");n.customDirectionNav?n.directionNav=n.customDirectionNav:n.controlsContainer?($(n.controlsContainer).append(e),n.directionNav=$(\".\"+i+\"direction-nav li a\",n.controlsContainer)):(n.append(e),n.directionNav=$(\".\"+i+\"direction-nav li a\",n)),f.directionNav.update(),n.directionNav.bind(o,function(e){e.preventDefault();var t;(\"\"===l||l===e.type)&&(t=$(this).hasClass(i+\"next\")?n.getTarget(\"next\"):n.getTarget(\"prev\"),n.flexAnimate(t,n.vars.pauseOnAction)),\"\"===l&&(l=e.type),f.setToClearWatchedEvent()})},update:function(){var e=i+\"disabled\";1===n.pagingCount?n.directionNav.addClass(e).attr(\"tabindex\",\"-1\"):n.vars.animationLoop?n.directionNav.removeClass(e).removeAttr(\"tabindex\"):0===n.animatingTo?n.directionNav.removeClass(e).filter(\".\"+i+\"prev\").addClass(e).attr(\"tabindex\",\"-1\"):n.animatingTo===n.last?n.directionNav.removeClass(e).filter(\".\"+i+\"next\").addClass(e).attr(\"tabindex\",\"-1\"):n.directionNav.removeClass(e).removeAttr(\"tabindex\")}},pausePlay:{setup:function(){var e=$('<div class=\"'+i+'pauseplay\"><a href=\"#\"></a></div>');n.controlsContainer?(n.controlsContainer.append(e),n.pausePlay=$(\".\"+i+\"pauseplay a\",n.controlsContainer)):(n.append(e),n.pausePlay=$(\".\"+i+\"pauseplay a\",n)),f.pausePlay.update(n.vars.slideshow?i+\"pause\":i+\"play\"),n.pausePlay.bind(o,function(e){e.preventDefault(),(\"\"===l||l===e.type)&&($(this).hasClass(i+\"pause\")?(n.manualPause=!0,n.manualPlay=!1,n.pause()):(n.manualPause=!1,n.manualPlay=!0,n.play())),\"\"===l&&(l=e.type),f.setToClearWatchedEvent()})},update:function(e){\"play\"===e?n.pausePlay.removeClass(i+\"pause\").addClass(i+\"play\").html(n.vars.playText):n.pausePlay.removeClass(i+\"play\").addClass(i+\"pause\").html(n.vars.pauseText)}},touch:function(){function e(e){e.stopPropagation(),n.animating?e.preventDefault():(n.pause(),t._gesture.addPointer(e.pointerId),T=0,c=d?n.h:n.w,f=Number(new Date),l=v&&u&&n.animatingTo===n.last?0:v&&u?n.limit-(n.itemW+n.vars.itemMargin)*n.move*n.animatingTo:v&&n.currentSlide===n.last?n.limit:v?(n.itemW+n.vars.itemMargin)*n.move*n.currentSlide:u?(n.last-n.currentSlide+n.cloneOffset)*c:(n.currentSlide+n.cloneOffset)*c)}function a(e){e.stopPropagation();var a=e.target._slider;if(a){var n=-e.translationX,i=-e.translationY;return T+=d?i:n,m=T,y=d?Math.abs(T)<Math.abs(-n):Math.abs(T)<Math.abs(-i),e.detail===e.MSGESTURE_FLAG_INERTIA?void setImmediate(function(){t._gesture.stop()}):void((!y||Number(new Date)-f>500)&&(e.preventDefault(),!p&&a.transitions&&(a.vars.animationLoop||(m=T/(0===a.currentSlide&&0>T||a.currentSlide===a.last&&T>0?Math.abs(T)/c+2:1)),a.setProps(l+m,\"setTouch\"))))}}function i(e){e.stopPropagation();var t=e.target._slider;if(t){if(t.animatingTo===t.currentSlide&&!y&&null!==m){var a=u?-m:m,n=a>0?t.getTarget(\"next\"):t.getTarget(\"prev\");t.canAdvance(n)&&(Number(new Date)-f<550&&Math.abs(a)>50||Math.abs(a)>c/2)?t.flexAnimate(n,t.vars.pauseOnAction):p||t.flexAnimate(t.currentSlide,t.vars.pauseOnAction,!0)}r=null,o=null,m=null,l=null,T=0}}var r,o,l,c,m,f,g,h,S,y=!1,x=0,b=0,T=0;s?(t.style.msTouchAction=\"none\",t._gesture=new MSGesture,t._gesture.target=t,t.addEventListener(\"MSPointerDown\",e,!1),t._slider=n,t.addEventListener(\"MSGestureChange\",a,!1),t.addEventListener(\"MSGestureEnd\",i,!1)):(g=function(e){n.animating?e.preventDefault():(window.navigator.msPointerEnabled||1===e.touches.length)&&(n.pause(),c=d?n.h:n.w,f=Number(new Date),x=e.touches[0].pageX,b=e.touches[0].pageY,l=v&&u&&n.animatingTo===n.last?0:v&&u?n.limit-(n.itemW+n.vars.itemMargin)*n.move*n.animatingTo:v&&n.currentSlide===n.last?n.limit:v?(n.itemW+n.vars.itemMargin)*n.move*n.currentSlide:u?(n.last-n.currentSlide+n.cloneOffset)*c:(n.currentSlide+n.cloneOffset)*c,r=d?b:x,o=d?x:b,t.addEventListener(\"touchmove\",h,!1),t.addEventListener(\"touchend\",S,!1))},h=function(e){x=e.touches[0].pageX,b=e.touches[0].pageY,m=d?r-b:r-x,y=d?Math.abs(m)<Math.abs(x-o):Math.abs(m)<Math.abs(b-o);var t=500;(!y||Number(new Date)-f>t)&&(e.preventDefault(),!p&&n.transitions&&(n.vars.animationLoop||(m/=0===n.currentSlide&&0>m||n.currentSlide===n.last&&m>0?Math.abs(m)/c+2:1),n.setProps(l+m,\"setTouch\")))},S=function(e){if(t.removeEventListener(\"touchmove\",h,!1),n.animatingTo===n.currentSlide&&!y&&null!==m){var a=u?-m:m,i=a>0?n.getTarget(\"next\"):n.getTarget(\"prev\");n.canAdvance(i)&&(Number(new Date)-f<550&&Math.abs(a)>50||Math.abs(a)>c/2)?n.flexAnimate(i,n.vars.pauseOnAction):p||n.flexAnimate(n.currentSlide,n.vars.pauseOnAction,!0)}t.removeEventListener(\"touchend\",S,!1),r=null,o=null,m=null,l=null},t.addEventListener(\"touchstart\",g,!1))},resize:function(){!n.animating&&n.is(\":visible\")&&(v||n.doMath(),p?f.smoothHeight():v?(n.slides.width(n.computedW),n.update(n.pagingCount),n.setProps()):d?(n.viewport.height(n.h),n.setProps(n.h,\"setTotal\")):(n.vars.smoothHeight&&f.smoothHeight(),n.newSlides.width(n.computedW),n.setProps(n.computedW,\"setTotal\")))},smoothHeight:function(e){if(!d||p){var t=p?n:n.viewport;e?t.animate({height:n.slides.eq(n.animatingTo).innerHeight()},e):t.innerHeight(n.slides.eq(n.animatingTo).innerHeight())}},sync:function(e){var t=$(n.vars.sync).data(\"flexslider\"),a=n.animatingTo;switch(e){case\"animate\":t.flexAnimate(a,n.vars.pauseOnAction,!1,!0);break;case\"play\":t.playing||t.asNav||t.play();break;case\"pause\":t.pause()}},uniqueID:function(e){return e.filter(\"[id]\").add(e.find(\"[id]\")).each(function(){var e=$(this);e.attr(\"id\",e.attr(\"id\")+\"_clone\")}),e},pauseInvisible:{visProp:null,init:function(){var e=f.pauseInvisible.getHiddenProp();if(e){var t=e.replace(/[H|h]idden/,\"\")+\"visibilitychange\";document.addEventListener(t,function(){f.pauseInvisible.isHidden()?n.startTimeout?clearTimeout(n.startTimeout):n.pause():n.started?n.play():n.vars.initDelay>0?setTimeout(n.play,n.vars.initDelay):n.play()})}},isHidden:function(){var e=f.pauseInvisible.getHiddenProp();return e?document[e]:!1},getHiddenProp:function(){var e=[\"webkit\",\"moz\",\"ms\",\"o\"];if(\"hidden\"in document)return\"hidden\";for(var t=0;t<e.length;t++)if(e[t]+\"Hidden\"in document)return e[t]+\"Hidden\";return null}},setToClearWatchedEvent:function(){clearTimeout(c),c=setTimeout(function(){l=\"\"},3e3)}},n.flexAnimate=function(e,t,a,s,o){if(n.vars.animationLoop||e===n.currentSlide||(n.direction=e>n.currentSlide?\"next\":\"prev\"),m&&1===n.pagingCount&&(n.direction=n.currentItem<e?\"next\":\"prev\"),!n.animating&&(n.canAdvance(e,o)||a)&&n.is(\":visible\")){if(m&&s){var l=$(n.vars.asNavFor).data(\"flexslider\");if(n.atEnd=0===e||e===n.count-1,l.flexAnimate(e,!0,!1,!0,o),n.direction=n.currentItem<e?\"next\":\"prev\",l.direction=n.direction,Math.ceil((e+1)/n.visible)-1===n.currentSlide||0===e)return n.currentItem=e,n.slides.removeClass(i+\"active-slide\").eq(e).addClass(i+\"active-slide\"),!1;n.currentItem=e,n.slides.removeClass(i+\"active-slide\").eq(e).addClass(i+\"active-slide\"),e=Math.floor(e/n.visible)}if(n.animating=!0,n.animatingTo=e,t&&n.pause(),n.vars.before(n),n.syncExists&&!o&&f.sync(\"animate\"),n.vars.controlNav&&f.controlNav.active(),v||n.slides.removeClass(i+\"active-slide\").eq(e).addClass(i+\"active-slide\"),n.atEnd=0===e||e===n.last,n.vars.directionNav&&f.directionNav.update(),e===n.last&&(n.vars.end(n),n.vars.animationLoop||n.pause()),p)r?(n.slides.eq(n.currentSlide).css({opacity:0,zIndex:1}),n.slides.eq(e).css({opacity:1,zIndex:2}),n.wrapup(c)):(n.slides.eq(n.currentSlide).css({zIndex:1}).animate({opacity:0},n.vars.animationSpeed,n.vars.easing),n.slides.eq(e).css({zIndex:2}).animate({opacity:1},n.vars.animationSpeed,n.vars.easing,n.wrapup));else{var c=d?n.slides.filter(\":first\").height():n.computedW,g,h,S;v?(g=n.vars.itemMargin,S=(n.itemW+g)*n.move*n.animatingTo,h=S>n.limit&&1!==n.visible?n.limit:S):h=0===n.currentSlide&&e===n.count-1&&n.vars.animationLoop&&\"next\"!==n.direction?u?(n.count+n.cloneOffset)*c:0:n.currentSlide===n.last&&0===e&&n.vars.animationLoop&&\"prev\"!==n.direction?u?0:(n.count+1)*c:u?(n.count-1-e+n.cloneOffset)*c:(e+n.cloneOffset)*c,n.setProps(h,\"\",n.vars.animationSpeed),n.transitions?(n.vars.animationLoop&&n.atEnd||(n.animating=!1,n.currentSlide=n.animatingTo),n.container.unbind(\"webkitTransitionEnd transitionend\"),n.container.bind(\"webkitTransitionEnd transitionend\",function(){clearTimeout(n.ensureAnimationEnd),n.wrapup(c)}),clearTimeout(n.ensureAnimationEnd),n.ensureAnimationEnd=setTimeout(function(){n.wrapup(c)},n.vars.animationSpeed+100)):n.container.animate(n.args,n.vars.animationSpeed,n.vars.easing,function(){n.wrapup(c)})}n.vars.smoothHeight&&f.smoothHeight(n.vars.animationSpeed)}},n.wrapup=function(e){p||v||(0===n.currentSlide&&n.animatingTo===n.last&&n.vars.animationLoop?n.setProps(e,\"jumpEnd\"):n.currentSlide===n.last&&0===n.animatingTo&&n.vars.animationLoop&&n.setProps(e,\"jumpStart\")),n.animating=!1,n.currentSlide=n.animatingTo,n.vars.after(n)},n.animateSlides=function(){!n.animating&&e&&n.flexAnimate(n.getTarget(\"next\"))},n.pause=function(){clearInterval(n.animatedSlides),n.animatedSlides=null,n.playing=!1,n.vars.pausePlay&&f.pausePlay.update(\"play\"),n.syncExists&&f.sync(\"pause\")},n.play=function(){n.playing&&clearInterval(n.animatedSlides),n.animatedSlides=n.animatedSlides||setInterval(n.animateSlides,n.vars.slideshowSpeed),n.started=n.playing=!0,n.vars.pausePlay&&f.pausePlay.update(\"pause\"),n.syncExists&&f.sync(\"play\")},n.stop=function(){n.pause(),n.stopped=!0},n.canAdvance=function(e,t){var a=m?n.pagingCount-1:n.last;return t?!0:m&&n.currentItem===n.count-1&&0===e&&\"prev\"===n.direction?!0:m&&0===n.currentItem&&e===n.pagingCount-1&&\"next\"!==n.direction?!1:e!==n.currentSlide||m?n.vars.animationLoop?!0:n.atEnd&&0===n.currentSlide&&e===a&&\"next\"!==n.direction?!1:n.atEnd&&n.currentSlide===a&&0===e&&\"next\"===n.direction?!1:!0:!1},n.getTarget=function(e){return n.direction=e,\"next\"===e?n.currentSlide===n.last?0:n.currentSlide+1:0===n.currentSlide?n.last:n.currentSlide-1},n.setProps=function(e,t,a){var i=function(){var a=e?e:(n.itemW+n.vars.itemMargin)*n.move*n.animatingTo,i=function(){if(v)return\"setTouch\"===t?e:u&&n.animatingTo===n.last?0:u?n.limit-(n.itemW+n.vars.itemMargin)*n.move*n.animatingTo:n.animatingTo===n.last?n.limit:a;switch(t){case\"setTotal\":return u?(n.count-1-n.currentSlide+n.cloneOffset)*e:(n.currentSlide+n.cloneOffset)*e;case\"setTouch\":return u?e:e;case\"jumpEnd\":return u?e:n.count*e;case\"jumpStart\":return u?n.count*e:e;default:return e}}();return-1*i+\"px\"}();n.transitions&&(i=d?\"translate3d(0,\"+i+\",0)\":\"translate3d(\"+i+\",0,0)\",a=void 0!==a?a/1e3+\"s\":\"0s\",n.container.css(\"-\"+n.pfx+\"-transition-duration\",a),n.container.css(\"transition-duration\",a)),n.args[n.prop]=i,(n.transitions||void 0===a)&&n.container.css(n.args),n.container.css(\"transform\",i)},n.setup=function(e){if(p)n.slides.css({width:\"100%\",\"float\":\"left\",marginRight:\"-100%\",position:\"relative\"}),\"init\"===e&&(r?n.slides.css({opacity:0,display:\"block\",webkitTransition:\"opacity \"+n.vars.animationSpeed/1e3+\"s ease\",zIndex:1}).eq(n.currentSlide).css({opacity:1,zIndex:2}):0==n.vars.fadeFirstSlide?n.slides.css({opacity:0,display:\"block\",zIndex:1}).eq(n.currentSlide).css({zIndex:2}).css({opacity:1}):n.slides.css({opacity:0,display:\"block\",zIndex:1}).eq(n.currentSlide).css({zIndex:2}).animate({opacity:1},n.vars.animationSpeed,n.vars.easing)),n.vars.smoothHeight&&f.smoothHeight();else{var t,a;\"init\"===e&&(n.viewport=$('<div class=\"'+i+'viewport\"></div>').css({overflow:\"hidden\",position:\"relative\"}).appendTo(n).append(n.container),n.cloneCount=0,n.cloneOffset=0,u&&(a=$.makeArray(n.slides).reverse(),n.slides=$(a),n.container.empty().append(n.slides))),n.vars.animationLoop&&!v&&(n.cloneCount=2,n.cloneOffset=1,\"init\"!==e&&n.container.find(\".clone\").remove(),n.container.append(f.uniqueID(n.slides.first().clone().addClass(\"clone\")).attr(\"aria-hidden\",\"true\")).prepend(f.uniqueID(n.slides.last().clone().addClass(\"clone\")).attr(\"aria-hidden\",\"true\"))),n.newSlides=$(n.vars.selector,n),t=u?n.count-1-n.currentSlide+n.cloneOffset:n.currentSlide+n.cloneOffset,d&&!v?(n.container.height(200*(n.count+n.cloneCount)+\"%\").css(\"position\",\"absolute\").width(\"100%\"),setTimeout(function(){n.newSlides.css({display:\"block\"}),n.doMath(),n.viewport.height(n.h),n.setProps(t*n.h,\"init\")},\"init\"===e?100:0)):(n.container.width(200*(n.count+n.cloneCount)+\"%\"),n.setProps(t*n.computedW,\"init\"),setTimeout(function(){n.doMath(),n.newSlides.css({width:n.computedW,marginRight:n.computedM,\"float\":\"left\",display:\"block\"}),n.vars.smoothHeight&&f.smoothHeight()},\"init\"===e?100:0))}v||n.slides.removeClass(i+\"active-slide\").eq(n.currentSlide).addClass(i+\"active-slide\"),n.vars.init(n)},n.doMath=function(){var e=n.slides.first(),t=n.vars.itemMargin,a=n.vars.minItems,i=n.vars.maxItems;n.w=void 0===n.viewport?n.width():n.viewport.width(),n.h=e.height(),n.boxPadding=e.outerWidth()-e.width(),v?(n.itemT=n.vars.itemWidth+t,n.itemM=t,n.minW=a?a*n.itemT:n.w,n.maxW=i?i*n.itemT-t:n.w,n.itemW=n.minW>n.w?(n.w-t*(a-1))/a:n.maxW<n.w?(n.w-t*(i-1))/i:n.vars.itemWidth>n.w?n.w:n.vars.itemWidth,n.visible=Math.floor(n.w/n.itemW),n.move=n.vars.move>0&&n.vars.move<n.visible?n.vars.move:n.visible,n.pagingCount=Math.ceil((n.count-n.visible)/n.move+1),n.last=n.pagingCount-1,n.limit=1===n.pagingCount?0:n.vars.itemWidth>n.w?n.itemW*(n.count-1)+t*(n.count-1):(n.itemW+t)*n.count-n.w-t):(n.itemW=n.w,n.itemM=t,n.pagingCount=n.count,n.last=n.count-1),n.computedW=n.itemW-n.boxPadding,n.computedM=n.itemM},n.update=function(e,t){n.doMath(),v||(e<n.currentSlide?n.currentSlide+=1:e<=n.currentSlide&&0!==e&&(n.currentSlide-=1),n.animatingTo=n.currentSlide),n.vars.controlNav&&!n.manualControls&&(\"add\"===t&&!v||n.pagingCount>n.controlNav.length?f.controlNav.update(\"add\"):(\"remove\"===t&&!v||n.pagingCount<n.controlNav.length)&&(v&&n.currentSlide>n.last&&(n.currentSlide-=1,n.animatingTo-=1),f.controlNav.update(\"remove\",n.last))),n.vars.directionNav&&f.directionNav.update()},n.addSlide=function(e,t){var a=$(e);n.count+=1,n.last=n.count-1,d&&u?void 0!==t?n.slides.eq(n.count-t).after(a):n.container.prepend(a):void 0!==t?n.slides.eq(t).before(a):n.container.append(a),n.update(t,\"add\"),n.slides=$(n.vars.selector+\":not(.clone)\",n),n.setup(),n.vars.added(n)},n.removeSlide=function(e){var t=isNaN(e)?n.slides.index($(e)):e;n.count-=1,n.last=n.count-1,isNaN(e)?$(e,n.slides).remove():d&&u?n.slides.eq(n.last).remove():n.slides.eq(e).remove(),n.doMath(),n.update(t,\"remove\"),n.slides=$(n.vars.selector+\":not(.clone)\",n),n.setup(),n.vars.removed(n)},f.init()},$(window).blur(function(t){e=!1}).focus(function(t){e=!0}),$.flexslider.defaults={namespace:\"flex-\",selector:\".slides > li\",animation:\"fade\",easing:\"swing\",direction:\"horizontal\",reverse:!1,animationLoop:!0,smoothHeight:!1,startAt:0,slideshow:!0,slideshowSpeed:7e3,animationSpeed:600,initDelay:0,randomize:!1,fadeFirstSlide:!0,thumbCaptions:!1,pauseOnAction:!0,pauseOnHover:!1,pauseInvisible:!0,useCSS:!0,touch:!0,video:!1,controlNav:!0,directionNav:!0,prevText:\"Previous\",nextText:\"Next\",keyboard:!0,multipleKeyboard:!1,mousewheel:!1,pausePlay:!1,pauseText:\"Pause\",playText:\"Play\",controlsContainer:\"\",manualControls:\"\",customDirectionNav:\"\",sync:\"\",asNavFor:\"\",itemWidth:0,itemMargin:0,minItems:1,maxItems:0,move:0,allowOneSlide:!0,start:function(){},before:function(){},after:function(){},end:function(){},added:function(){},removed:function(){},init:function(){}},$.fn.flexslider=function(e){if(void 0===e&&(e={}),\"object\"==typeof e)return this.each(function(){var t=$(this),a=e.selector?e.selector:\".slides > li\",n=t.find(a);1===n.length&&e.allowOneSlide===!1||0===n.length?(n.fadeIn(400),e.start&&e.start(t)):void 0===t.data(\"flexslider\")&&new $.flexslider(this,e)});var t=$(this).data(\"flexslider\");switch(e){case\"play\":t.play();break;case\"pause\":t.pause();break;case\"stop\":t.stop();break;case\"next\":t.flexAnimate(t.getTarget(\"next\"),!0);break;case\"prev\":case\"previous\":t.flexAnimate(t.getTarget(\"prev\"),!0);break;default:\"number\"==typeof e&&t.flexAnimate(e,!0)}}}(jQuery);","/* global offline_booking_flag */\n\nvar base_url = $('#base_url').val();\n$(function(){\n\tvar month = new Array();\n\tmonth[0] = \"Jan\";\n\tmonth[1] = \"Feb\";\n\tmonth[2] = \"Mar\";\n\tmonth[3] = \"Apr\";\n\tmonth[4] = \"May\";\n\tmonth[5] = \"Jun\";\n\tmonth[6] = \"Jul\";\n\tmonth[7] = \"Aug\";\n\tmonth[8] = \"Sep\";\n\tmonth[9] = \"Oct\";\n\tmonth[10] = \"Nov\";\n\tmonth[11] = \"Dec\";\n\tvar cal_json;\n\tvar couponCode=\"\";\n\tvar gh_coupon_value=0;\n\tvar host_coupon_value=0;\n\tvar coa_details;\n\tvar wallet_balance;\n\tvar totalPayableAmount;\n\tvar couponDiscountAmount = 0;\n\tvar curTimestamp =  (new Date()).valueOf();\n\tvar curDate = formatDate(new Date());\n\tvar selStartDate = '';\n\tvar selEndDate = '';\n\tvar mobileView=\"\";\n\tvar desktopView=\"\";\n\tvar property_id = $('.property_id').val();\n\tvar temp_min_units = 0;\n\tvar previousBookingCredits = 0;\n\tvar previousCreditFlag = 0;\n\tvar partialHideFlag=0;\n\tvar fullCashOnArrivalHideFlag = 0;\n\t// $('#cal_box').find('#cal_loader').show();\n    $.ajax({\n        'url': base_url + '/booking/inventory/' + property_id,\n        'method': 'get',\n        'dataType': 'json',\n        success: function (data) {\n            cal_json = data;\n            //console.log(cal_json);\n\t\t\tinitialiseCalendar();\n            selStartDate = reformatDate($('.start_date').val());\n            selEndDate = reformatDate($('.end_date').val());\n            calculatePrice(selStartDate, selEndDate);\n            var custom_units = $('#custom_units').val();\n            //if units are coming from previus url\n            if (custom_units > 0 && custom_units != $('.book_units').val()) {\n                $('.book_units').val(parseInt(custom_units));\n                calculatePrice(selStartDate, selEndDate);\n            }\n        }\n    });\n   // $('.book_units').css('cursor','pointer');\n    $('.book_units').change(function () {\n        var selStartDate = reformatDate($('.start_date').val());\n        var selEndDate = reformatDate($('.end_date').val());\n        calculatePrice(selStartDate, selEndDate);\n    });\n\n    $('.guests').change(function () {\n        $(\".guests\").val($(this).val());\n        calculatePrice(selStartDate, selEndDate, 0);\n    });\n\n    // this  for agent meal price\n    $('#food-plan').change(function () {\n        calculatePrice(selStartDate, selEndDate, 0);\n    });\n\n\n    /**\n     * Converts the Date Object into a date string format of 'dd-mm-yyyy'.\n     * @param {Object} date The Date Object which needs to be converted.\n     * @returns {string} The date in the format 'dd-mm-yyyy'.\n     */\n    function formatDate(date) {\n        return ('0' + date.getDate()).slice(-2) + '-' + ('0' + (date.getMonth() + 1) ).slice(-2) + '-' + date.getFullYear();\n    }\n\n    /**\n     * Coverts the date from 'dd-mm-yyyy' format into a Date type object.\n     * @param {string} dateStr The date in the 'dd-mm-yyyy' format.\n     * @returns {Object} Date object corresponding to the dateStr.\n     */\n    function reformatDate(dateStr) {\n\t\tif (dateStr == '')\n            return '';\n        var numbers = dateStr.split('-');\n        return new Date(numbers[2], numbers[1] - 1, numbers[0]);\n    }\n\n   /**\n     * Initialises the Calendar.\n     */\n    function initialiseCalendar() {\n        var start_date_val = $('.start_date').val();\n        if (start_date_val) {\n            var s_date_arr = start_date_val.split('-');\n            var s_date = new Date(s_date_arr[2], s_date_arr[1] - 1, s_date_arr[0]);\n            set_formatted_date(s_date, 'start_date_cont');\n        }\n\n        var end_date_val = $('.end_date').val();\n        if (end_date_val) {\n            var e_date_arr = end_date_val.split('-');\n            var e_date = new Date(e_date_arr[2], e_date_arr[1] - 1, e_date_arr[0]);\n            set_formatted_date(e_date, 'end_date_cont');\n        }\n        \n        $('.start_date')\n        .datepicker({\n            format: 'dd-mm-yyyy',\n            startDate: cal_json.start_date,\n            endDate: cal_json.end_date,\n            autoclose: true,\n            beforeShowDay: formatCalDay,\n            orientation: 'top'\n        })\n        .on('show', function (e) {\n            $('.gh-cal-day.disabled').attr('title', '');\n            $('.gh-cal-day').tooltip({\n                container: 'body',\n                html: true,\n                trigger: 'hover',\n                placement: 'top'\n            });\t\n        })\n        .on('hide', function (e) {\n            if (!e.date) {\n                $('#start_date_cont').find('.no_date').show();\n                $('#start_date_cont').find('.date_span').hide();\n                $('#start_date_cont').find('.day_year_span').hide();\n            }\n            else {\n                var sel_date = e.date.getDate();\n                var sel_mon = month[e.date.getMonth()];\n                var sel_year = e.date.getFullYear().toString();\n                $('#start_date_cont').find('.no_date').hide();\n                $('#start_date_cont').find('.date_span').text(sel_date).show();\n                $('#start_date_cont').find('.day_year_span .monthspan').text(sel_mon);\n                $('#start_date_cont').find('.day_year_span .yearspan').text(sel_year);\n                $('#start_date_cont').find('.day_year_span').show();\n            }\n            $('.tooltip').hide();\n        })\n        .on('changeDate', function (e) {\n            $(desktopView + '.start_date').datepicker('update', e.date);\n            $(mobileView + '.start_date').datepicker('update', e.date);\n\n            selStartDate = e.date;\n            var nextDay = new Date(e.date);\n            nextDay.setDate(nextDay.getDate() + 1);\n\n            $(desktopView + '.end_date').datepicker('setStartDate', nextDay);\n            $(mobileView + '.end_date').datepicker('setStartDate', nextDay);\n\n            if ($('.end_date').val() == '') {\n                $('.end_date').focus();\n            } else {\n                var checkout_date = reformatDate($('.end_date').val());\n                if (e.date.valueOf() >= checkout_date.valueOf()) {\n                    // newDate.setDate(nextDay.getDate() + 1);\n                    $(desktopView + '.end_date').datepicker('update', nextDay);\n                    $(mobileView + '.end_date').datepicker('update', nextDay);\n                    update_end_date_text(nextDay);\n                    $(desktopView + '.end_date').val(formatDate(nextDay));\n                    $(mobileView + '.end_date').val(formatDate(nextDay));\n\n                    $('.end_date').focus();\n                    calculatePrice(selStartDate, nextDay);\n                    return;\n                }\n            }\n            calculatePrice(selStartDate, selEndDate);\n    });\t    \n\n\n\t$('.end_date').datepicker({\n            format: 'dd-mm-yyyy',\n            startDate: cal_json.start_date,\n            endDate: cal_json.end_date,\n            autoclose: true,\n            beforeShowDay: formatCalDayEnd,\n            orientation: 'top'\n        })\n        .on('show', function (e) {\n            $('.gh-cal-day.disabled').attr('title', '');\n            //console.log('show' + ' ' +e.target.id);\n            $('.gh-cal-day').tooltip({\n                container: 'body',\n                html: true,\n                trigger: 'hover',\n                placement: 'top'\n            });\n        })\n        .on('hide', function (e) {\n            if (!e.date) {\n                // $('#end_date_cont').find('.no_date').show();\n                // $('#end_date_cont').find('.date_span').hide();\n                // $('#end_date_cont').find('.day_year_span').hide();\n                // console.log('ss');\n            }\n            else {\n                update_end_date_text(e.date);\n            }\n\n            $('.tooltip').hide();\n        })\n        .on('changeDate', function (e) {\n            $(desktopView + '.end_date').datepicker('update', e.date);\n            $(mobileView + '.end_date').datepicker('update', e.date);\n\n            selEndDate = e.date;\n            calculatePrice(selStartDate, selEndDate);\n        });\n\n\t}\n\n\tfunction formatCalDay(date) {\n\t    var calDate = formatDate(date);\n\t    //do not show any price on all previous dates\n\t    // if (calDate != curDate && date.valueOf() < curTimestamp) return;\n\n\t    //disable all non available dates and also do not show price\n\t    var price = cal_json.dates[calDate] ? cal_json.dates[calDate].price : cal_json.base_price;\n\t    var isEnabled = cal_json.dates[calDate] ? cal_json.dates[calDate].available : true;\n\n\t    var tooltip = isEnabled == true ? cal_json.display_currency + ' ' + price : '';\n\t    // console.log(tooltip);\n\t    var units = cal_json.dates[calDate] ? cal_json.dates[calDate].units : cal_json.units;\n\t    units = '<br>' + 'Available Units: ' + units;\n\t    tooltip += units;\n\t    var obj = new Object();\n\t    obj.enabled = isEnabled;\n\t    obj.classes = 'gh-cal-day';\n\t    obj.tooltip = tooltip;\n\t    return obj;\n\t}\n\n\tfunction formatCalDayEnd(date) {\n\n\t    var calDate = formatDate(date);\n\t    //do not show any price on all previous dates\n\t    if (calDate != curDate && date.valueOf() < curTimestamp) return;\n\n\t    //disable all non available dates and also do not show price\n\t    var price = cal_json.dates[calDate] ? cal_json.dates[calDate].price : cal_json.base_price;\n\t    var isEnabled = cal_json.dates[calDate] ? cal_json.dates[calDate].end_available : true;\n\n\t    var tooltip = isEnabled == true ? cal_json.display_currency + ' ' + price : '';\n\t    var units = cal_json.dates[calDate] ? cal_json.dates[calDate].units : cal_json.units;\n\t    units = '<br>' + 'Available Units: ' + units;\n\t    tooltip += units;\n\t    var obj = new Object();\n\t    obj.enabled = isEnabled;\n\t    obj.classes = 'gh-cal-day';\n\t    obj.tooltip = tooltip;\n\t    return obj;\n\t}\n\n\tfunction set_formatted_date(date,target){\n\t\tvar  sel_date = date.getDate();\n\t\tvar sel_mon = month[date.getMonth()];\n\t\tvar sel_year = date.getFullYear().toString();\n\t\t$('#'+target).find('.no_date').hide();\n\t\t$('#'+target).find('.date_span').text(sel_date).show();\n\t\t// $('#'+target).find('.day_year_span').text(sel_mon + ', '+sel_year).show();\n\t\t$('#'+target).find('.day_year_span .monthspan').text(sel_mon);\n\t\t$('#'+target).find('.day_year_span .yearspan').text(sel_year);\n\t\t$('#'+target).find('.day_year_span').show();\t\t\t\t\n\t}\n\n\tfunction update_end_date_text(date){\n\t\tvar  sel_date = date.getDate();\n\t\tvar sel_mon = month[date.getMonth()];\n\t\tvar sel_year = date.getFullYear().toString();\n\t\t$('#end_date_cont').find('.no_date').hide();\n\t\t$('#end_date_cont').find('.date_span').text(sel_date).show();\n\n\t\t$('#end_date_cont').find('.day_year_span .monthspan').text(sel_mon);\n\t\t$('#end_date_cont').find('.day_year_span .yearspan').text(sel_year);\n\t\t$('#end_date_cont').find('.day_year_span').show();\n\t}\n\n\tfunction round(value, decimals) {\n\t    return Number(Math.round(value+'e'+decimals)+'e-'+decimals);\n\t}\n\n\tfunction calculatePrice(startDate, endDate, use_custom_unit_input, coupon_applied)\n\t{\n\t\t$('.invoice_loader').hide();\n\t\t$('#coa_help_modal #general').show();\n\t\t$('#coa_help_modal #custom').hide();\n\n\t\t$('#duplicate_request_btn').hide();\n\t\t$('.booking-request-btn-identifier').show();\n        /*var custom_units = $('#custom_units').val();\n        if (custom_units > 0 && custom_units != $('.book_units').val()) {\n            $('.book_units').val(parseInt(custom_units));\n        }*/\n\t\tif((typeof use_custom_unit_input === 'undefined')){\n\t\t\tvar selectedUnits = $('.book_units').val();\n\t\t}else if($('.book_units').length){\n\t\t\tvar selectedUnits = $('.book_units').val();\n\t\t}else{\n\t\t\tvar selectedUnits =0;\n\t\t}\n\n\t\tif((typeof coupon_applied === 'undefined')){\n\t\t\tvar coupon_applied = 0;\n\t\t}\n\n\t\tif(startDate == '' || endDate == '') return;\n\n\t\t//allow previus day booking before 9am IST\n\t\tvar allow_booking_previous_day = $(\"#allow_booking_previous_day\").val();\n\t\t// console.log(allow_booking_previous_day);\n\t\tvar nine_hr = new Date().setHours(allow_booking_previous_day,0,0,0);\n\t\tvar today = new Date().setHours(0,0,0,0);\n\t\tif( today <= nine_hr){\n\t\t\ttoday-= 24*60*60;\n\t\t}\n\t\ttoday = new Date(today);\n\t\t//end\n\t\tselStartDate = startDate;\n\t\tselEndDate = endDate;\n\t\tif((startDate.valueOf() == endDate.valueOf()) || (startDate.valueOf() > endDate.valueOf()) || today.setHours(0,0,0,0) > startDate.setHours(0,0,0,0))\n\t\t{\n\t\t\t$('.error_message-invoice').css(\"padding-top\",\"8px\").html(\"Selected date not available.\").show();\n\t\t\t// $('#cal_box').find('#error_message').html(\"Invalid Dates Selected.\").show();\n\t\t\t$('.invoice-rows').hide();\n\t\t    $('.hide-invoice').hide();\t\n\t\t    // adjustPriceContHeight();\n\t\t    return;\n\t\t}\n\t\telse\n\t\t{\n\t\t\tvar guests = $('.guests').val();\n            if(guests == \"\"){\n                guests = $('#custom_guests').val();\n            }\n            var agent_meal_price = 0 ;\n\t\t\tvar agent_discount_percntage = 0 ;\n\t\t\tvar agent_discount_amount = 0 ;\n\n\t\t\tvar business_partner_discount_percntage = 0 ;\n\t\t\tvar business_partner_discount_amount = 0 ;\n\t\t\t// console.log(cal_json);\n\n\t\t\t// this is for agent meal module rk\n\t\t\tif(parseInt($.trim(cal_json.is_agent)) == 1 && parseInt($.trim(cal_json.prive)) == 1 ){\n\t\t\t\tvar food_plan = $(\"#food-plan\").val(); \n\t\t\t\tvar agent_map_array = eval(cal_json.agent_map);\n\t\t\t\tagent_meal_price = agent_map_array[food_plan] * guests;\n\t\t\t\tif(parseInt(agent_meal_price) > 0){\n\t\t\t\t\t$(\"#meal_price_div\").show();\n\t\t\t\t\t$(\".meal_guest_show\").text(guests);\n\t\t\t\t\t$(\".meal_cost_show\").html(cal_json.display_currency + ' ' + convert_price(agent_meal_price));\n\t\t\t\t} else{\n\t\t\t\t\t$(\"#meal_price_div\").css(\"display\",\"none\");\n\t\t\t\t}\n\n\n\t\t\t} // end here rk \n\n\t\t\tif(parseInt($.trim(cal_json.is_agent)) == 1){\n\t\t\t\tif(parseInt($.trim(cal_json.prive)) == 1){\n\t\t\t\t\tagent_discount_percntage = cal_json.agent_prive_discount;\n\t\t\t\t}else{\n\t\t\t\t\tagent_discount_percntage = cal_json.agent_non_prive_discount;\n\t\t\t\t}\t\n\t\t\t}\n\n\t\t\t// business partner \n\t\t\tif(parseInt($.trim(cal_json.is_business_partner)) == 1)\n\t\t\t{\n\t\t\t\tif(parseInt($.trim(cal_json.prive)) == 1){\n\t\t\t\t\tbusiness_partner_discount_percntage = cal_json.business_prive_discount;\n\t\t\t\t}else{\n\t\t\t\t\tbusiness_partner_discount_percntage = cal_json.business_non_prive_discount;\n\t\t\t\t}\t\n\t\t\t}\n\n\t\t\t//end here\n\n\n\t\t\t// $('#cal_box').find('#cal_loader').show();\n\t\t\t// console.log('valid dates');\n\t\t\tvar allDates = [];\n\t\t\tvar firstDate = new Date( startDate.getTime());\n\t\t\t//console.log(firstDate);\n\t\t\twhile (firstDate < endDate) {\n\t\t        allDates.push(formatDate(new Date(firstDate)));\n\t\t        firstDate.setDate(firstDate.getDate() + 1);\n\t\t    }\t\t\t\t\n\n\t\t    var totalDays = allDates.length;\n\t\t\tvar totalPricePerUnit = 0;\n\t\t    var isAvailable = true;\n\t\t    var cleaningCostPerUnit = 0;\n\t\t    //min nights logic\n\t\t\tif(cal_json.min_nights > totalDays)\n\t\t\t{\n\t\t\t\t$('.error_message-invoice').css(\"padding-top\",\"8px\").html(\"Minimum stay is \" + cal_json.min_nights + \" nights.\").show();\n\t\t\t\t// $('#cal_box').find('#cal_loader').hide();\n\t\t    \t$('.invoice-rows').hide();\n\t\t\t\t$('.hide-invoice').hide();\n\t\t    \treturn;\t\t\t\n\t\t\t}\n\t\t\telse if(cal_json.max_nights < totalDays)\n\t\t\t{\n\t\t\t\t$('.error_message-invoice').css(\"padding-top\",\"8px\").html(\"Maximum stay is \" + cal_json.max_nights + \" nights.\").show();\n\t\t\t\t// $('#cal_box').find('#cal_loader').hide();\n\t\t    \t$('.invoice-rows').hide();\t\n\t\t\t\t$('.hide-invoice').hide();\n\t\t    \treturn;\t\t\t\n\t\t\t}\n\n\t\t\tvar isSamePrice = true;\n\t\t\tvar availableUnits = 0;\n\t\t\tvar custom_extra_guest_cost = 0;\n\t\t\tvar instantBookAvailable = 1;\n\t\t\tvar display_discount = cal_json.display_discount;\n\t\t\tvar host_discount = 0;\n\t\t    for(var i = 0 ; i < totalDays; i++){\n\t\t    \tvar index = allDates[i];\n\t\t    \t//console.log(cal_json.dates[index].price);\n\t\t    \tif(cal_json.dates[index] && (cal_json.dates[index].units == 0 || cal_json.dates[index].available == false) )\n\t\t    \t{\n\t\t\t\t\tisAvailable = false;\n\t\t\t\t\tbreak;\n\t\t    \t}\n\t\t    \tvar curDayPrice = cal_json.dates[index] ? cal_json.dates[index].price : cal_json.base_price; \n\t\t    \tvar curDayExtraGuestPrice = cal_json.dates[index] ? cal_json.dates[index].extra_guest_cost : cal_json.extra_guest_cost; \n\t\t    \tvar curDayUnits = cal_json.dates[index] ? cal_json.dates[index].units : cal_json.units; \n\n\t\t    \t//check if price of all days is same as base price\n\t\t    \tif(curDayPrice != cal_json.base_price)\n\t\t    \t\tisSamePrice = false;\n\n\t\t    \t//check if instant booking is available\n\t\t    \t\n\t\t\t\tif(cal_json.dates[index])\n\t\t    \t{\n\t\t\t\t\tinstantBookAvailable = cal_json.dates[index].instant_book < instantBookAvailable ? cal_json.dates[index].instant_book : instantBookAvailable;\n\t\t    \t}\t\t    \t\n\t\t    \telse\n\t\t    \t{\n\t\t    \t\tinstantBookAvailable = cal_json.instant_book < instantBookAvailable ? cal_json.instant_book : instantBookAvailable;\n\t\t    \t}\n\n\t\t    \ttotalPricePerUnit += curDayPrice; \n\t\t    \tcustom_extra_guest_cost += curDayExtraGuestPrice;\n\t\t    \t\n\t\t    \tif(i == 0)\n\t\t    \t\tavailableUnits = curDayUnits;\n\t\t    \telse\t\n\t\t    \t\tavailableUnits = availableUnits > curDayUnits ? curDayUnits : availableUnits;\n\n\t\t    \thost_discount = (cal_json.dates[index] && cal_json.dates[index].discount > host_discount) ? cal_json.dates[index].discount : host_discount; \n\t\t    }\n\n\t\t    display_discount = host_discount > 0 ? host_discount : display_discount;\n\n\t\t    //calculate cost\n\t\t    if(isAvailable){\n\t\t    \t//calculate cleaning cost\n\t\t    \tif(cal_json.cleaning_cost > 0 )\n\t\t    \t{\n\t\t    \t\tcleaningCostPerUnit = cal_json.cleaning_mode == 'per_night' ? cal_json.cleaning_cost*totalDays : cal_json.cleaning_cost;\n\t\t    \t}\n\t\t    \t\n\t\t    \ttotalPricePerUnit += cleaningCostPerUnit;\n\n\t\t    \tvar pricePerNight = Math.round(totalPricePerUnit/totalDays);\n\n\t\t    \ttotalPricePerUnit = pricePerNight * totalDays;\n                var units_occupied = 1;\n\t\t\t\t\n\t\t    \tunits_occupied = Math.ceil(guests/cal_json.max_guest_per_room);\n\t\t    \tvar min_units_needed = units_occupied;\n\t\t    \tunits_occupied = selectedUnits > units_occupied ? selectedUnits : units_occupied;\n\t\t    \t\n\t\t\t\tif(units_occupied > availableUnits)\n\t\t    \t{\n\t\t    \t\t$('#datesnotavailable').modal('show');\n\t\t\t\t\t//$('.error_message-invoice').css(\"padding-top\",\"8px\").html(\"Selected dates are not available.\").show();\n\t\t\t\t\t// $('#cal_box').find('#cal_loader').hide();\n\t\t\t    \t$('.invoice-rows').hide();\n\t\t\t\t\t$('.hide-invoice').hide();\n\t\t\t    \treturn;\t\t    \t\t\n\t\t    \t}\n\n\t\t    \t//extra guests count and cost\n\t\t    \tvar extra_guests = guests - (cal_json.max_guest_per_room - (cal_json.max_guest_per_room - cal_json.extra_guest) ) * units_occupied;\n\t\t    \textra_guests = extra_guests>0 ? extra_guests : 0;\n\t\t    \tvar extra_guest_cost = extra_guests * custom_extra_guest_cost;\n\t\t    \t\n\t\t    \t//var extra_guest_cost_per_unit = Math.round(extra_guest_cost/units_occupied);\n\t\t    \t// extra_guest_cost *= totalDays;\n\t\t    \t//end\n\n\t\t    \tvar serviceFeePerUnit = Math.round((cal_json.service_fee * (totalPricePerUnit+extra_guest_cost) / 100));\n\t\t    \tvar discountPerUnit = 0;\n\n\t\t    \t//calculate discount: applicable only if per night price of all days is same \n\t\t    \tif(isSamePrice)\n\t\t    \t{\n\t\t    \t\t//monthly price if applicabele\n\t\t\t\t\tif(cal_json.per_month_price > 0 && totalDays >= 30){\n\t\t\t\t\t\tvar discounted_months = Math.floor(totalDays/30);\n\t\t\t\t\t\tvar discounted_price = (discounted_months * cal_json.per_month_price) + (totalDays - (discounted_months * 30)) * cal_json.base_price;\n\t\t\t\t\t\tdiscountPerUnit = (cal_json.base_price * totalDays - discounted_price);\n\t\t\t\t\t}\t\t    \t\t\n\t\t    \t\t//weekly price if applicabele\t\t    \t\t\n\t\t\t\t\telse if(cal_json.per_week_price > 0 && totalDays >= 7){\n\t\t\t\t\t\tvar discounted_weeks = Math.floor(totalDays/7);\n\t\t\t\t\t\tvar discounted_price = (discounted_weeks * cal_json.per_week_price) + (totalDays - (discounted_weeks * 7)) * cal_json.base_price;\n\t\t\t\t\t\tdiscountPerUnit = (cal_json.base_price * totalDays - discounted_price);\n\t\t\t\t\t}\t    \t\t\n\t\t    \t}\n\t\t\t\tvar totalDiscount = discountPerUnit * units_occupied; \n\t\t    \tvar total_amount_per_unit = serviceFeePerUnit + totalPricePerUnit\n                var sub_total  = total_amount_per_unit * units_occupied;\n                var grand_total = sub_total + extra_guest_cost - totalDiscount;\n                // agent booking discount module rk\n\t\t    \tif(agent_discount_percntage > 0){ \n\t\t    \t\tagent_discount_amount = Math.floor((grand_total * agent_discount_percntage)/100);\n\t\t    \t\tgrand_total = grand_total - agent_discount_amount; \n\t\t    \t}\n\n\t\t    \tif(agent_discount_amount>0){\n\t    \t\t\t$(\"#agent_property_discount\").show();\n\t\t\t\t\t$(\"#agent_property_discount_per_show\").text(agent_discount_percntage+\"%\");\n\t\t\t\t\t$(\"#agent_property_discount_show\").html(cal_json.display_currency + ' ' + convert_price(agent_discount_amount));\n\t\t    \t}else{\n\t\t    \t\t$(\"#agent_property_discount\").hide();\n\t\t    \t}\n\t\t    \t//end here rk\n\n\t\t    \t// business partner discount\n\t\t    \tif(business_partner_discount_percntage > 0)\n\t\t    \t{\n\t\t    \t\tbusiness_partner_discount_amount = Math.floor((grand_total * business_partner_discount_percntage)/100); \n\t\t    \t\tgrand_total = grand_total - business_partner_discount_amount; \t\n\t\t    \t} \n\t\t    \tif(business_partner_discount_amount > 0 )\n\t\t    \t{\n\t\t    \t\t$(\"#business_partner_property_discount\").show();\n\t\t\t\t\t$(\"#business_partner_property_discount_per_show\").text(business_partner_discount_percntage+\"%\");\n\t\t\t\t\t$(\"#business_partner_property_discount_show\").html(cal_json.display_currency + ' ' + convert_price(business_partner_discount_amount));\n\t\t    \t}\n\t\t    \telse\n\t\t    \t{\n\t\t    \t\t$(\"#business_partner_property_discount\").hide();\n\t\t    \t}\n\n\t\t    \t// end business partner\n\n\t\t    \tgrand_total = grand_total + agent_meal_price; // for agent meal price\n\t\t\t\t//console.log(grand_total);\n                \n\t\t\t\t\n\t\t\t\t$('.error_message-invoice').css(\"padding-top\",\"\").hide();\n\t\t\t\t$('#cal_box').find('#cal_loader').hide();\n\n\t\t    \t$('.invoice-rows').show();\n\t\t\t\t$('.hide-invoice').show();\n\n\t\t    \tvar perNightPriceText = cal_json.display_currency + ' ' + convert_price(pricePerNight);\n\t\t    \t$('.per_night_price').html(perNightPriceText);\n\t\t    \tvar custom_per_night_price = Math.ceil(grand_total/totalDays);\n\t\t    \t$('.custom_per_night_price').html(cal_json.display_currency + ' ' + convert_price(custom_per_night_price) + ' <sub style=\"font-size:13px;\"></sub>');\n                var baseUnitsText=$(\"#room-type-id\").val()==\"1\" ? units_occupied == \"1\" ? \"Unit\" : \"Units\" : units_occupied==\"1\" ? \"Room\" : \"Rooms\";\n                var baseGuestText=guests==\"1\" ? \"Guest\" : \"Guests\";\n                $('.sup-value-base').html(\"(1 Night, \"+ units_occupied+\" \"+baseUnitsText+\", \"+ guests+\" \"+baseGuestText+\")\");\n\n\t\t\t\t$('.custom_price').html(cal_json.display_currency + ' ' + convert_price( (custom_per_night_price * totalDays ) + agent_discount_amount + business_partner_discount_amount ) + ' <sub style=\"font-size:13px;\"></sub>');\n\t\t\t\t\n\t\t\t\tif(display_discount > 0){\n\t\t\t    \tvar cutout_price = Math.ceil( (custom_per_night_price * 100)/(100 - display_discount)); \n\t\t\t\t    $('.strikeout_price').html(cal_json.display_currency + ' ' + convert_price(cutout_price)).show();\n\t\t\t\t    $('.discount #cutout_discount').html(display_discount + '% ');\n\t\t\t\t    $('.discount').show();\t\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\t$('.strikeout_price').hide();\n\t\t\t\t\t$('.discount').hide();\n\t\t\t\t}\n\n\t\t    \t$('.per_night_cost').html(cal_json.display_currency + ' ' + convert_price(Math.ceil(grand_total/totalDays)));\n\t\t    \t$('#per_night_price_detail').html(perNightPriceText);\n\t\t\t\t// $('#extra_guest_price_detail').html(cal_json.display_currency + ' ' + Math.ceil(custom_extra_guest_cost/(totalDays)) + '/-');\t    \t\t\n\t\t\t\t$('.booked_nights').html(totalDays);\n\t\t    \t// $('#price_table').find('#booked_nights').html(totalDays);\n\t\t    \t// $('#price_table').find('#all_night_price').html(cal_json.display_currency + ' ' + totalPricePerUnit);\n\t\t    \t// $('#price_table').find('#service_fee').html(cal_json.display_currency + ' ' + serviceFeePerUnit);\n\t\t    \t// $('#price_table').find('#total_billing_price').html(cal_json.display_currency + ' ' + total_amount_per_unit );\n\t\t    \t\n\t\t    \t//show units occupied select box\n\t\t    \tvar units_val = selectedUnits == 0 || selectedUnits < units_occupied  ? units_occupied : selectedUnits;\n\t\t    \tif($(\"#room-type-id\").val()==\"1\"){\n\t\t    \t\t$('.unit-description').addClass('hidden');\n\t\t    \t\t$('.label-rooms').hide();\n\t\t    \t\t$('.label-units').show();\n\t\t    \t\tvar list = '';\n\t\t\t    \tfor(var i = min_units_needed ; i <= availableUnits ; i++)\n\t\t\t    \t\tlist += '<option value=\"'+i+'\">' + i +'</option>';\t\n\t\t    \t}else{\n\t\t    \t\tif(min_units_needed != temp_min_units && temp_min_units !=0){\n\t\t\t    \t\t$('.unit-description').removeClass('hidden');\n\t\t\t    \t\t$('.units-number').html(min_units_needed);\n\t\t\t    \t\t$('.x-units').html(min_units_needed+\"x\");\n\t\t\t    \t}\n\t\t\t    \ttemp_min_units = min_units_needed;\n\t\t\t    \t$('.label-units').hide();\n\t\t\t    \t$('.label-rooms').show();\n\t\t\t\t\tvar list = '';\n\t\t\t    \tfor(var i = min_units_needed ; i <= availableUnits ; i++){\n\t\t\t    \t\tlist += '<option value=\"'+i+'\">' + i +'</option>';\t\n\t\t\t    \t}\n\t\t\t    }\n\t\t\t\t//some other calculations\n\t\t\t\toriginal_price = round(grand_total * 100/(100 + cal_json.service_percentage),2); \n\t\t    \ttotal_commision = - ((cal_json.custom_discount + (cal_json.custom_discount * cal_json.service_percentage)/100) - cal_json.service_percentage);\n\t\t\t\tactual_price = round((grand_total /(100 + total_commision) * 100), 2);\n\t\t    \tvar host_fee = round((grand_total /(100 + total_commision) * 100), 2);\n\t\t\t\tvar service_fee = grand_total - actual_price;\n\t\t\t\tif($('#coupon_code').val()==\"\"){\n\t\t\t\t\tcouponDiscountAmount=0;\n\t\t\t\t\tgh_coupon_value = 0;\n\t\t\t\t\thost_coupon_value=0;\n\t\t\t\t}\n\t\t\t\t$('.book_units').html(list);\n\t\t\t\t$('.book_units').val(units_val);\n\t\t\t\tif(instantBookAvailable == 1){\n                    $('.show-payment-popup').addClass(\"hidden\");\n\t\t    \t\tif(offline_booking_flag){\n\t\t    \t\t\t$('.booking-request-btn-identifier').html('Book\tOffline');\n\t\t\t\t\t}\n                    else{\n                        if(busniessAgent===0 || busniessAgent===\"0\"){\n                            $('#instant-block-dynamic').show();\n\t\t\t\t\t\t\t$('.cash-on-arrival-modal').hide();\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t$('#instant-block-dynamic').hide();\n\t\t\t\t\t\t\t$('.cash-on-arrival-modal').show();\n\t\t\t\t\t\t}\n\t\t\t\t\t\t$('.booking-request-btn-identifier').html('Confirm and Pay');\n\t\t\t\t\t\t$('.booking-request-btn-identifier').attr('data-instant',\"1\");\n\t\t\t\t\t\t$('#instant-payment-block').val(1);\n\t\t\t\t\t\t\n\t\t\t\t\t}\n\t\t    \t}\n\t\t    \telse{\n                    $('.show-payment-popup').removeClass(\"hidden\");\n\t\t    \t\tif(offline_booking_flag){\n\t\t    \t\t\t$('.booking-request-btn-identifier').html('Book\tOffline');\n\t\t\t\t\t}\n\t\t    \t\telse{\n\t\t\t\t\t\tif(parseInt($.trim(cal_json.is_agent)) == 1 && parseInt($.trim(cal_json.prive)) == 1 ){\n\t\t\t\t\t\t\t$('.booking-request-btn-identifier').html('Book Now');\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t$('.booking-request-btn-identifier').html('Send Booking Request');\n\t\t\t\t\t\t}\n\t\t\t\t\t\t$('#instant-block-dynamic').hide();\n\t\t\t\t\t\t$('.cash-on-arrival-modal').show();\n\t\t\t\t\t\t$('.booking-request-btn-identifier').attr('data-instant',\"0\");\n\t\t\t\t\t\t$('#instant-payment-block').val(0);\n\t\t\t\t\t\tconsole.log(\"below #instant-payment-block\");\n\t\t\t\t\t\t$('#coupon-wallet').hide();\n\t\t\t\t\t\t$('.amount-later-div').addClass('hidden');\n                        $('.partial-payment-label').addClass(\"hidden\");\n\t\t\t\t\t\t$('.full-cash-arrival-label').addClass(\"hidden\");\n\t\t\t\t\t\t$('.full-payment-label').addClass(\"hidden\");\n\n\t\t\t\t\t}\n\n\t\t    \t}\n\t\t    \t\n\t\t    \tif(cal_json.previousBookingCredits > 0){\n\t\t\t\t\tpartialHideFlag=1;\n\t\t\t\t}else{\n\t\t\t\t\tpartialHideFlag=0;\n\t\t\t\t}\n\n\t\t    \twallet_applied_balance = 0;\n\t\t\t\tif($('#instant-payment-block').val()==1 && coupon_applied != 1){\n\t\t\t\t\tpreviousBookingCheck(cal_json, grand_total);\n\t\t\t\t\tgetWalletAmount(grand_total,cal_json.currency_code);\n\t\t\t\t\tif($('.custome-checkbox').is(\":checked\")){\n\t\t\t\t\t\tgrand_total = grand_total - wallet_balance;\n\t\t\t\t\t\tservice_fee = service_fee - wallet_balance;\n\t\t\t\t\t\twallet_applied_balance = wallet_balance;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif($('#instant-payment-block').val()==1 && !$(\"#partial-payment\").is(\":checked\")) {\n\t\t\t\t\tpreviousBookingCheck(cal_json, grand_total);\n\t\t\t\t}else if($('#instant-payment-block').val()==0){\n\t\t\t\t\tcouponDiscountAmount = 0;\n\t\t\t\t}\n\t\t\t\tservice_fee=service_fee-parseInt(gh_coupon_value);\n\t\t\t\thost_fee=host_fee-parseFloat(host_coupon_value);\n\t\t\t\tgrand_total = grand_total - parseInt(couponDiscountAmount);\n\n\n\t\t\t\tif($(\"#partial-payment\").is(\":checked\")){\n\t\t\t\t\tpreviousBookingCredits=cal_json.previousBookingCredits;\n\t\t\t\t\tif(previousBookingCredits >= grand_total){\n\t\t\t\t\t\tpreviousBookingCredits = grand_total;\n\t\t\t\t\t\tgrand_total = 0;\n\t\t\t\t\t\ttotalPayableAmount = grand_total;\n\t\t\t\t\t}else{\n\t\t\t\t\t\tgrand_total = grand_total - previousBookingCredits;\n\t\t\t\t\t\ttotalPayableAmount = grand_total;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tcoa_fee = calculate_coa_charges((grand_total + parseFloat(couponDiscountAmount) + parseFloat(wallet_applied_balance)), cal_json.min_coa_amount, cal_json.coa_charges_percentage, cal_json.cashless_additional_charge, cal_json.cashless_amount_limit1, cal_json.cashless_amount_limit2, cal_json.cashless_percent1, cal_json.cashless_percent2 );\n\t\t\t\tcoa_details = calculate_coa_upfront_amount(cal_json.commission_from_host, host_fee, grand_total, cal_json.min_coa_amount, cal_json.coa_charges_percentage, cal_json.host_transfer_percentage, cal_json.prive, service_fee, coa_fee);\n\t\t\t\tvar fullPaymentTotal = grand_total;\n\t\t\t\t$('.cao-fee-amt').html('<b>' + cal_json.display_currency + ' ' + coa_details.coa_fee);\n                $('.cash-on-amt').html('<b>' + cal_json.display_currency + ' 0');\n                $('.pay-later-amt').html('<b>' + cal_json.display_currency + ' '+ ((grand_total + coa_details.coa_fee)));\n                $('.partial-amt').html('<b>' + cal_json.display_currency + ' '+ coa_details.coa_upfront_amount);\n                $('.partial-pay-later-amt').html('<b>' + cal_json.display_currency + ' '+ coa_details.remaining_amount);\n                $('.full-amt').html('<b>' + cal_json.display_currency + ' '+ grand_total);\n\n                totalPayableAmount = grand_total;\n\n\t\t\t\tvar datediff = endDate.getTime() - startDate.getTime();\n\t\t\t\tvar nights = Math.round(datediff / (1000 * 60 * 60 * 24));\n\t\t\t\textra_guest_cost > 0 ? $('.row-guest-cost').removeClass(\"hidden\") : $('.row-guest-cost').addClass(\"hidden\");\n                var unitsText=$(\"#room-type-id\").val()==\"1\" ? units_val == \"1\" ? \"Unit\" : \"Units\" : units_val==\"1\" ? \"Room\" : \"Rooms\";\n                var nightsText=nights==\"1\" ? \"Night\" : \"Nights\";\n                var guestsText=guests==\"1\" ? \"Guest\" : \"Guests\";\n\t\t    \tvar guest_nights_units=\"(\"+nights+\" \"+nightsText+ \", \"+ units_val+\" \"+unitsText+\", \" + guests+ \" \"+guestsText+\")\";\n\t\t    \t$('.extra_guest_count').html(extra_guests);\n\t\t\t\t$('.guests-nights-units').html(guest_nights_units);\n                $('.extra_guest_cost').html(cal_json.display_currency + ' ' + Math.ceil(custom_extra_guest_cost / (totalDays)));\n\t\t\t\t$('#custom_extra_guest_cost').html(cal_json.display_currency + ' ' + convert_price(Math.ceil(custom_extra_guest_cost / (totalDays))));\n\t\t    \ttotalDiscount > 0 ? $('.row-discount').show() : $('.row-discount').hide();\n                $('.total_discount').html(cal_json.display_currency + ' ' + convert_price(totalDiscount));\n                //$('.total_discount_previous_booking').html(cal_json.display_currency + ' ' + convert_price(totalDiscount));\n\t\t\t\t$('.full-payment-amount').html('<b>'+cal_json.display_currency + ' ' + convert_price(fullPaymentTotal) + '</b>');\n\n                $('.cao-fee_all').html(cal_json.display_currency + ' ' + convert_price(coa_details.coa_fee));\n\t\t\t\t$('.partial-payment-amount').html('<b>'+cal_json.display_currency + ' ' + convert_price(round(parseFloat(coa_details.coa_upfront_amount.replace(\",\",\"\")),2)) + '</b>');\n\t\t\t\t\n\t\t\t\t$('.si-payable-amount').html(cal_json.display_currency + ' 1');\n\n                $('.full-cash-arrival-amount').html('<b>'+cal_json.display_currency + ' ' + convert_price((fullPaymentTotal+coa_details.coa_fee)) + '</b>');\n                $('.full-cash-arrival-amount-booking').html('<b>'+cal_json.display_currency + ' ' + convert_price(fullPaymentTotal) + '</b>');\n                \n                \n\t\t\t\tif($(\"#partial-payment\").is(\":checked\")  && $('#instant-payment-block').val()==1){\n\t\t\t\t\tgrand_total =parseFloat(coa_details.coa_upfront_amount.replace(\",\",\"\")).toFixed(2);\n\t\t\t\t\t$('.amount-later').html(cal_json.display_currency+' '+coa_details.remaining_amount);\n\t\t\t\t\t$('.amount-later-div').removeClass('hidden');\n                    $('.amount-tooltip').html(cal_json.display_currency+' '+coa_details.remaining_amount +' is to be paid at Check-in <span class=\"down-arrow\"></span>');\n                    $('.amount-tooltip-icon').show();\n\t\t\t\t\tservice_fee=service_fee+coa_details.coa_fee;\n\t\t\t\t\t$('.grand_total').html(cal_json.display_currency + ' ' + convert_price(grand_total));\n\t\t\t\t}\n\t\t\t\telse if($(\"#si-payment\").is(\":checked\") && $('#instant-payment-block').val() == 1  \n\t\t\t\t\t&& $('.si-payment-label').is(\":visible\")  )\n\t\t\t\t{\t\n\t\t\t\t\t//grand_total = grand_total + coa_details.coa_fee;\n                    grand_total = previousBookingCheck(cal_json, grand_total);\n                    if(grand_total > 1)\n                    {\n                    \t$('.amount-later').html(cal_json.display_currency+' '+ (grand_total - 1));\n\t                    $('.amount-later-div').removeClass('hidden');\n\t                    var cancelDays  = $(\"#cancellation_policy_days\").data('day');\n\t                    var tooltip_html = cal_json.display_currency+' '+(grand_total - 1) +' payable '+ cancelDays ; \n\t                    if(cancelDays > 1 )\n\t                    {\n\t                    \ttooltip_html = tooltip_html+' days before check-in<span class=\"down-arrow\"></span>';\n\t                    }else{\t\n\t                    \ttooltip_html = tooltip_html+' day before check-in<span class=\"down-arrow\"></span>';\n\t                    }\t\n\t                    $('.amount-tooltip').html(tooltip_html);\n\t                    \n\t                    $('.amount-tooltip-icon').show();\n\t\t\t\t\t\tgrand_total = 1;\n\t\t\t\t\t\t$('.grand_total').html(cal_json.display_currency + ' ' + convert_price(grand_total));\t\n                    }else\n                    {\t\n                    \t$('.grand_total').html(cal_json.display_currency + ' ' + convert_price(grand_total));\t\n                    \t$('.amount-later-div').addClass('hidden');\n                    \t$('.amount-tooltip-icon').hide();\n                    }\n                \n                }else if($(\"#full-cash-arrival\").is(\":checked\") && $('#instant-payment-block').val()==1){\n                \t//grand_total = (parseFloat(grand_total + coa_details.coa_fee).toFixed(2));\n                \tgrand_total = grand_total + coa_details.coa_fee;\n                \tgrand_total = previousBookingCheck(cal_json, grand_total);\n                \t$('.amount-later').html(cal_json.display_currency+' '+ convert_price(grand_total));\n\t\t\t\t\t$('.amount-later-div').removeClass('hidden');\n                    $('.amount-tooltip').html(cal_json.display_currency+' '+ convert_price(grand_total) +' is to be paid at Check-in <span class=\"down-arrow\"></span>' );\n                    $('.amount-tooltip-icon').show();\n                    $('.grand_total').html(cal_json.display_currency + ' ' + 0);\n                    if($('#instant-payment-block').val()==1) {\n\t                    $('.booking-request-btn-identifier').html('Confirm Booking');\n\t                }\n\t\t\t\t}else if($('#full-payment').is(':checked') && $('#instant-payment-block').val()==1 && $('#instant-payment-block').val()==1){\n\t\t\t\t\tgrand_total = previousBookingCheck(cal_json, grand_total);\n\t\t\t\t\t$('.amount-tooltip-icon').hide();\n                    $('.amount-later-div').addClass('hidden');\n                    $('.grand_total').html(cal_json.display_currency + ' ' + convert_price(grand_total));\n                }else{\n                \tpreviousBookingCheck(cal_json, grand_total);\n                \t$('.amount-tooltip-icon').hide();\n                    $('.amount-later-div').addClass('hidden');\n                    $('.grand_total').html(cal_json.display_currency + ' ' + convert_price(grand_total));\n                }\n                //alert(typeof coa_details.coa_fee);\n                //if(coa_details.coa_fee == 0)\n\t\t\t\tcoa_details.coa_fee == 0 ? $('.coa-fee-zero').hide(): $('.coa-fee-zero').show();\n                $('.service-fee').html('<b>'+cal_json.display_currency + ' ' + convert_price(service_fee) + '</b>');\n\n\t\t\t\tvar booking_requests = cal_json.requests;\n\n\t\t\t\t//var guests = $('.guests').val();\n\t\t\t\tvar fromDate = formatDate(new Date( startDate.getTime()));\n\t\t\t\tvar toDate = formatDate(new Date( endDate.getTime()));\n\t\t\t\t\n\t\t\t\tfor (var i = 0; i < booking_requests.length; i++)\n\t\t\t\t{\n\t\t\t\t\tvar request = booking_requests[i];\n\t\t\t\t\tif($('.booking-not-available').length) break;\n\t\t\t\t\tif (request.from_date == fromDate && request.to_date == toDate && request.guests == guests && request.units == units_val)\n\t\t\t\t\t{\n\t\t\t\t\t\t$('#duplicate_request_btn').attr('href', request.url).html(request.button_text).show();\n\t\t    \t\t\t$('.booking-request-btn-identifier').hide();\n\t\t    \t\t\t// console.log(\"after make payment\");\n\t\t\t\t\t\t$('#coupon-wallet').hide();\n                        $('.full-payment-label').hide();\n\t\t\t\t\t\t$('.partial-payment-label').hide();\n\t\t\t\t\t\t$('.one-rupee-label').hide();\n                        $('.full-cash-arrival-label').hide();\n\t\t\t\t\t\t$('#instant-block-dynamic').hide();\n\t\t    \t\t\tbreak;\n\t\t\t\t\t}else{\n                        \n\t\t\t\t\t\tif($('#invoice-button-id').attr('data-instant') === \"1\")\n\t\t\t\t\t\t{\n                            if($(\"#one-rupee\").is(\":checked\"))\n                            {\n                            \t$('#coupon-wallet').hide();\n                            }else{\n                            \t$('#coupon-wallet').show();\n                            }\n\n                            if(busniessAgent===0 || busniessAgent===\"0\")\n                            {\n                                $('#instant-block-dynamic').show();\n                            }else{\n                                $('#instant-block-dynamic').hide();\n                            }\n                        }\n                        else\n                        {\n\t\t\t\t\t\t\t$('#instant-block-dynamic').hide();\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t$('.full-payment-label').show();\n\t\t\t\t\t\t//console.log(\"show partial\");\n\t\t\t\t\t\t$('.partial-payment-label').show();\n\t\t\t\t\t\t$('.si-payment-label').show();\n                        $('.full-cash-arrival-label').show();\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t\n\n\t\t    \t //coa_details = calculate_coa_upfront_amount(cal_json.commission_from_host, host_fee, grand_total, cal_json.min_coa_amount, cal_json.coa_charges_percentage, cal_json.host_transfer_percentage, cal_json.prive, service_fee);\n\t\t    \t//console.log(coa_details.coa_upfront_amount);return;\n\t\t    \t$('#coa_help_modal #general').hide();\n\t\t    \t$('#coa_help_modal #custom').find('#coa_upfront_amount').html( cal_json.display_currency + coa_details.coa_upfront_amount);\n\t\t    \t$('#coa_help_modal #custom').find('#remaining_amount').html( cal_json.display_currency + coa_details.remaining_amount);\n\t\t    \t$('#coa_help_modal #custom').find('#coa_fee').html( cal_json.display_currency + coa_details.coa_fee);\n\n\t\t\t\t$('#coa_help_modal #custom').show();\n\t\t\t\t// adjustPriceContHeight();\n\n\t\t\t\t//full coa\n\t\t\t\tif(grand_total <= cal_json.cashless_max_amount){\n\t\t\t\t\t$('#full_coa_label').show();\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\t$('#full_coa_label').hide();\n\t\t\t\t}\n\t\t\t\t/*if(grand_total <=\"0\"){\n\t\t\t\t\t$('#coupon-wallet').hide();\n\t\t\t\t\tconsole.log(\"hide\");\n\t\t\t\t}else{\n\t\t\t\t\t$('#coupon-wallet').show();\n\t\t\t\t\tconsole.log(\"show\");\n\t\t\t\t}*/\n\t\t\t}\n\t\t\telse{\n                $('.error_message-invoice').css(\"padding-top\",\"8px\").html(\"Selected dates are not available.\").show();\n                $('#cal_box').find('#cal_loader').hide();\n                $('.invoice-rows').hide();\n\t\t\t\t$('.hide-invoice').hide();\n\t\t\t}\n\t\t}\n\t}\t\t\n\t\n\n\tfunction calculate_coa_upfront_amount(commission_from_host, host_fee, payable_amount,min_coa_amount,coa_charges_percentage, host_transfer_percentage, prive, service_fee, coa_fee){\n\t\tif(commission_from_host > 0)\n\t\t{\n\t\t\tgh_commission_from_host = round((host_fee * commission_from_host)/100,2);\n\t\t\thost_fee = host_fee - gh_commission_from_host;\n\t\t}\n\t\telse\n\t\t{\n\t\t\tgh_commission_from_host = 0;\n\t\t\thost_fee = host_fee;\n\t\t}\n\n\t\t// coa_fee = calculate_coa_charges(payable_amount, min_coa_amount, coa_charges_percentage, currency_code);\n\t\tcoa_fee = coa_fee;\n\t\tif(prive == 0){\n\t\t\tnet_commission = (service_fee > 0 ? service_fee :0)  + gh_commission_from_host + coa_fee;\n\t\t\thost_transfer_amount = round(host_fee * (host_transfer_percentage/100),2);\n\t\t\tcoa_upfront_amount = net_commission + host_transfer_amount;\n\n\t\t\tremaining_amount = payable_amount + coa_fee - coa_upfront_amount;\t\n\t\t\t// remaining_amount = payable_amount + host_transfer_amount;\t\t\t\n\t\t\t// remaining_amount = payable_amount - (service_fee + gh_commission_from_host + host_transfer_amount);\t\t\t\n\t\t}\n\t\telse{\n\t\t\tnet_commission = (service_fee > 0 ? service_fee :0) + coa_fee;\n\t\t\thost_transfer_amount = round(host_fee * (host_transfer_percentage/100),2);\n\t\t\tcoa_upfront_amount = net_commission + host_transfer_amount;\n\n\t\t\t// console.log(typeof(coa_fee));\n\t\t\t// remaining_amount = payable_amount - (service_fee + host_transfer_amount);\t\n\t\t\tremaining_amount = payable_amount + coa_fee - coa_upfront_amount;\t\n\n\t\t}\t\n\t\treturn new Object({\n\t\t\t\t\t\t'coa_fee' : coa_fee, \n\t\t\t\t\t\t'coa_upfront_amount' : convert_price(coa_upfront_amount), \n\t\t\t\t\t\t'remaining_amount' : convert_price(remaining_amount), \n\t\t\t\t\t\t'original_payable_amount' : convert_price(payable_amount)\n\t\t\t\t\t});\n\t}\n\n\n\tfunction calculate_coa_charges(amount, min_coa_amount, coa_charge_percent, additional_amount, amount_limit1, amount_limit2, percent1, percent2)\n\t{\n\t\tvar coa_amount=0;\n\t\tif(amount <= amount_limit2)\n\t\t{\n\t\t\tcoa_amount = round(percent1 * amount / 100,2);\n\t\t\tcoa_amount =  coa_amount <= min_coa_amount ? round(min_coa_amount, 2) : coa_amount;\n\t\t}\n\t\tcoa_amount =0;\n\t\treturn coa_amount;\n\t}\n\n\t$('#start_date_cont').click(function(){\n\t\t$('#start_date').focus();\n\t});\n\t\n\t$('#end_date_cont').click(function(){\n\t\t$('#end_date').focus();\n\t});\n\n\t$('.icon-cal-type').click(function(){\n\t\t$(this).parents('.dates-cont').find('.start_date').focus();\n\t});\n\t\n\tfunction getWalletAmount(amount , currency)\n\t{\n\t\t$('.loaderClass').show();\n\t\tvar coupon = $('#coupon_code').val();\n\t\tvar wallet = 0;\n\t\tif($(\".custome-checkbox\").is(\":checked\")){\n\t\t\twallet = 1;\n\t\t}\n\t\t//alert(\"inner\"+amount);\n\t\t$.ajax({\n\t\t\t'url': base_url + '/booking/discount-payment-details',\n\t\t\t'method': 'post',\n\t\t\t'dataType': 'json',\n\t\t\t'async' :false,\n\t\t\t'data' : {\n\t\t\t\t'amount':amount,\n\t\t\t\t'currency' : currency,\n\t\t\t\t'_token': $('#token').val(),\n\t\t\t\t'pid': property_id,\n\t\t\t\t'start_date' : $('.start_date').val(),\n\t\t\t\t'end_date' : $('.end_date').val(),\n\t\t\t\t'guests' : $('.guests').val() == '' ? $('#custom_guests').val() : $('.guests').val(),\n\t\t\t\t'units' : $('.book_units').val(),\n\t\t\t\t'coupon' :coupon,\n\t\t\t\t'wallet' : wallet\n\t\t\t},\n\t\t\tsuccess: function (data) {\n                $('.loaderClass').hide();\n                /*if($(\"#one-rupee\").is(\":checked\")){\n                    $('#coupon-wallet').hide();\n                }else{\n                \tconsole.log(\"show in function \");\n                    $('#coupon-wallet').show();\n                }*/\n                if(data.discount.type == 'wallet'){\n\t\t\t\t\tif(data.discount.is_valid === 1){\n\t\t\t\t\t\tdata.discount.amount = (data.discount.amount <= 0 ? 0 : data.discount.amount);\n\t\t\t\t\t\t$('.wallet-data').html('Pay Through Wallet ('+cal_json.display_currency+' '+convert_price(data.discount.amount)+') <input type=\"hidden\"  id=\"wallet-amount\" value=\"'+data.discount.amount+'\">');\n\t\t\t\t\t\twallet_balance = data.discount.amount;\n\t\t\t\t\t\tif($(\".custome-checkbox\").is(\":checked\")){\n\t\t\t\t\t\t\t$('.wallet-data').html(' Wallet Amount Applied <input type=\"hidden\"  id=\"wallet-amount\" value=\"'+wallet_balance+'\">');\n\t\t\t\t\t\t\t$(\".discount-wallet-coupon\").html(\"-\"+cal_json.display_currency+' '+ convert_price(wallet_balance));\n\t\t\t\t\t\t\t$(\".discount-div\").removeClass(\"hidden\");\n\t\t\t\t\t\t\t$(\".collapsible-row\").addClass(\"wallet-apply\");\n\t\t\t\t\t\t\t$(\"#apply-coupon\").addClass(\"disable\");\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t$(\".collapsible-row\").removeClass(\"wallet-apply\");\n\t\t\t\t\t\t\t$(\"#apply-coupon\").removeClass(\"disable\");\n\t\t\t\t\t\t}\n\t\t\t\t\t\t$(\".discount-wallet-coupon\").html(\"-\"+cal_json.display_currency+' '+ convert_price(wallet_balance));\n\t\t\t\t\t\t$(\".pay-wallet\").removeClass(\"hidden\");\n\t\t\t\t\t}else{\n\t\t\t\t\t\t$(\".pay-wallet\").addClass(\"hidden\");\n\t\t\t\t\t\t$(\".wallet-error\").html(data.discount.message);\n\t\t\t\t\t\t$(\".collapsible-row\").removeClass(\"wallet-apply\");\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif(data.discount.type == 'coupon')\n\t\t\t\t{\n\t\t\t\t\tif(data.discount.is_valid===true){\n\t\t\t\t\t\t\n\t\t\t\t\t\t$(\".custome-checkbox\").attr(\"checked\",false);\n\t\t\t\t\t\tcouponDiscountAmount = data.discount.amount;\n\t\t\t\t\t\tgh_coupon_value = data.discount.gh_coupon_value;\n\t\t\t\t\t\thost_coupon_value=data.discount.host_coupon_value;\n\t\t\t\t\t\tcouponCode = $('#coupon_code').val();\n\t\t\t\t\t\tif(data.discount.coupon_details!=''){\n\t\t\t\t\t\t\t$(\".coupon-cashback-text\").html(data.discount.coupon_details).show();\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t$(\".coupon-cashback-text\").html('').hide();\n\t\t\t\t\t\t}\n\t\t\t\t\t\t$('.coupon-applied-msg').show();\n\t\t\t\t\t\t$('.couponerror').addClass(\"hidden\");\n\t\t\t\t\t\tcalculatePrice(selStartDate, selEndDate, 0, 1); //last argument is 1 so that getWallet function is not called again in calculate price function. and to change the price details in tooltip on property page\n\t\t\t\t\t\t$(\".discount-wallet-coupon\").html(\"-\"+cal_json.display_currency+' '+ convert_price(couponDiscountAmount));\n\t\t\t\t\t\tif(couponDiscountAmount > 0){\n\t\t\t\t\t\t\t$(\".discount-div\").removeClass(\"hidden\");\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t$(\".discount-div\").addClass(\"hidden\");\n\t\t\t\t\t\t}\n\t\t\t\t\t}else{\n\t\t\t\t\t\t\tcouponDiscountAmount = 0;\n\t\t\t\t\t\t\tgh_coupon_value = 0;\n\t\t\t\t\t\t\thost_coupon_value=0;\n\t\t\t\t\t\t\t$(\".discount-div\").addClass(\"hidden\");\n\t\t\t\t\t\t\tcalculatePrice(selStartDate, selEndDate, 0, 1);\n\t\t\t\t\t\t\t$('.couponerror').html(data.discount.message).css(\"color\",\"red\");;\n\t\t\t\t\t\t\t$('.couponerror').removeClass(\"hidden\");\n\t\t\t\t\t\t\t$('.coupon-applied-msg').hide();\n\t\t\t\t\t\t\t$(\".coupon-cashback-text\").html('').hide();\n\t\t\t\t\t\t// return;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif(data.payment_options.length > 0)\n\t\t\t\t{\n\n                    $('.full-payment-label').removeClass(\"hidden\");\n                    $(\".partial-payment\").addClass(\"hidden\");\n\t\t\t        $(\".full-payment\").removeClass(\"hidden\");\n\t\t\t        $(\".full-cash-arrival\").addClass(\"hidden\");\n\t\t\t        $(\"#coupon-wallet\").show();\t\n\n\t\t\t    \tpaymentOptions(data);    \n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\t//alert(\"outside getWalletAmount ----> \");\n\t\t\t\t\t$('#full-payment').prop('checked', true);\n\n\t\t\t\t\t$('.partial-payment-label').addClass(\"hidden\");\n\t\t\t\t\t$('.si-payment-label').addClass(\"hidden\");\n                    $('.full-cash-arrival-label').addClass(\"hidden\");\n\n\n                    //$('.full-payment-label').addClass(\"hidden\");\n                    $('.full-payment-label').removeClass(\"hidden\");\n                    $('.full-payment').removeClass(\"hidden\");\n\n                    $('.si-payment').addClass(\"hidden\");\n                    $('.partial-payment').addClass(\"hidden\");\n                    $('.full-cash-arrival').addClass(\"hidden\");\n\n                    \n                    $('#payment-option-id').removeClass('two-option');\n\t\t\t\t\t$('#payment-option-id').addClass('one-option');\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\t$('.custome-checkbox').on('click',function(){\n\t\tcalculatePrice(selStartDate, selEndDate, 0);\n\t\tif($(\".custome-checkbox\").is(\":checked\")){\n\t\t\t$(\".discount-wallet-coupon\").html(\"-\"+cal_json.display_currency+' '+ convert_price(wallet_balance));\n\t\t\t$(\".discount-div\").removeClass(\"hidden\");\n\t\t}else{\n\t\t\t$('.wallet-data').html('Pay Through Wallet ('+cal_json.display_currency+' '+convert_price(wallet_balance)+') <input type=\"hidden\"  id=\"wallet-amount\" value=\"'+wallet_balance+'\">');\n\t\t\t$(\".discount-div\").addClass(\"hidden\");\n\t\t\t$(\"#apply-coupon\").removeClass(\"disable\");\n\t\t}\n\t});\n\t\n\t// apply coupon\n\t$(\"body\").on(\"click\",\".apply-coupon\", function()\n\t{\n\t\tif($(this).hasClass(\"disable\"))\n\t\t{\n\t\t\treturn;\n\t\t}\n\t\tif($(this).find(\"b\").text() == \"Cancel\")\n\t\t{\n\t\t\tcouponDiscountAmount = 0;\n\t\t\tgh_coupon_value = 0;\n\t\t\thost_coupon_value=0;\n\t\t\t$('#coupon_code').val(\"\");\n\t\t\t$(\".discount-div\").addClass(\"hidden\");\n\t\t\t$('.couponerror').addClass(\"hidden\");\n\t\t\tcalculatePrice(selStartDate, selEndDate, 0);\n\t\t\t$(this).find(\"b\").text(\"Apply coupon\");\n\t\t\t$(\".coupon-input\").css(\"display\",\"none\");\n\t\t\t$(\".pay-wallet\").show();\n\t\t\t//$(\".wallet-error\").html('');\n\t\t\t$(\".wallet-error\").show();\n\t\t\t$(\".collapsible-row\").removeClass(\"discount-apply\");\n\t\t}else {\n\n\t\t\tcouponDiscountAmount = 0;\n\t\t\t$(\".collapsible-row\").removeClass(\"discount-apply\");\n\t\t\tgh_coupon_value = 0;\n\t\t\thost_coupon_value=0;\n\t\t\t$(\".coupon-input a\").text(\"Apply\");\n\t\t\t$(\".coupon-input input\").removeAttr(\"readonly\");\n\t\t\t$(\".coupon-input\").removeClass(\"cross-x\");\n\t\t\t$(\".discount-div\").addClass(\"hidden\");\n\t\t\t$('.couponerror').addClass(\"hidden\");\n\t\t\tif($(\".apply-coupon\").attr(\"data-coupon-login\")==0){\n\t\t\t\t$('#signup-modal').modal('show');\n\t\t\t}else{\n\t\t\t\t$(this).find(\"b\").text(\"Cancel\");\n\t\t\t\t$(\".coupon-input\").css(\"display\",\"inline-block\");\n\t\t\t\t$(\".pay-wallet\").hide();\n\t\t\t\t$(\".custome-checkbox\").attr(\"checked\",false);\n\t\t\t\tcalculatePrice(selStartDate, selEndDate, 0);\n\t\t\t}\n\t\t\t$(\".wallet-error\").hide();\n\t\t}\n\t});\n\n\t$(\".coupon-input input\").keyup(function(){\n\t\tif($(\".coupon-input input\").val() == \"\"){\n\t\t\t$(\".coupon-input a\").text(\"Apply\");\n\t\t\t$(\".coupon-input input\").removeAttr(\"readonly\");\n\t\t}\n\t});\n\n$(\"body\").on(\"click\",\".coupon-input a\",function()\n{\n\t\tif($(this).text() == \"×\")\n\t\t{\n\t\t\t$('#coupon_code').val(\"\");\n\t\t\tcouponDiscountAmount = 0;\n\t\t\tgh_coupon_value = 0;\n\t\t\thost_coupon_value=0;\n\t\t\t$(\".discount-div\").addClass(\"hidden\");\n\t\t\t$('.couponerror').addClass(\"hidden\");\n\t\t\t$(\".collapsible-row\").removeClass(\"discount-apply\");\n\t\t\tcalculatePrice(selStartDate, selEndDate, 0);\n\t\t\t$(this).text(\"Apply\");\n\t\t\t$(\".coupon-input input\").removeAttr(\"readonly\");\n\t\t\t$(\".coupon-input\").removeClass(\"cross-x\");\n\t\t\t$(\".apply-coupon\").show();\n\t\t\t$(\".coupon-applied-msg\").hide();\n\t\t\t$(\".coupon-cashback-text\").html('').hide();\n\t\t}else {\n\t\t\tvar coupon_code = $('#coupon_code').val();\n\t\t\t$('.couponerror').html('');\n\t\t\tif(coupon_code == ''){\n\t\t\t\t$('.couponerror').html('Please enter coupon code.');\n\t\t\t\t$('.couponerror').removeClass(\"hidden\");\n\t\t\t\t$(\".collapsible-row\").removeClass(\"discount-apply\");\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t//alert(\"outer\"+(totalPayableAmount + previousBookingCredits));\n\t\t\t//alert(cal.json.previousBookingCredits);\n\t\t\t$.ajax({\n\t\t\t\t\turl: base_url+'/booking/discount-payment-details',\n\t\t\t\t\ttype: \"post\",\n\t\t\t\t\tdata: \n\t\t\t\t\t{\n\t\t\t\t\t\t\"_token\": $('#token').val(),\n\t\t\t\t\t\t\"start_date\" : $('.start_date').val(),\n\t\t\t\t\t\t\"end_date\" : $('.end_date').val(),\n\t\t\t\t\t\t\"coupon\" : $('#coupon_code').val(),\n\t\t\t\t\t\t\"pid\" : property_id,\n\t\t\t\t\t\t\"amount\" : (totalPayableAmount + previousBookingCredits),\n\t\t\t\t\t\t\"currency\" : cal_json.currency_code,\n\t\t\t\t\t\t'guests' : $('.guests').val(),\n\t\t\t\t\t\t'units' : $('.book_units').val(),\n\t\t\t\t\t},\n\t\t\t\t\tsuccess:function(data)\n\t\t\t\t\t{\n\t\t\t\t\t\tif(data.discount.is_valid===true)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t$(\".custome-checkbox\").attr(\"checked\",false);\n\t\t\t\t\t\t\tcouponDiscountAmount = data.discount.amount;\n\t\t\t\t\t\t\tgh_coupon_value = data.discount.gh_coupon_value;\n\t\t\t\t\t\t\thost_coupon_value=data.discount.host_coupon_value;\n\t\t\t\t\t\t\tcouponCode = $('#coupon_code').val();\n\t\t\t\t\t\t\t$(\".apply-coupon\").hide();\n\t\t\t\t\t\t\t$(\".coupon-applied-msg\").show();\n\t\t\t\t\t\t\tif(data.discount.coupon_details!=''){\n\t\t\t\t\t\t\t\t$(\".coupon-cashback-text\").html(data.discount.coupon_details).show();\n\t\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\t$(\".coupon-cashback-text\").html('').hide();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t$('.couponerror').removeClass(\"hidden\");\n\t\t\t\t\t\t\tcalculatePrice(selStartDate, selEndDate, 0, 1); //last argument is 1 so that getWallet function is not called again in calculate price function. and to change the price details in tooltip on property page\n\t\t\t\t\t\t\t$(\".discount-wallet-coupon\").html(\"-\"+cal_json.display_currency+' '+ convert_price(couponDiscountAmount));\n\t\t\t\t\t\t\tif(couponDiscountAmount > 0){\n\t\t\t\t\t\t\t\t$(\".discount-div\").removeClass(\"hidden\");\n\t\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\t$(\".discount-div\").addClass(\"hidden\");\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t$(\".collapsible-row\").addClass(\"discount-apply\");\n\t\t\t\t\t\t\t$(\"#apply-coupon-a\").text(\"×\");\n\t\t\t\t\t\t\t$(\".coupon-input\").addClass(\"cross-x\");\n\t\t\t\t\t\t\t$(\".coupon-input input\").attr(\"readonly\",\"readonly\");\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t$(\".apply-coupon\").show();\n\t\t\t\t\t\t\t$(\".coupon-applied-msg\").hide();\n\t\t\t\t\t\t\t$(\".coupon-cashback-text\").html('').hide();\n\t\t\t\t\t\t\t$('.couponerror').html(data.discount.message);\n\t\t\t\t\t\t\t$('.couponerror').removeClass(\"hidden\");\n\t\t\t\t\t\t\t$(\".collapsible-row\").removeClass(\"discount-apply\");\n\t\t\t\t\t\t\t$(\"#apply-coupon-a\").text(\"Apply\");\n\t\t\t\t\t\t\t$(\".coupon-input\").removeClass(\"cross-x\");\n\t\t\t\t\t\t\t$(\".coupon-input input\").removeAttr(\"readonly\");\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif(data.payment_options.length > 0)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t$('.full-payment-label').removeClass(\"hidden\");\n\t\t                    $(\".partial-payment\").addClass(\"hidden\");\n\t\t\t\t\t        $(\".full-payment\").removeClass(\"hidden\");\n\t\t\t\t\t        $(\".full-cash-arrival\").addClass(\"hidden\");\n\t\t\t\t\t        $(\"#coupon-wallet\").show();\t\n\n\t\t\t\t\t        paymentOptions(data);\n\t\t\t\t\t    }else\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t//alert(\"outside coupon-input a\");\n\n\t\t\t\t\t\t\t/*\n\t\t\t\t\t\t\t$('#full-payment').prop('checked', true);\n\t\t\t\t\t\t\t$('.partial-payment-label').addClass(\"hidden\");\n\t\t\t\t\t\t\t//$('.one-rupee-label').addClass(\"hidden\");\n\t\t                    $('.full-cash-arrival-label').addClass(\"hidden\");\n\t\t\t\t\t\t\t$('.full-payment-label').addClass(\"hidden\");\n\t\t\t\t\t\t\t$('#payment-option-id').addClass('one-option');\n\t\t\t\t\t\t\t$('#payment-option-id').removeClass('two-option');\n\t\t\t\t\t\t\t*/\n\n\t\t\t\t\t\t\t$('#full-payment').prop('checked', true);\n\n\t\t\t\t\t\t\t$('.partial-payment-label').addClass(\"hidden\");\n\t\t\t\t\t\t\t$('.si-payment-label').addClass(\"hidden\");\n\t\t                    $('.full-cash-arrival-label').addClass(\"hidden\");\n\n\n\t\t                    //$('.full-payment-label').addClass(\"hidden\");\n\t\t                    $('.full-payment-label').removeClass(\"hidden\");\n\t\t                    $('.full-payment').removeClass(\"hidden\");\n\n\t\t                    $('.si-payment').addClass(\"hidden\");\n\t\t                    $('.partial-payment').addClass(\"hidden\");\n\t\t                    $('.full-cash-arrival').addClass(\"hidden\");\n\n\t\t                    \n\t\t                    $('#payment-option-id').removeClass('two-option');\n\t\t\t\t\t\t\t$('#payment-option-id').addClass('one-option');\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} \n\t\t\t\t}); \n\t\t}\n});\n\n////////////////////////\n$('#invoice-button-id').on('click', function(e){\n\tsubmitForm(e);\n\n});\n\nfunction applyWalletMoney(id,balance)\n{\n\t$.ajax({\n\t\turl: base_url+'/payment/applywalletmoney',\n\t\ttype: \"get\",\n\t\t//async : false,\n\t\tdata: \n\t\t{\n\t\t\t\"_token\": $('#token').val(),\n\t\t\t\"request_id\": id,\n\t\t\t\"applied_wallet_money\": balance,\n\t\t\t\"instantFlag\" : 1\n\t\t},\n\t\tsuccess:function(data)\n\t\t{\n\t\t\tif(data===\"TRUE\"){\n\t\t\t\treturn true;\n\t\t\t}else{\n\t\t\t\t//alert(\"error\");\n\t\t\t\treturn false;\n\t\t\t}\n\t\t} \n\t});\n}\n\t\nfunction applyCouponCode(id,code)\n{\n\t$.ajax({\n\t\t\turl: base_url+'/payment/applycoupon',\n\t\t\ttype: \"post\",\n\t\t\t//async : false,\n\t\t\tdata: \n\t\t\t{\n\t\t\t\t\"_token\": $('#token').val(),\n\t\t\t\t\"request_id\": id,\n\t\t\t\t\"coupon_code\": code,\n\t\t\t\t\"instantFlag\" :1\n\t\t\t},\n\t\t\tsuccess:function(data)\n\t\t\t{\n\t\t\t\tif(data===\"TRUE\"){\n\t\t\t\t\treturn true;\n\t\t\t\t}else{\n\t\t\t\t\t//alert(\"error\");\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t} \n\t\t});\n}\n\t\n\t$(\"#partial-payment\").change(function() {\n        partialPaymentChange();\n\t});\n\t$(\"#full-payment\").change(function() {\n        fullPaymentChange();\n\t});\n\n\t$(\"#si-payment\").change(function()\n\t{\n        // $(\".partial-payment\").addClass(\"hidden\");\n        // $(\".full-payment\").addClass(\"hidden\");\n        // $(\".one-rupee\").removeClass(\"hidden\");\n        // $(\"#coupon-wallet\").hide();\n        \n\t\tsiPaymentChange();\n\t});\n\n    $(\"#full-cash-arrival\").change(function() {\n        fullCashArrivalChange();\n\t});\n\t$('#invoice-button-id-pop').on(\"click\",function(e){\n        e.preventDefault();\n\t\t$(\"#booking_invoice_form\").submit();\n    });\n\n    function fullCashArrivalChange(){\n    \t\n        //return false;\n\t\tcalculatePrice(selStartDate, selEndDate, 0);\n    }\n\n    function fullPaymentChange(){\n    \t\n\t\tcalculatePrice(selStartDate, selEndDate, 0);\n    }\n\n    function partialPaymentChange(){\n\t\tcalculatePrice(selStartDate, selEndDate, 0);\n    }\n\n    function siPaymentChange()\n    {\n\t\tcalculatePrice(selStartDate, selEndDate, 0);\n    }\n\n    function submitForm(e)\n    {\n    \tif($('#is_agent_check').val() == '1')\n    \t{\n\t\t\tif($('.traveller_name').val() == '')\n\t\t\t{\n\t\t\t\t$('.traveller_name').focus();\n\t\t\t\tif($('#show_login_modal_loggeout').length)\n\t\t\t\t{\n\t\t\t\t\twindow.location.reload();\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{                      \n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif($('.traveller_contact').val() == '')\n\t\t\t{\n\t\t\t\tconsole.log(\"Traveller Details must be filled\");\n\t\t\t\t$('.traveller_contact').focus();\n\t\t\t\tif($('#show_login_modal_loggeout').length)\n\t\t\t\t\twindow.location.reload();\n\t\t\t\telse                        \n\t\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar contact = $('.traveller_contact').val();\n\t\t\tif(Math.floor(contact) != contact || !$.isNumeric(contact) || $('.traveller_contact').val().length < 8) {\n\t\t\t\tconsole.log(\"Invalid Contact Number\");\n\t\t\t\t$('.traveller_contact').focus();\n\t\t\t\tif($('#show_login_modal_loggeout').length)\n\t\t\t\t\twindow.location.reload();\n\t\t\t\telse                        \n\t\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\n\t$('.invoice-button-id').length > 0 ? $('.login-class-button').prop('disabled', true) : $('#invoice-button-id').prop('disabled', true);\n\te.preventDefault();\n\tif($('#invoice-button-id').attr('data-instant') === \"1\" || $('.login-class-button').attr('data-instant') === \"1\"){\n\t\tvar full_payment;\n\t\tif($(\"#full-payment\").is(\":checked\")){\n            full_payment = 1;\n        }else if($(\"#one-rupee\").is(\":checked\")){\n            full_payment = 2;\n        }else if($(\"#partial-payment\").is(\":checked\")){\n            full_payment = 0;\n        }else if($(\"#full-cash-arrival\").is(\":checked\")){\n            full_payment = 0;\n        }else{\n\t\t\tfull_payment = 1;\n\t\t}\n\t\t$.ajax({\n\t\t\t\turl: base_url+'/booking/discount-payment-details',\n\t\t\t\ttype: \"post\",\n\t\t\t\tdata: \n\t\t\t\t{\n\t\t\t\t\t\"_token\": $('#token').val(),\n\t\t\t\t\t\"start_date\" : $('.start_date').val(),\n\t\t\t\t\t\"end_date\" : $('.end_date').val(),\n\t\t\t\t\t\"couponcode\" : $('#coupon_code').val(),\n\t\t\t\t\t\"pid\" : property_id,\n\t\t\t\t\t\"amount\" : totalPayableAmount,\n\t\t\t\t\t\"currency\" : cal_json.currency_code,\n\t\t\t\t\t\"paymentFlag\" :1,\n\t\t\t\t\t'guests' : $('.guests').val() == '' ? $('#custom_guests').val() : $('.guests').val(),\n\t\t\t\t\t'units' : $('.book_units').val(),\n\t\t\t\t\t'full_payment':full_payment,\n\t\t\t\t\t'food-plan' : $('#food-plan').val(),\n\t\t\t\t},\n\t\t\t\tsuccess:function(data)\n\t\t\t\t{\t\n\t\t\t\t\t\n\t\t\t\t\tif(data.valid===1)\n\t\t\t\t\t{\n\t\t\t\t\t\tif(!$(\"#full-cash-arrival\").is(\":checked\"))\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tif(full_payment == 1)\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t// GA for Confirm And Pay full payment\n\t\t\t\t\t\t\t        ga('send', { \n\t\t\t\t\t\t\t            'hitType': 'event',\n\t\t\t\t\t\t\t            'eventCategory': 'pay/full_payment-'+totalPayableAmount+'-'+data.requestId,\n\t\t\t\t\t\t\t            'eventAction': 'click',\n\t\t\t\t\t\t\t            'eventLabel': 'pay',\n\t\t\t\t\t\t\t        });\n\t\t\t\t\t\t\t    }else\n\t\t\t\t\t\t\t    {\n\t\t\t\t\t\t\t    \t// GA for Confirm And Pay full partial Payment\n\t\t\t\t\t\t\t        ga('send', { \n\t\t\t\t\t\t\t            'hitType': 'event',\n\t\t\t\t\t\t\t            'eventCategory': 'pay/partial_payment-'+totalPayableAmount+'-'+data.requestId,\n\t\t\t\t\t\t\t            'eventAction': 'click',\n\t\t\t\t\t\t\t            'eventLabel': 'pay',\n\n\t\t\t\t\t\t\t        });\n\t\t\t\t\t\t\t    }    \n\t\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\t\t// GA for Confirm And Pay pay/pay_later_payment \n\t\t\t\t\t\t\t        ga('send', { \n\t\t\t\t\t\t\t            'hitType': 'event',\n\t\t\t\t\t\t\t            'eventCategory': 'pay/pay_later_payment-'+totalPayableAmount +\"-\"+data.requestId,\n\t\t\t\t\t\t\t            'eventAction': 'click',\n\t\t\t\t\t\t\t            'eventLabel': 'pay',\n\t\t\t\t\t\t\t        });\n\t\t\t\t\t\t\t}   \n\n\t\t\t\t\t\t\tif($('.custome-checkbox').is(\":checked\")){\n\t\t\t\t\t\t\t\tapplyWalletMoney(data.requestId,wallet_balance);\n\t\t\t\t\t\t\t}else if(couponDiscountAmount!==0){\n\t\t\t\t\t\t\t\tapplyCouponCode(data.requestId,$('#coupon_code').val());\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif($(\"#full-cash-arrival\").is(\":checked\") || totalPayableAmount <=0)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tif(previousBookingCredits!=0 && totalPayableAmount <=0){\n\t\t\t\t\t\t\t\t\tpreviousCreditFlag = 1;\n\t\t\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\t\tpreviousCreditFlag = 0;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\twindow.location.href=\"/payment/cashlesspayment/\"+data.requestId+\"?previous_booking_flag=\"+previousCreditFlag;\n\t\t\t\t\t\t\t}else\n\t\t\t\t\t\t\t{ \n\t\t\t\t\t\t\t\tif( ($(\"#agent-id\").val()==\"1\" && $(\"#agent-id-prive\").val()==\"1\") || ( $(\"#is_business_partner\").val() == \"1\" && $(\"#is_business_partner_prive\").val() == \"1\" ) )\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tvar str = \"<form id='instant-book-form-agent' method='post' action='/payment/agentbookingpayment/\"+data.requestId+\"'></form>\";\n\t\t\t\t\t\t\t\t\t$(\"#instant-payment-form\").html(str);\n\t\t\t\t\t\t\t\t\t$(\"#instant-book-form-agent\").submit();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tif($(\"#si-payment\").is(\":checked\"))\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tvar str = \"<form id='instant-book-form' method='post' action='/payment/confirm/\"+data.requestId+\"'>\\\n\t\t\t\t\t\t\t\t\t\t\t\t\t<input type='hidden' name='si_payment' value='1'>\\\n\t\t\t\t\t\t\t\t\t\t\t\t</form>\";\n\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t$(\"#instant-payment-form\").html(str);\n\t\t\t\t\t\t\t\t\t\t$(\"#instant-book-form\").submit();\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tvar str = \"<form id='instant-book-form' method='post' action='/payment/confirm/\"+data.requestId+\"'><input type='hidden' name='full_payment' value='\"+full_payment+\"'></form>\";\n\t\t\t\t\t\t\t\t\t\t$(\"#instant-payment-form\").html(str);\n\t\t\t\t\t\t\t\t\t\t$(\"#instant-book-form\").submit();\n\t\t\t\t\t\t\t\t\t}\t\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}else if(data.valid === 0){\n\t\t\t\t\t\t\twindow.location.href = base_url + data.url;\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t$('#invoice-button-id').prop('disabled', false);;\n\t\t\t\t\t\t}\n\t\t\t\t\t} \n\t\t\t\t});\n\t\t}else{\n\t\t\n\t\t// GA for send_request/prop_preview (user ID, booking ID)\n        ga('send', { \n            'hitType': 'event',\n            'eventCategory': 'send_request/prop_preview',\n            'eventAction': 'click',\n            'eventLabel': 'request'\n        });\n       \t$(\"#booking_invoice_form\").submit();\n\t}\n}\n\n/*$('.invoice-button-id').on('click', function(e){\n\tsubmitForm(e);\n});*/\n\nfunction previousBookingCheck(cal_json, grand_total)\n{\n\tpreviousBookingCredits = cal_json.previousBookingCredits;\n\tif(previousBookingCredits != 0)\n\t{\t\n\t\tif(previousBookingCredits >= grand_total)\n\t\t{\n\t\t\tpreviousBookingCredits = grand_total;\n\t\t\tgrand_total = 0;\n\t\t\ttotalPayableAmount = grand_total;\n\t\t\tfullCashOnArrivalHideFlag = 1;\n\t\t\tif($('#instant-payment-block').val() == 1)\n\t\t\t{\n\t\t\t\t$('.booking-request-btn-identifier').html('Confirm Booking');\n\t\t\t}\n\t\t}\n\t\telse\n\t\t{\n\t\t\tgrand_total = grand_total - previousBookingCredits;\n\t\t\ttotalPayableAmount = grand_total;\n\t\t\tfullCashOnArrivalHideFlag = 0;\n\t\t}\n\n\t\t$(\".previous-booking-credits\").html(\"- \"+cal_json.display_currency+' '+parseFloat(previousBookingCredits).toLocaleString());\n\t\t$(\".discount-div-previous\").removeClass(\"hidden\");\n\t}\n\telse\n\t{\n\t\t//totalPayableAmount = grand_total;\n\t\t$(\".discount-div-previous\").addClass(\"hidden\");\n\t}\n\treturn grand_total;\n}\n\n$('.invoice-button-id').on('click', function(e){\n\tsubmitForm(e);\n\n});\n\n$('.apply-coupon-wallet-button').on('click', function(e)\n{\n\te.preventDefault();\n\tvar redirectUrl = \"/properties/rooms/\"+ property_id +\"?start_date=\"+ $('.start_date').val() +\n\t\"&end_date=\"+ $('.end_date').val() +\"&guests=\"+ ($('.guests').val() == '' ? $('#custom_guests').val() : $('.guests').val());\n\twindow.location.href = base_url + redirectUrl;\n});\n\nfunction paymentOptions(data)\n{\t\n\tif($.inArray( \"si\", data.paymentIdArray ) !== -1 )\n    {\t\n    \t//console.log(\"siiiii \");\n    \tif($('#si-payment').is(':checked'))\n    \t{\n    \t\tconsole.log(\"siiiii  if ...> \"); \n    \t\t$(\".partial-payment\").addClass(\"hidden\");\n\t        $(\".full-payment\").addClass(\"hidden\");\n\t        $(\".full-cash-arrival\").addClass(\"hidden\");\n\n\t       \t$('.si-payment-label').removeClass(\"hidden\");\n\t       \t$(\".si-payment\").removeClass(\"hidden\");\n\n\t       \t//THREE OPTIONS SHOW\n\t        if($.inArray(\"partial_payment\", data.paymentIdArray )!== -1 )\n\t\t\t{\n\t\t\t\t$('#payment-option-id').removeClass('one-option');\n\t\t\t\t$('#payment-option-id').removeClass('two-option');\t\n\n\t\t\t\t$('.partial-payment-label').removeClass(\"hidden\");\n\t\t\t}\n\t\t\telse\n\t\t\t{\t// TWO OPTIONS SHOW\n\t\t\t\t$('#payment-option-id').removeClass('one-option');\n\t\t\t\t$('#payment-option-id').addClass('two-option');\t\t\n\t\t\t}\n\n\t\t\tif( $.inArray( \"si\", data.paymentIdArray ) !== -1  && $.inArray( \"full_coa\", data.paymentIdArray ) !== -1)\n\t\t\t{\t\n\t\t\t\t$('.full-cash-arrival-label').addClass(\"hidden\");\n\t\t\t\t$('.full-cash-arrival').addClass(\"hidden\");\n\n\t\t\t\tif($.inArray( \"partial_payment\", data.paymentIdArray ) !== -1)\n\t\t\t\t{\n\t\t\t\t\t$('#payment-option-id').removeClass('one-option');\n\t\t\t\t\t$('#payment-option-id').removeClass('two-option');\t\n\t\t\t\t}else\n\t\t\t\t{\n\t\t\t\t\t$('#payment-option-id').removeClass('one-option');\n\t\t\t\t\t$('#payment-option-id').addClass('two-option');\t\n\n\t\t\t\t\t$('.partial-payment-label').addClass(\"hidden\");\n\t\t\t\t}\n\t\t\t}\n\n\t       return;\n\t\t}\n\n\t\t$('.si-payment-label').removeClass(\"hidden\");\n\n\t\tif( $.inArray( \"partial_payment\", data.paymentIdArray ) !== -1  && $.inArray( \"full_coa\", data.paymentIdArray ) === -1)\n\t\t{\t\n\t\t\t$('.partial-payment-label').removeClass(\"hidden\");\n\t\t\t$('#payment-option-id').removeClass('one-option');\n\t\t\t$('#payment-option-id').removeClass('two-option');\n\n\t\t\t//console.log(\"siiiii  second if ...> \"); \t\t\n\t\t}\n\n\t\tif( $.inArray( \"si\", data.paymentIdArray ) !== -1  && $.inArray( \"full_coa\", data.paymentIdArray ) !== -1)\n\t\t{\t\n\t\t\t//$('.partial-payment-label').removeClass(\"hidden\");\n\t\t\t$('#payment-option-id').removeClass('one-option');\n\t\t\t$('#payment-option-id').addClass('two-option');\n\n\t\t\t$(\".full-cash-arrival\").addClass(\"hidden\");\n\t\t\t$('.full-cash-arrival-label').addClass(\"hidden\");\n\t\t\t//console.log(\"siiiii  second if  fix ...> \"); \t\t\n\t\t}\n\t\t//console.log(\"siiiii  second if ...> \"); \t\t\n\t\t//return;\n\t}\n\t\n\tif(\t$.inArray( \"full_coa\", data.paymentIdArray )!== -1 \n\t\t&& $.inArray(\"partial_payment\", data.paymentIdArray )!== -1 \n\t\t&& fullCashOnArrivalHideFlag == 0\n\t\t&& $.inArray( \"si\", data.paymentIdArray ) === -1 \n\t)\n\t{\n\t\t//console.log(\" full_coa  first if  --------->\");\n\t\t$('.si-payment-label').removeClass(\"hidden\");\n\t\t$(\".si-payment\").addClass(\"hidden\");\n\n\t\tif($('#full-cash-arrival').is(':checked'))\n\t\t{\n\t\t\t$(\".partial-payment\").addClass(\"hidden\");\n\t        $(\".full-payment\").addClass(\"hidden\");\n\t        //$(\".one-rupee\").removeClass(\"hidden\");\n\t        $(\".full-cash-arrival\").removeClass(\"hidden\");\n\t        $(\"#coupon-wallet\").show();\n\t\t}else{\n\t\t\t$('#full-payment').prop('checked', true);\n\t\t\t$(\".partial-payment\").addClass(\"hidden\");\n\t        $(\".full-payment\").removeClass(\"hidden\");\n\t        //$(\".one-rupee\").addClass(\"hidden\");\n\t        $(\".full-cash-arrival\").addClass(\"hidden\");\n\t        $(\"#coupon-wallet\").show();\t\n\t\t}\n\n        $('.full-cash-arrival-label').removeClass(\"hidden\");\n\t\t$('.partial-payment-label').addClass(\"hidden\");\n\t\t$('#payment-option-id').removeClass('one-option');\n\t\t$('#payment-option-id').addClass('two-option');\n\n\t\tfor(var i = 0; i<data.payment_options.length; i++)\n\t\t{\n\t\t\tif(data.payment_options[i].id===\"partial_payment\")\n\t\t\t{\n\t\t\t\t$(\"#partialPayment\").find(\".modal-body\").html(data.payment_options[i].popup_text);\n\t\t\t}\n\t\t\tif(data.payment_options[i].id===\"full_coa\")\n\t\t\t{\n\t\t\t\t//$(\"#oneRupee\").find(\".modal-body\").html(data.payment_options[i].popup_text);\n                $(\"#cashOnArrival\").find(\".modal-body\").html(data.payment_options[i].popup_text);\n            }\n\t\t}\n\t}\n\n\t//else if(  data.payment_options[0].id === \"full_coa\" && fullCashOnArrivalHideFlag == 0 && $.inArray( \"si\", data.paymentIdArray ) === -1 )\n\telse if( $.inArray( \"full_coa\", data.paymentIdArray ) !== -1 && fullCashOnArrivalHideFlag == 0 \n\t\t\t&& $.inArray( \"si\", data.paymentIdArray ) === -1 )\n\t{\n\t\t//console.log(\" full_coa  second if  ---------> flag \"+ fullCashOnArrivalHideFlag);\n\n\t\t$('.si-payment-label').removeClass(\"hidden\");\n\t\t$(\".si-payment\").addClass(\"hidden\");\n\t\t\n\t\t$(\".partial-payment\").addClass(\"hidden\");\n\t\t$(\".partial-payment-label\").addClass(\"hidden\");\t\n\n\t\tif($('#full-cash-arrival').is(':checked'))\n\t\t{\n\t\t\t\n\t        $(\".full-payment\").addClass(\"hidden\");\n\t        $(\".full-cash-arrival\").removeClass(\"hidden\");\n\t        $(\"#coupon-wallet\").hide();\n\t\t}\n\t\telse\n\t\t{\n\t\t\t$('#full-payment').prop('checked', true);\n\t\t\t$(\".full-payment\").removeClass(\"hidden\");\n\t        $(\".full-cash-arrival\").addClass(\"hidden\");\n\t        $(\"#coupon-wallet\").show();\t\n\t\t}\n\n\t\t$('#payment-option-id').removeClass('one-option');\n\t\t$('#payment-option-id').addClass('two-option');\n\n\t\t$('.full-cash-arrival-label').removeClass(\"hidden\");\n\t\t//$(\"#oneRupee\").find(\".modal-body\").html(data.payment_options[0].popup_text);\n        $(\"#cashOnArrival\").find(\".modal-body\").html(data.payment_options[0].popup_text);\n    }\n\n\t//else if(data.payment_options[0].id === \"partial_payment\" && partialHideFlag == 0)\n\telse if( $.inArray( \"partial_payment\", data.paymentIdArray ) !== -1  && partialHideFlag == 0 && $.inArray( \"full_coa\", data.paymentIdArray ) === -1)\n\t{\t\n\t\t//console.log(\" partial_payment  --------->\");\n\t\t//$('.si-payment-label').removeClass(\"hidden\");\n\t\t$(\".si-payment\").addClass(\"hidden\");\n\t\t\t\n\t\tif($('#partial-payment').is(':checked'))\n\t\t{\n\t\t\t$(\".partial-payment\").removeClass(\"hidden\");\n\t        $(\".full-payment\").addClass(\"hidden\");\n\t        $(\".full-cash-arrival\").addClass(\"hidden\");\n\t        $(\"#coupon-wallet\").show();\n\t\t}\n\t\telse\n\t\t{\n\t\t\t$('#full-payment').prop('checked', true);\n\t\t\t$(\".partial-payment\").addClass(\"hidden\");\n\t        $(\".full-payment\").removeClass(\"hidden\");\n\t        $(\".full-cash-arrival\").addClass(\"hidden\");\n\t        $(\"#coupon-wallet\").show();\t\n\t\t}\n\t\t\tif($.inArray( \"si\", data.paymentIdArray ) !== -1 )\n\t\t\t{\n\t\t\t\t$('#payment-option-id').removeClass('one-option');\n\t\t\t\t$('#payment-option-id').removeClass('two-option');\t\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\t$('#payment-option-id').removeClass('one-option');\n\t\t\t\t$('#payment-option-id').addClass('two-option');\t\t\n\t\t\t}\t\n\t\t\t\n\t\t\t$('.partial-payment-label').removeClass(\"hidden\");\n\t\t\t$('.full-cash-arrival-label').addClass(\"hidden\");\n\t        $(\"#partialPayment\").find(\".modal-body\").html(data.payment_options[0].popup_text);\n\t}\n\t//else if($.inArray( \"si\", data.paymentIdArray ) === -1 )\n\telse\n\t{\n\t\t//console.log(\" main else            -->  \");\n\n\t\t$('#full-payment').prop('checked', true);\n\t\tif($.inArray(\"partial_payment\", data.paymentIdArray )!== -1  )\n\t\t{\n\t\t\t$('#payment-option-id').removeClass('one-option');\n\t\t\t$('#payment-option-id').removeClass('two-option');\t\n\t\t}\n\t\telse\n\t\t{\n\t\t\t$('#payment-option-id').removeClass('one-option');\n\t\t\t$('#payment-option-id').addClass('two-option');\n\n\t\t\tif($.inArray( \"partial_payment\", data.paymentIdArray ) === -1 )\n\t\t\t{\n\t\t\t\t$(\".partial-payment\").addClass(\"hidden\");\n\t\t\t\t$(\".partial-payment-label\").addClass(\"hidden\");\t\t\n\t\t\t}\n\n\t\t\tif($.inArray( \"si\", data.paymentIdArray ) === -1 )\n\t\t\t{\n\t\t\t\t$(\".si-payment\").addClass(\"hidden\");\n\t\t\t\t$(\".si-payment-label\").addClass(\"hidden\");\t\t\n\t\t\t}\n\n\t\t\tif($.inArray( \"si\", data.paymentIdArray ) === -1  && $.inArray( \"partial_payment\", data.paymentIdArray ) === -1 )\n\t\t\t{\n\t\t\t\t$('.amount-later-div').addClass('hidden');\n\t\t\t}\n\t\t\t//console.log(\" main else   elsse  ------ ^^   -->  \");\t\t\n\t\t}\n\n\t\t$('.si-payment').addClass(\"hidden\");\n\t}\n\n\n\tif($.inArray( \"si\", data.paymentIdArray ) === -1 )\n\t{\n\t\t$('.si-payment-label').addClass(\"hidden\");\n\t\t$('.si-payment').addClass(\"hidden\");\n\n\t\t$('#payment-option-id').removeClass('one-option');\n\t\t$('#payment-option-id').addClass('two-option');\t\n\t}\n\n}\n\n\n});\n\n\n\n\n\n","/* \nHOW TO USE: \nNOTE: THIS Plugin is based on JQUERY so do not forget to include Jquery before using it\nJust add kfile.init(); to page in order to use\n1. Delete action will always send parament {task=delete} to server so you can get the task in order to perform action\n2. Uploact action will be default and will not send any parameter to server so you can just put your upload code in your php file in else\nfor eg. if ($_POST['task']=='delete') {\n\t// Perform delete query\n} else {\n\t// Perform upload query\n}\n*/\n\nvar kfile = {\n\tformURL : '/reviewupload',\n\tcontrolid : 'file1',\n\tul_container: \"img-container\",\n\tproperty_image : 'property_image',\n\tproperty_image_input : 'property_image_name',\n\treturn_image_src_var : 'src',\n\treturn_image_name_var : 'name',\n\timage_order_input : 'image_order',\n\tloader_image_url : '/images/loader.gif',\n\n\tinit : function(){\n\n\t\t// Preload Image in cache\n\t\tvar img = new Image();\n\t\timg.src = this.loader_image_url;\n\n\t\tthis.upload();\n\t\tthis.delete();\n\t\t// this.sortable();\n\t\tthis.make_image_featured();\n\t\tthis.image_order();\n\n\t\t\n\n\t},\n\n\tmake_image_featured : function(){\n\t\tvar self = this;\n\t\tvar $k = jQuery;\n\n\t\t// Onload Make first Li featured\n\t\t$(document).ready(function(){\n\t\t\t$('#'+ self.ul_container + ' i.star-image').removeClass('active');\n\t\t\t$('#'+ self.ul_container + ' i.star-image').first().addClass('active');\n\t\t});\n\n\t\t$(document).on('click','.star-image',function(){\n\t\t\t$(this).parent('li').prependTo('#img-container');\n\t\t\t$('#'+ self.ul_container + ' i.star-image').removeClass('active');\n\t\t\t$(this).addClass('active');\n\t\t\tself.image_order();\n\t\t});\n\n\t},\n\n\tdelete : function(){\n\n\t\tvar self = this;\n\t\tvar $k = jQuery;\n\n\t\t$k('#'+ self.ul_container).on('click','.delete-image',function(){\n\t\t\tvar parent_li = $k(this).parent('li');\n\t\t\tvar img_src = $k(parent_li).find('img').attr('src');\n\t\t\t//$k(parent_li).remove();\n\t\t\t$k(parent_li).addClass('faded');\n\n\t\t\t/* Send Ajax to Delete Image */\n\t\t\t// $k.ajax({\n\t\t\t// \turl: self.formURL,\n\t\t\t// \ttype: \"POST\",\n\t\t\t// \tdata: {\n\t\t\t// \t\t'src' : img_src,\n\t\t\t// \t\t'task' : 'delete'\n\t\t\t// \t},\n\t\t\t// \tsuccess: function (data, textStatus, jqXHR) {\n\t\t\t\t\t\n\t\t\t// \t},\n\t\t\t// \terror: function (jqXHR, textStatus, errorThrown) {\n\t\t\t// \t}\n\t\t\t// });\t\n\n\t\t\tself.image_order();\n\t\t\t$('#savechanges_span').show();\n\n\t\t});\n\n\t\t\n\n\n\t},\n\n\tupload : function(){\n\t\t\n\t\tvar self = this;\n\t\tvar $k = jQuery;\n\n\t\t// FOR IE 8,9\n\t\tif(typeof FormData == \"undefined\"){\n\t\t\t$('#uploadbtn').hide();\n\t\t\t$('#'+self.controlid).removeClass('hiddenfile');\n\t\t}\n\n\t\t$k('#'+self.controlid).change(function(){\n\n\t\t\t// FOR IE 8,9\n\t\t\tif(typeof FormData == \"undefined\"){\n\t\t\t\t //if(typeof FormData){\n\n\t\t\t\tvar rnd = Math.floor(Math.random().toFixed(4)*10000);\n\n\t\t\t\tvar input_rnd ='<input type=\"text\" name=\"rnd\" value=\"'+rnd+'\" />';\n\n\t\t\t\t$('body').append('<form style=\"display:block;\" action=\"/upload\" method=\"post\" enctype=\"multipart/form-data\" id=\"imgform\"><div id=\"img_frm_submit\"></div></form>');\n\t\t\t\tvar real = $(this)\n\t\t\t\tvar clone = real.clone(true);\n\t\t\t\t$('#img_frm_submit').html('');\n\t\t\t\treal.hide();\n\t\t\t\tclone.insertAfter(real);\n\t\t\t\treal.appendTo(\"#img_frm_submit\");\n\t\t\t\t//$('#img_frm_submit').append(input_rnd);\n\n\t\t\t\t$k('#'+self.ul_container).append('<li class=\"img-single loader\" id=\"'+ rnd +'\">\\\n\t\t\t\t<img class=\"'+ self.property_image +'\" src=\"'+ self.loader_image_url +'\">\\\n\t\t\t\t<input type=\"hidden\" name=\"'+ self.property_image_input +'[]\" class=\"'+ self.property_image_input +'\" value=\"1_1408682758.jpg\">\\\n\t\t\t\t<i class=\"fa fa-times delete-image\"></i>\\\n\t\t\t\t</li>');\n\n\t\t\t\t$('#imgform').ajaxForm({\n\t\t\t\t\t\n\t\t\t\t\tbeforeSend: function(){//show the loader\n\t\t\t\t\t\n\t\t\t\t\t},success: function(data, textStatus, jqXHR){ //show the file button\n\t\t\t\t\t\tvar jsondata = $.parseJSON(data);\n\n\t\t\t\t\t\t\t/* Here we getting the rnd key that we sent with ajax so we can get the same rnd key as \n\t\t\t\t\t\t\tresponse in order to manipulate DOM Data */\n\t\t\t\t\t\t\tvar return_image_dir = jsondata['dir'];\n\t\t\t\t\t\t\tvar return_image_src = jsondata[self.return_image_src_var];\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t$k('#'+rnd + ' .' + self.property_image_input).val(return_image_src);\n\t\t\t\t\t\t\t$k('#'+rnd + ' .' + self.property_image_input).addClass('done');\n\t\t\t\t\t\t\t$k('#'+rnd + ' .' + self.property_image).attr('src',return_image_dir+return_image_src);\n\n\t\t\t\t\t\t\tself.image_order();\n\n\t\t\t\t\t},error: function() {\n\t\t\t\t\t}\n\t\t\t\t}).submit();\n\n\n\n\t\t\t} else {\n\n\t\t\t\t// var jForm = new FormData();\n\t\t\t\tvar files = $k('#'+self.controlid).get(0).files;\n\t\t\t\t\n\t\t\t\tif($(\"#mobile_review\").length &&  $(\"#mobile_review\").val() == 1 )\n\t\t\t\t{\n\t\t\t\t\tif(files.length > 5)\n\t\t\t\t\t{\n\t\t\t\t\t\talert(\"Files count can not be more then 5 !!\");\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}else\n\t\t\t\t\t{\n\t\t\t\t\t\t$(\"#uploadbtn\").hide();\n\t\t\t\t\t\t$(\"#one_more_add_img\").show();\n\t\t\t\t\t}\n\n\t\t\t\t\tconsole.log($(\".img-container li \").length);\n\n\t\t\t\t\tif(files.length  > 4 || $(\".img-container li \").length > 3  )\n\t\t\t\t\t{\n\t\t\t\t\t\t$(\"#uploadbtn\").hide();\n\t\t\t\t\t\t$(\"#one_more_add_img\").hide();\n\t\t\t\t\t}\n\n\n\n\t\t\t\t}\n\n\t\t\t\tvar urnd = Math.floor(Math.random().toFixed(4)*10000);\n\n\t\t\t\tfor(var i=0; i<files.length; i++) {\n\n\t\t\t\t\t//console.log(files[i]);\n\t\t\t\t\t\n\t\t\t\t\tif (files[i].name.match(/\\.(jpg|jpeg|png|JPG|JPEG|PNG)$/)) {\n\n\t\t\t\t\t/* Generate rnd key so as to append to li as id */\n\t\t\t\t\t\n\t\t\t\t\tvar rnd = urnd +'_image_' + i;\n\t\t\t\t\t//var f = files[i];\n\n\t\t\t\t\t/* Generating dynamically li with image in the UL container defined */\n\t\t\t\t\t$k('#'+self.ul_container).append('<li class=\"img-single loader\" id=\"'+ rnd +'\">\\\n\t\t\t\t\t\t<img class=\"'+ self.property_image +'\" src=\"'+ self.loader_image_url +'\">\\\n\t\t\t\t\t\t<input type=\"hidden\" name=\"'+ self.property_image_input +'[]\" class=\"'+ self.property_image_input +'\" value=\"\">\\\n\t\t\t\t\t\t<i class=\"fa fa-times delete-image\"></i>\\\n\t\t\t\t\t\t</li>');\n\t\t\t\t\t}\n\t\t\t\t} \t\n\n\n\t\t\t\tvar i = 0;\n\t\t\t\tvar error_msg = '';\n\t\t\t\tfunction ajaxcall(){\n\t\t\t\t\tif(i == files.length) {\n\t\t\t\t\t\tif(error_msg != '')\n\t\t\t\t\t\t\talert(error_msg);\n\t\t\t\t\t\terror_msg = '';\n\t\t\t\t\t\treturn\n\t\t\t\t\t};\n\t\t\t\t\t/* Generate rnd key so as to append to li as id */\n\t\t\t\t\tvar rnd = urnd +'_image_' + i;\n\t\t\t\t\tvar f = files[i];\n\t\t\t\t\tvar jForm = new FormData();\n\t\t\t\t\tvar error = 0;\n\t\t\t\t\t/* Append Parameters to Form (file data and rnd generated key in order to get it back again from server-\n\t\t\t\t\t - so i can know to which li#id images was uploaded) */\n\t\t\t\t\tjForm.append(self.controlid, f);\n\t\t\t\t\t//jForm.append(\"rnd\", rnd);\n\n\n\n\t\t\t\t\tif (!files[i].name.match(/\\.(jpg|jpeg|png|JPG|JPEG|PNG)$/)) {\n\t\t\t\t\t\terror_msg += 'File \"'+files[i].name+'\" is not valid' + \"\\n\";\n\t\t\t\t\t\terror = 1;\n\t\t\t\t\t};\n\n\t\t\t\t\t// if (!localStorage[files[i].name.match(/\\.(jpg|jpeg|png|JPG|JPEG|PNG)$/)]) {\n\t\t\t\t\t// \talert('This file \"'+files[i].name+'\" is not valid');\n\t\t\t\t\t// \tlocalStorage[files[i].name.match(/\\.(jpg|jpeg|png|JPG|JPEG|PNG)$/)] = true;\n\t\t\t\t\t// }\n\t\t\t\t\t// if (files[i].size > 3000000) {\n\t\t\t\t\t// \talert('Size of file \"'+files[i].name+'\" is more than 3 MB.');\n\t\t\t\t\t// \terror = 1;\n\t\t\t\t\t// };\n\t\t\t\t\t\n\t\t\t\t\t\t// alert('image should be jpg, jpeg');\t\t\t\n\t\t\t\t\tif (files[i].name.match(/\\.(jpg|jpeg|png|JPG|JPEG|PNG)$/) && !error) {\n\t\t\t\t\t\t// Send images to ajax url in order to Upload\t\n\t\t\t\t\t\t$k.ajax({\n\t\t\t\t\t\t\turl: self.formURL,\n\t\t\t\t\t\t\ttype: \"POST\",\n\t\t\t\t\t\t\tdata: jForm,\n\t\t\t\t\t\t\tmimeType: \"multipart/form-data\",\n\t\t\t\t\t\t\tcontentType: false,\n\t\t\t\t\t\t\tcache: false,\n\t\t\t\t\t\t\tprocessData: false,\n\t\t\t\t\t\t\tasync: true,\n\t\t\t\t\t\t\tsuccess: function (data, textStatus, jqXHR) {\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\tvar jsondata = $.parseJSON(data);\n\t\t\t\t\t\t\t\tconsole.log(jsondata);\n\t\t\t\t\t\t\t\t/* Here we getting the rnd key that we sent with ajax so we can get the same rnd key as \n\t\t\t\t\t\t\t\tresponse in order to manipulate DOM Data */\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\tvar return_image_src = jsondata[self.return_image_src_var];\n\t\t\t\t\t\t\t\tvar return_image_url = jsondata[self.return_image_src_var];\n\t\t\t\t\t\t\t\tvar return_image_name = jsondata[self.return_image_name_var];\n\n\n\t\t\t\t\t\t\t\t$k('#'+rnd + ' .' + self.property_image_input).val(return_image_name);\n\t\t\t\t\t\t\t\t$k('#'+rnd + ' .' + self.property_image_input).addClass('done');\n\t\t\t\t\t\t\t\t$k('#'+rnd + ' .' + self.property_image).attr('src',return_image_src);\n\t\t\t\t\t\t\t\tself.image_order();\n\t\t\t\t\t\t\t\ti = i+1;\n\t\t\t\t\t\t\t\tajaxcall();\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\terror: function (jqXHR, textStatus, errorThrown) {\n\t\t\t\t\t\t\t\t$('#'+rnd).remove();\n\t\t\t\t\t\t\t\ti = i+1;\n\t\t\t\t\t\t\t\tajaxcall();\n\t\t\t\t\t\t\t\t// error check\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}); // end ajax\t\n\t\t\t\t\t} else {\n\t\t\t\t\t\ti = i+1;\n\t\t\t\t\t\twindow.setTimeout(function() {ajaxcall();  }, 0);\n\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tajaxcall();\n\t\t\t\t$('#savechanges_span').show();\n\t\t\t\t\n\n\t\t\t}\n\t\t \n\n\t\t}); // end upload control change function\n\n\t}, // end upload\n\n\tcreate_li : function(src_url,src_value){\n\t\t// alert();\n\t\tvar self = this;\n\t\tvar $k = jQuery;\n\t\t$k(document).ready(function(){\n\t\t\t$k('#'+self.ul_container).append('<li class=\"img-single loader\" id=\"\">\\\n\t\t\t\t<img class=\"'+ self.property_image +'\" src=\"'+ src_url +'\">\\\n\t\t\t\t<input type=\"hidden\" name=\"'+ self.property_image_input +'[]\" class=\"done '+ self.property_image_input +'\" value=\"'+src_value+'\">\\\n\t\t\t\t<i class=\"fa fa-times delete-image\"></i>\\\n\t\t\t\t</li>');\n\n\t\t});\n\t\t\n\n\t},\n\t// sortable : function(){\n\n\t// \tvar self = this;\n\t// \tvar $k = jQuery;\n\n\t// \t$k( \"#\" + self.ul_container ).sortable({\n\t// \t\tupdate : function () {\n\t// \t\t\tself.image_order();\n\t// \t\t\t$('#'+ self.ul_container + ' i.star-image').removeClass('active');\n\t// \t\t\t$('#'+ self.ul_container + ' i.star-image').first().addClass('active');\n\t// \t\t} \n\t// \t});\n\n\t// }, // end sortable\n\n\timage_order : function(){\n\t\tvar self = this;\n\t\tvar $k = jQuery;\n\n\t\t$(document).ready(function(){\n\t\tvar imgArray = [];\n\t\t$k('#'+ self.ul_container + ' li:not(.faded) input.done').each( function() {\n        \t imgArray.push($k(this).val());\n     \t});\n\t\t// add imgArray image_order textfield\n    \t$k('#' + self.image_order_input).val(imgArray);\n\n\n    \tvar delimgArray = [];\n    \t$k('#'+ self.ul_container + ' li.faded input').each( function() {\n        \t delimgArray.push($k(this).val());\n     \t});\n\t\t// add imgArray image_order textfield\n    \t$k('#delimages').val(delimgArray);\n\n    \t\n\n    });\n\n\t}\n\n};\n","/*\n *  jQuery OwlCarousel v1.3.3\n *\n *  Copyright (c) 2013 Bartosz Wojciechowski\n *  http://www.owlgraphic.com/owlcarousel/\n *\n *  Licensed under MIT\n *\n */\n/*JS Lint helpers: */\n/*global dragMove: false, dragEnd: false, $, jQuery, alert, window, document */\n/*jslint nomen: true, continue:true */\n\"function\"!=typeof Object.create&&(Object.create=function(t){function e(){}return e.prototype=t,new e}),function(t,e,o){var i={init:function(e,o){var i=this;i.$elem=t(o),i.options=t.extend({},t.fn.owlCarousel.options,i.$elem.data(),e),i.userOptions=e,i.loadContent()},loadContent:function(){function e(t){var e,o=\"\";if(\"function\"==typeof i.options.jsonSuccess)i.options.jsonSuccess.apply(this,[t]);else{for(e in t.owl)t.owl.hasOwnProperty(e)&&(o+=t.owl[e].item);i.$elem.html(o)}i.logIn()}var o,i=this;\"function\"==typeof i.options.beforeInit&&i.options.beforeInit.apply(this,[i.$elem]),\"string\"==typeof i.options.jsonPath?(o=i.options.jsonPath,t.getJSON(o,e)):i.logIn()},logIn:function(){var t=this;t.$elem.data(\"owl-originalStyles\",t.$elem.attr(\"style\")),t.$elem.data(\"owl-originalClasses\",t.$elem.attr(\"class\")),t.$elem.css({opacity:0}),t.orignalItems=t.options.items,t.checkBrowser(),t.wrapperWidth=0,t.checkVisible=null,t.setVars()},setVars:function(){var t=this;return 0===t.$elem.children().length?!1:(t.baseClass(),t.eventTypes(),t.$userItems=t.$elem.children(),t.itemsAmount=t.$userItems.length,t.wrapItems(),t.$owlItems=t.$elem.find(\".owl-item\"),t.$owlWrapper=t.$elem.find(\".owl-wrapper\"),t.playDirection=\"next\",t.prevItem=0,t.prevArr=[0],t.currentItem=0,t.customEvents(),void t.onStartup())},onStartup:function(){var t=this;t.updateItems(),t.calculateAll(),t.buildControls(),t.updateControls(),t.response(),t.moveEvents(),t.stopOnHover(),t.owlStatus(),t.options.transitionStyle!==!1&&t.transitionTypes(t.options.transitionStyle),t.options.autoPlay===!0&&(t.options.autoPlay=5e3),t.play(),t.$elem.find(\".owl-wrapper\").css(\"display\",\"block\"),t.$elem.is(\":visible\")?t.$elem.css(\"opacity\",1):t.watchVisibility(),t.onstartup=!1,t.eachMoveUpdate(),\"function\"==typeof t.options.afterInit&&t.options.afterInit.apply(this,[t.$elem])},eachMoveUpdate:function(){var t=this;t.options.lazyLoad===!0&&t.lazyLoad(),t.options.autoHeight===!0&&t.autoHeight(),t.onVisibleItems(),\"function\"==typeof t.options.afterAction&&t.options.afterAction.apply(this,[t.$elem])},updateVars:function(){var t=this;\"function\"==typeof t.options.beforeUpdate&&t.options.beforeUpdate.apply(this,[t.$elem]),t.watchVisibility(),t.updateItems(),t.calculateAll(),t.updatePosition(),t.updateControls(),t.eachMoveUpdate(),\"function\"==typeof t.options.afterUpdate&&t.options.afterUpdate.apply(this,[t.$elem])},reload:function(){var t=this;e.setTimeout(function(){t.updateVars()},0)},watchVisibility:function(){var t=this;return t.$elem.is(\":visible\")!==!1?!1:(t.$elem.css({opacity:0}),e.clearInterval(t.autoPlayInterval),e.clearInterval(t.checkVisible),void(t.checkVisible=e.setInterval(function(){t.$elem.is(\":visible\")&&(t.reload(),t.$elem.animate({opacity:1},200),e.clearInterval(t.checkVisible))},500)))},wrapItems:function(){var t=this;t.$userItems.wrapAll('<div class=\"owl-wrapper\">').wrap('<div class=\"owl-item\"></div>'),t.$elem.find(\".owl-wrapper\").wrap('<div class=\"owl-wrapper-outer\">'),t.wrapperOuter=t.$elem.find(\".owl-wrapper-outer\"),t.$elem.css(\"display\",\"block\")},baseClass:function(){var t=this,e=t.$elem.hasClass(t.options.baseClass),o=t.$elem.hasClass(t.options.theme);e||t.$elem.addClass(t.options.baseClass),o||t.$elem.addClass(t.options.theme)},updateItems:function(){var e,o,i=this;if(i.options.responsive===!1)return!1;if(i.options.singleItem===!0)return i.options.items=i.orignalItems=1,i.options.itemsCustom=!1,i.options.itemsDesktop=!1,i.options.itemsDesktopSmall=!1,i.options.itemsTablet=!1,i.options.itemsTabletSmall=!1,i.options.itemsMobile=!1,!1;if(e=t(i.options.responsiveBaseWidth).width(),e>(i.options.itemsDesktop[0]||i.orignalItems)&&(i.options.items=i.orignalItems),i.options.itemsCustom!==!1)for(i.options.itemsCustom.sort(function(t,e){return t[0]-e[0]}),o=0;o<i.options.itemsCustom.length;o+=1)i.options.itemsCustom[o][0]<=e&&(i.options.items=i.options.itemsCustom[o][1]);else e<=i.options.itemsDesktop[0]&&i.options.itemsDesktop!==!1&&(i.options.items=i.options.itemsDesktop[1]),e<=i.options.itemsDesktopSmall[0]&&i.options.itemsDesktopSmall!==!1&&(i.options.items=i.options.itemsDesktopSmall[1]),e<=i.options.itemsTablet[0]&&i.options.itemsTablet!==!1&&(i.options.items=i.options.itemsTablet[1]),e<=i.options.itemsTabletSmall[0]&&i.options.itemsTabletSmall!==!1&&(i.options.items=i.options.itemsTabletSmall[1]),e<=i.options.itemsMobile[0]&&i.options.itemsMobile!==!1&&(i.options.items=i.options.itemsMobile[1]);i.options.items>i.itemsAmount&&i.options.itemsScaleUp===!0&&(i.options.items=i.itemsAmount)},response:function(){var o,i,n=this;return n.options.responsive!==!0?!1:(i=t(e).width(),n.resizer=function(){t(e).width()!==i&&(n.options.autoPlay!==!1&&e.clearInterval(n.autoPlayInterval),e.clearTimeout(o),o=e.setTimeout(function(){i=t(e).width(),n.updateVars()},n.options.responsiveRefreshRate))},void t(e).resize(n.resizer))},updatePosition:function(){var t=this;t.jumpTo(t.currentItem),t.options.autoPlay!==!1&&t.checkAp()},appendItemsSizes:function(){var e=this,o=0,i=e.itemsAmount-e.options.items;e.$owlItems.each(function(n){var s=t(this);s.css({width:e.itemWidth}).data(\"owl-item\",Number(n)),(n%e.options.items===0||n===i)&&(n>i||(o+=1)),s.data(\"owl-roundPages\",o)})},appendWrapperSizes:function(){var t=this,e=t.$owlItems.length*t.itemWidth;t.$owlWrapper.css({width:2*e,left:0}),t.appendItemsSizes()},calculateAll:function(){var t=this;t.calculateWidth(),t.appendWrapperSizes(),t.loops(),t.max()},calculateWidth:function(){var t=this;t.itemWidth=Math.round(t.$elem.width()/t.options.items)},max:function(){var t=this,e=-1*(t.itemsAmount*t.itemWidth-t.options.items*t.itemWidth);return t.options.items>t.itemsAmount?(t.maximumItem=0,e=0,t.maximumPixels=0):(t.maximumItem=t.itemsAmount-t.options.items,t.maximumPixels=e),e},min:function(){return 0},loops:function(){var e,o,i,n=this,s=0,a=0;for(n.positionsInArray=[0],n.pagesInArray=[],e=0;e<n.itemsAmount;e+=1)a+=n.itemWidth,n.positionsInArray.push(-a),n.options.scrollPerPage===!0&&(o=t(n.$owlItems[e]),i=o.data(\"owl-roundPages\"),i!==s&&(n.pagesInArray[s]=n.positionsInArray[e],s=i))},buildControls:function(){var e=this;(e.options.navigation===!0||e.options.pagination===!0)&&(e.owlControls=t('<div class=\"owl-controls\"/>').toggleClass(\"clickable\",!e.browser.isTouch).appendTo(e.$elem)),e.options.pagination===!0&&e.buildPagination(),e.options.navigation===!0&&e.buildButtons()},buildButtons:function(){var e=this,o=t('<div class=\"owl-buttons\"/>');e.owlControls.append(o),e.buttonPrev=t(\"<div/>\",{\"class\":\"owl-prev fa fa-angle-left\",html:e.options.navigationText[0]||\"\"}),e.buttonNext=t(\"<div/>\",{\"class\":\"owl-next fa fa-angle-right\",html:e.options.navigationText[1]||\"\"}),o.append(e.buttonPrev).append(e.buttonNext),o.on(\"touchstart.owlControls mousedown.owlControls\",'div[class^=\"owl\"]',function(t){t.preventDefault()}),o.on(\"touchend.owlControls mouseup.owlControls\",'div[class^=\"owl\"]',function(o){o.preventDefault(),t(this).hasClass(\"owl-next\")?e.next():e.prev()})},buildPagination:function(){var e=this;e.paginationWrapper=t('<div class=\"owl-pagination\"/>'),e.owlControls.append(e.paginationWrapper),e.paginationWrapper.on(\"touchend.owlControls mouseup.owlControls\",\".owl-page\",function(o){o.preventDefault(),Number(t(this).data(\"owl-page\"))!==e.currentItem&&e.goTo(Number(t(this).data(\"owl-page\")),!0)})},updatePagination:function(){var e,o,i,n,s,a,r=this;if(r.options.pagination===!1)return!1;for(r.paginationWrapper.html(\"\"),e=0,o=r.itemsAmount-r.itemsAmount%r.options.items,n=0;n<r.itemsAmount;n+=1)n%r.options.items===0&&(e+=1,o===n&&(i=r.itemsAmount-r.options.items),s=t(\"<div/>\",{\"class\":\"owl-page\"}),a=t(\"<span></span>\",{text:r.options.paginationNumbers===!0?e:\"\",\"class\":r.options.paginationNumbers===!0?\"owl-numbers\":\"\"}),s.append(a),s.data(\"owl-page\",o===n?i:n),s.data(\"owl-roundPages\",e),r.paginationWrapper.append(s));r.checkPagination()},checkPagination:function(){var e=this;return e.options.pagination===!1?!1:void e.paginationWrapper.find(\".owl-page\").each(function(){t(this).data(\"owl-roundPages\")===t(e.$owlItems[e.currentItem]).data(\"owl-roundPages\")&&(e.paginationWrapper.find(\".owl-page\").removeClass(\"active\"),t(this).addClass(\"active\"))})},checkNavigation:function(){var t=this;return t.options.navigation===!1?!1:void(t.options.rewindNav===!1&&(0===t.currentItem&&0===t.maximumItem?(t.buttonPrev.addClass(\"disabled\"),t.buttonNext.addClass(\"disabled\")):0===t.currentItem&&0!==t.maximumItem?(t.buttonPrev.addClass(\"disabled\"),t.buttonNext.removeClass(\"disabled\")):t.currentItem===t.maximumItem?(t.buttonPrev.removeClass(\"disabled\"),t.buttonNext.addClass(\"disabled\")):0!==t.currentItem&&t.currentItem!==t.maximumItem&&(t.buttonPrev.removeClass(\"disabled\"),t.buttonNext.removeClass(\"disabled\"))))},updateControls:function(){var t=this;t.updatePagination(),t.checkNavigation(),t.owlControls&&(t.options.items>=t.itemsAmount?t.owlControls.hide():t.owlControls.show())},destroyControls:function(){var t=this;t.owlControls&&t.owlControls.remove()},next:function(t){var e=this;if(e.isTransition)return!1;if(e.currentItem+=e.options.scrollPerPage===!0?e.options.items:1,e.currentItem>e.maximumItem+(e.options.scrollPerPage===!0?e.options.items-1:0)){if(e.options.rewindNav!==!0)return e.currentItem=e.maximumItem,!1;e.currentItem=0,t=\"rewind\"}e.goTo(e.currentItem,t)},prev:function(t){var e=this;if(e.isTransition)return!1;if(e.options.scrollPerPage===!0&&e.currentItem>0&&e.currentItem<e.options.items?e.currentItem=0:e.currentItem-=e.options.scrollPerPage===!0?e.options.items:1,e.currentItem<0){if(e.options.rewindNav!==!0)return e.currentItem=0,!1;e.currentItem=e.maximumItem,t=\"rewind\"}e.goTo(e.currentItem,t)},goTo:function(t,o,i){var n,s=this;return s.isTransition?!1:(\"function\"==typeof s.options.beforeMove&&s.options.beforeMove.apply(this,[s.$elem]),t>=s.maximumItem?t=s.maximumItem:0>=t&&(t=0),s.currentItem=s.owl.currentItem=t,s.options.transitionStyle!==!1&&\"drag\"!==i&&1===s.options.items&&s.browser.support3d===!0?(s.swapSpeed(0),s.browser.support3d===!0?s.transition3d(s.positionsInArray[t]):s.css2slide(s.positionsInArray[t],1),s.afterGo(),s.singleItemTransition(),!1):(n=s.positionsInArray[t],s.browser.support3d===!0?(s.isCss3Finish=!1,o===!0?(s.swapSpeed(\"paginationSpeed\"),e.setTimeout(function(){s.isCss3Finish=!0},s.options.paginationSpeed)):\"rewind\"===o?(s.swapSpeed(s.options.rewindSpeed),e.setTimeout(function(){s.isCss3Finish=!0},s.options.rewindSpeed)):(s.swapSpeed(\"slideSpeed\"),e.setTimeout(function(){s.isCss3Finish=!0},s.options.slideSpeed)),s.transition3d(n)):o===!0?s.css2slide(n,s.options.paginationSpeed):\"rewind\"===o?s.css2slide(n,s.options.rewindSpeed):s.css2slide(n,s.options.slideSpeed),void s.afterGo()))},jumpTo:function(t){var e=this;\"function\"==typeof e.options.beforeMove&&e.options.beforeMove.apply(this,[e.$elem]),t>=e.maximumItem||-1===t?t=e.maximumItem:0>=t&&(t=0),e.swapSpeed(0),e.browser.support3d===!0?e.transition3d(e.positionsInArray[t]):e.css2slide(e.positionsInArray[t],1),e.currentItem=e.owl.currentItem=t,e.afterGo()},afterGo:function(){var t=this;t.prevArr.push(t.currentItem),t.prevItem=t.owl.prevItem=t.prevArr[t.prevArr.length-2],t.prevArr.shift(0),t.prevItem!==t.currentItem&&(t.checkPagination(),t.checkNavigation(),t.eachMoveUpdate(),t.options.autoPlay!==!1&&t.checkAp()),\"function\"==typeof t.options.afterMove&&t.prevItem!==t.currentItem&&t.options.afterMove.apply(this,[t.$elem])},stop:function(){var t=this;t.apStatus=\"stop\",e.clearInterval(t.autoPlayInterval)},checkAp:function(){var t=this;\"stop\"!==t.apStatus&&t.play()},play:function(){var t=this;return t.apStatus=\"play\",t.options.autoPlay===!1?!1:(e.clearInterval(t.autoPlayInterval),void(t.autoPlayInterval=e.setInterval(function(){t.next(!0)},t.options.autoPlay)))},swapSpeed:function(t){var e=this;\"slideSpeed\"===t?e.$owlWrapper.css(e.addCssSpeed(e.options.slideSpeed)):\"paginationSpeed\"===t?e.$owlWrapper.css(e.addCssSpeed(e.options.paginationSpeed)):\"string\"!=typeof t&&e.$owlWrapper.css(e.addCssSpeed(t))},addCssSpeed:function(t){return{\"-webkit-transition\":\"all \"+t+\"ms ease\",\"-moz-transition\":\"all \"+t+\"ms ease\",\"-o-transition\":\"all \"+t+\"ms ease\",transition:\"all \"+t+\"ms ease\"}},removeTransition:function(){return{\"-webkit-transition\":\"\",\"-moz-transition\":\"\",\"-o-transition\":\"\",transition:\"\"}},doTranslate:function(t){return{\"-webkit-transform\":\"translate3d(\"+t+\"px, 0px, 0px)\",\"-moz-transform\":\"translate3d(\"+t+\"px, 0px, 0px)\",\"-o-transform\":\"translate3d(\"+t+\"px, 0px, 0px)\",\"-ms-transform\":\"translate3d(\"+t+\"px, 0px, 0px)\",transform:\"translate3d(\"+t+\"px, 0px,0px)\"}},transition3d:function(t){var e=this;e.$owlWrapper.css(e.doTranslate(t))},css2move:function(t){var e=this;e.$owlWrapper.css({left:t})},css2slide:function(t,e){var o=this;o.isCssFinish=!1,o.$owlWrapper.stop(!0,!0).animate({left:t},{duration:e||o.options.slideSpeed,complete:function(){o.isCssFinish=!0}})},checkBrowser:function(){var t,i,n,s,a=this,r=\"translate3d(0px, 0px, 0px)\",l=o.createElement(\"div\");l.style.cssText=\"  -moz-transform:\"+r+\"; -ms-transform:\"+r+\"; -o-transform:\"+r+\"; -webkit-transform:\"+r+\"; transform:\"+r,t=/translate3d\\(0px, 0px, 0px\\)/g,i=l.style.cssText.match(t),n=null!==i&&1===i.length,s=\"ontouchstart\"in e||e.navigator.msMaxTouchPoints,a.browser={support3d:n,isTouch:s}},moveEvents:function(){var t=this;(t.options.mouseDrag!==!1||t.options.touchDrag!==!1)&&(t.gestures(),t.disabledEvents())},eventTypes:function(){var t=this,e=[\"s\",\"e\",\"x\"];t.ev_types={},t.options.mouseDrag===!0&&t.options.touchDrag===!0?e=[\"touchstart.owl mousedown.owl\",\"touchmove.owl mousemove.owl\",\"touchend.owl touchcancel.owl mouseup.owl\"]:t.options.mouseDrag===!1&&t.options.touchDrag===!0?e=[\"touchstart.owl\",\"touchmove.owl\",\"touchend.owl touchcancel.owl\"]:t.options.mouseDrag===!0&&t.options.touchDrag===!1&&(e=[\"mousedown.owl\",\"mousemove.owl\",\"mouseup.owl\"]),t.ev_types.start=e[0],t.ev_types.move=e[1],t.ev_types.end=e[2]},disabledEvents:function(){var e=this;e.$elem.on(\"dragstart.owl\",function(t){t.preventDefault()}),e.$elem.on(\"mousedown.disableTextSelect\",function(e){return t(e.target).is(\"input, textarea, select, option\")})},gestures:function(){function i(t){if(void 0!==t.touches)return{x:t.touches[0].pageX,y:t.touches[0].pageY};if(void 0===t.touches){if(void 0!==t.pageX)return{x:t.pageX,y:t.pageY};if(void 0===t.pageX)return{x:t.clientX,y:t.clientY}}}function n(e){\"on\"===e?(t(o).on(l.ev_types.move,a),t(o).on(l.ev_types.end,r)):\"off\"===e&&(t(o).off(l.ev_types.move),t(o).off(l.ev_types.end))}function s(o){var s,a=o.originalEvent||o||e.event;if(3===a.which)return!1;if(!(l.itemsAmount<=l.options.items)){if(l.isCssFinish===!1&&!l.options.dragBeforeAnimFinish)return!1;if(l.isCss3Finish===!1&&!l.options.dragBeforeAnimFinish)return!1;l.options.autoPlay!==!1&&e.clearInterval(l.autoPlayInterval),l.browser.isTouch===!0||l.$owlWrapper.hasClass(\"grabbing\")||l.$owlWrapper.addClass(\"grabbing\"),l.newPosX=0,l.newRelativeX=0,t(this).css(l.removeTransition()),s=t(this).position(),p.relativePos=s.left,p.offsetX=i(a).x-s.left,p.offsetY=i(a).y-s.top,n(\"on\"),p.sliding=!1,p.targetElement=a.target||a.srcElement}}function a(n){var s,a,r=n.originalEvent||n||e.event;l.newPosX=i(r).x-p.offsetX,l.newPosY=i(r).y-p.offsetY,l.newRelativeX=l.newPosX-p.relativePos,\"function\"==typeof l.options.startDragging&&p.dragging!==!0&&0!==l.newRelativeX&&(p.dragging=!0,l.options.startDragging.apply(l,[l.$elem])),(l.newRelativeX>8||l.newRelativeX<-8)&&l.browser.isTouch===!0&&(void 0!==r.preventDefault?r.preventDefault():r.returnValue=!1,p.sliding=!0),(l.newPosY>10||l.newPosY<-10)&&p.sliding===!1&&t(o).off(\"touchmove.owl\"),s=function(){return l.newRelativeX/5},a=function(){return l.maximumPixels+l.newRelativeX/5},l.newPosX=Math.max(Math.min(l.newPosX,s()),a()),l.browser.support3d===!0?l.transition3d(l.newPosX):l.css2move(l.newPosX)}function r(o){var i,s,a,r=o.originalEvent||o||e.event;r.target=r.target||r.srcElement,p.dragging=!1,l.browser.isTouch!==!0&&l.$owlWrapper.removeClass(\"grabbing\"),l.dragDirection=l.owl.dragDirection=l.newRelativeX<0?\"left\":\"right\",0!==l.newRelativeX&&(i=l.getNewPosition(),l.goTo(i,!1,\"drag\"),p.targetElement===r.target&&l.browser.isTouch!==!0&&(t(r.target).on(\"click.disable\",function(e){e.stopImmediatePropagation(),e.stopPropagation(),e.preventDefault(),t(e.target).off(\"click.disable\")}),s=t._data(r.target,\"events\").click,a=s.pop(),s.splice(0,0,a))),n(\"off\")}var l=this,p={offsetX:0,offsetY:0,baseElWidth:0,relativePos:0,position:null,minSwipe:null,maxSwipe:null,sliding:null,dargging:null,targetElement:null};l.isCssFinish=!0,l.$elem.on(l.ev_types.start,\".owl-wrapper\",s)},getNewPosition:function(){var t=this,e=t.closestItem();return e>t.maximumItem?(t.currentItem=t.maximumItem,e=t.maximumItem):t.newPosX>=0&&(e=0,t.currentItem=0),e},closestItem:function(){var e=this,o=e.options.scrollPerPage===!0?e.pagesInArray:e.positionsInArray,i=e.newPosX,n=null;return t.each(o,function(s,a){i-e.itemWidth/20>o[s+1]&&i-e.itemWidth/20<a&&\"left\"===e.moveDirection()?(n=a,e.currentItem=e.options.scrollPerPage===!0?t.inArray(n,e.positionsInArray):s):i+e.itemWidth/20<a&&i+e.itemWidth/20>(o[s+1]||o[s]-e.itemWidth)&&\"right\"===e.moveDirection()&&(e.options.scrollPerPage===!0?(n=o[s+1]||o[o.length-1],e.currentItem=t.inArray(n,e.positionsInArray)):(n=o[s+1],e.currentItem=s+1))}),e.currentItem},moveDirection:function(){var t,e=this;return e.newRelativeX<0?(t=\"right\",e.playDirection=\"next\"):(t=\"left\",e.playDirection=\"prev\"),t},customEvents:function(){var t=this;t.$elem.on(\"owl.next\",function(){t.next()}),t.$elem.on(\"owl.prev\",function(){t.prev()}),t.$elem.on(\"owl.play\",function(e,o){t.options.autoPlay=o,t.play(),t.hoverStatus=\"play\"}),t.$elem.on(\"owl.stop\",function(){t.stop(),t.hoverStatus=\"stop\"}),t.$elem.on(\"owl.goTo\",function(e,o){t.goTo(o)}),t.$elem.on(\"owl.jumpTo\",function(e,o){t.jumpTo(o)})},stopOnHover:function(){var t=this;t.options.stopOnHover===!0&&t.browser.isTouch!==!0&&t.options.autoPlay!==!1&&(t.$elem.on(\"mouseover\",function(){t.stop()}),t.$elem.on(\"mouseout\",function(){\"stop\"!==t.hoverStatus&&t.play()}))},lazyLoad:function(){var e,o,i,n,s,a=this;if(a.options.lazyLoad===!1)return!1;for(e=0;e<a.itemsAmount;e+=1)o=t(a.$owlItems[e]),\"loaded\"!==o.data(\"owl-loaded\")&&(i=o.data(\"owl-item\"),n=o.find(\".lazyOwl\"),\"string\"==typeof n.data(\"src\")?(void 0===o.data(\"owl-loaded\")&&(n.hide(),o.addClass(\"loading\").data(\"owl-loaded\",\"checked\")),s=a.options.lazyFollow===!0?i>=a.currentItem:!0,s&&i<a.currentItem+a.options.items&&n.length&&a.lazyPreload(o,n)):o.data(\"owl-loaded\",\"loaded\"))},lazyPreload:function(t,o){function i(){t.data(\"owl-loaded\",\"loaded\").removeClass(\"loading\"),o.removeAttr(\"data-src\"),\"fade\"===a.options.lazyEffect?o.fadeIn(400):o.show(),\"function\"==typeof a.options.afterLazyLoad&&a.options.afterLazyLoad.apply(this,[a.$elem])}function n(){r+=1,a.completeImg(o.get(0))||s===!0?i():100>=r?e.setTimeout(n,100):i()}var s,a=this,r=0;\"DIV\"===o.prop(\"tagName\")?(o.css(\"background-image\",\"url(\"+o.data(\"src\")+\")\"),s=!0):o[0].src=o.data(\"src\"),n()},autoHeight:function(){function o(){var o=t(s.$owlItems[s.currentItem]).height();s.wrapperOuter.css(\"height\",o+\"px\"),s.wrapperOuter.hasClass(\"autoHeight\")||e.setTimeout(function(){s.wrapperOuter.addClass(\"autoHeight\")},0)}function i(){n+=1,s.completeImg(a.get(0))?o():100>=n?e.setTimeout(i,100):s.wrapperOuter.css(\"height\",\"\")}var n,s=this,a=t(s.$owlItems[s.currentItem]).find(\"img\");void 0!==a.get(0)?(n=0,i()):o()},completeImg:function(t){var e;return t.complete?(e=typeof t.naturalWidth,\"undefined\"!==e&&0===t.naturalWidth?!1:!0):!1},onVisibleItems:function(){var e,o=this;for(o.options.addClassActive===!0&&o.$owlItems.removeClass(\"active\"),o.visibleItems=[],e=o.currentItem;e<o.currentItem+o.options.items;e+=1)o.visibleItems.push(e),o.options.addClassActive===!0&&t(o.$owlItems[e]).addClass(\"active\");o.owl.visibleItems=o.visibleItems},transitionTypes:function(t){var e=this;e.outClass=\"owl-\"+t+\"-out\",e.inClass=\"owl-\"+t+\"-in\"},singleItemTransition:function(){function t(t){return{position:\"relative\",left:t+\"px\"}}var e=this,o=e.outClass,i=e.inClass,n=e.$owlItems.eq(e.currentItem),s=e.$owlItems.eq(e.prevItem),a=Math.abs(e.positionsInArray[e.currentItem])+e.positionsInArray[e.prevItem],r=Math.abs(e.positionsInArray[e.currentItem])+e.itemWidth/2,l=\"webkitAnimationEnd oAnimationEnd MSAnimationEnd animationend\";e.isTransition=!0,e.$owlWrapper.addClass(\"owl-origin\").css({\"-webkit-transform-origin\":r+\"px\",\"-moz-perspective-origin\":r+\"px\",\"perspective-origin\":r+\"px\"}),s.css(t(a,10)).addClass(o).on(l,function(){e.endPrev=!0,s.off(l),e.clearTransStyle(s,o)}),n.addClass(i).on(l,function(){e.endCurrent=!0,n.off(l),e.clearTransStyle(n,i)})},clearTransStyle:function(t,e){var o=this;t.css({position:\"\",left:\"\"}).removeClass(e),o.endPrev&&o.endCurrent&&(o.$owlWrapper.removeClass(\"owl-origin\"),o.endPrev=!1,o.endCurrent=!1,o.isTransition=!1)},owlStatus:function(){var t=this;t.owl={userOptions:t.userOptions,baseElement:t.$elem,userItems:t.$userItems,owlItems:t.$owlItems,currentItem:t.currentItem,prevItem:t.prevItem,visibleItems:t.visibleItems,isTouch:t.browser.isTouch,browser:t.browser,dragDirection:t.dragDirection}},clearEvents:function(){var i=this;i.$elem.off(\".owl owl mousedown.disableTextSelect\"),t(o).off(\".owl owl\"),t(e).off(\"resize\",i.resizer)},unWrap:function(){var t=this;0!==t.$elem.children().length&&(t.$owlWrapper.unwrap(),t.$userItems.unwrap().unwrap(),t.owlControls&&t.owlControls.remove()),t.clearEvents(),t.$elem.attr(\"style\",t.$elem.data(\"owl-originalStyles\")||\"\").attr(\"class\",t.$elem.data(\"owl-originalClasses\"))},destroy:function(){var t=this;t.stop(),e.clearInterval(t.checkVisible),t.unWrap(),t.$elem.removeData()},reinit:function(e){var o=this,i=t.extend({},o.userOptions,e);o.unWrap(),o.init(i,o.$elem)},addItem:function(t,e){var o,i=this;return t?0===i.$elem.children().length?(i.$elem.append(t),i.setVars(),!1):(i.unWrap(),o=void 0===e||-1===e?-1:e,o>=i.$userItems.length||-1===o?i.$userItems.eq(-1).after(t):i.$userItems.eq(o).before(t),void i.setVars()):!1},removeItem:function(t){var e,o=this;return 0===o.$elem.children().length?!1:(e=void 0===t||-1===t?-1:t,o.unWrap(),o.$userItems.eq(e).remove(),void o.setVars())}};t.fn.owlCarousel=function(e){return this.each(function(){if(t(this).data(\"owl-init\")===!0)return!1;t(this).data(\"owl-init\",!0);var o=Object.create(i);o.init(e,this),t.data(this,\"owlCarousel\",o)})},t.fn.owlCarousel.options={items:5,itemsCustom:!1,itemsDesktop:[1199,4],itemsDesktopSmall:[979,3],itemsTablet:[768,2],itemsTabletSmall:!1,itemsMobile:[479,1],singleItem:!1,itemsScaleUp:!1,slideSpeed:200,paginationSpeed:800,rewindSpeed:1e3,autoPlay:!1,stopOnHover:!1,navigation:!1,navigationText:[\"\",\"\"],rewindNav:!0,scrollPerPage:!1,pagination:!0,paginationNumbers:!1,responsive:!0,responsiveRefreshRate:200,responsiveBaseWidth:e,baseClass:\"owl-carousel\",theme:\"owl-theme\",lazyLoad:!1,lazyFollow:!0,lazyEffect:\"fade\",autoHeight:!1,jsonPath:!1,jsonSuccess:!1,dragBeforeAnimFinish:!0,mouseDrag:!0,touchDrag:!0,addClassActive:!1,transitionStyle:!1,beforeUpdate:!1,afterUpdate:!1,beforeInit:!1,afterInit:!1,beforeMove:!1,afterMove:!1,afterAction:!1,startDragging:!1,afterLazyLoad:!1}}(jQuery,window,document);","if(typeof(stlib)==\"undefined\"){var stlib={}}if(!stlib.functions){stlib.functions=[];stlib.functionCount=0}stlib.global={};stlib.global.hash=document.location.href.split(\"#\");stlib.global.hash.shift();stlib.global.hash=stlib.global.hash.join(\"#\");stlib.dynamicOn=true;stlib.debugOn=false;stlib.debug={count:0,messages:[],debug:function(b,a){if(a&&(typeof console)!=\"undefined\"){console.log(b)}stlib.debug.messages.push(b)},show:function(a){for(message in stlib.debug.messages){if((typeof console)!=\"undefined\"){if(a){/ERROR/.test(stlib.debug.messages[message])?console.log(stlib.debug.messages[message]):null}else{console.log(stlib.debug.messages[message])}}}},showError:function(){stlib.debug.show(true)}};var _$d=function(a){stlib.debug.debug(a,stlib.debugOn)};var _$d0=function(){_$d(\" \")};var _$d_=function(){_$d(\"___________________________________________\")};var _$d1=function(a){_$d(_$dt()+\"| \"+a)};var _$d2=function(a){_$d(_$dt()+\"|  * \"+a)};var _$de=function(a){_$d(_$dt()+\"ERROR: \"+a)};var _$dt=function(){var b=new Date();var e=b.getHours();var a=b.getMinutes();var d=b.getSeconds();return e+\":\"+a+\":\"+d+\" > \"};stlib.allServices={adfty:{title:\"Adfty\"},allvoices:{title:\"Allvoices\"},amazon_wishlist:{title:\"Amazon Wishlist\"},arto:{title:\"Arto\"},att:{title:\"AT&T\"},baidu:{title:\"Baidu\"},blinklist:{title:\"Blinklist\"},blip:{title:\"Blip\"},blogmarks:{title:\"Blogmarks\"},blogger:{title:\"Blogger\",type:\"post\"},buddymarks:{title:\"BuddyMarks\"},buffer:{title:\"Buffer\"},care2:{title:\"Care2\"},chiq:{title:\"chiq\"},citeulike:{title:\"CiteULike\"},chiq:{title:\"chiq\"},corkboard:{title:\"Corkboard\"},dealsplus:{title:\"Dealspl.us\"},delicious:{title:\"Delicious\"},digg:{title:\"Digg\"},diigo:{title:\"Diigo\"},dzone:{title:\"DZone\"},edmodo:{title:\"Edmodo\"},email:{title:\"Email\"},evernote:{title:\"Evernote\"},facebook:{title:\"Facebook\"},fark:{title:\"Fark\"},fashiolista:{title:\"Fashiolista\"},flipboard:{title:\"Flipboard\"},folkd:{title:\"folkd.com\"},foodlve:{title:\"FoodLve\"},fresqui:{title:\"Fresqui\"},friendfeed:{title:\"FriendFeed\"},funp:{title:\"Funp\"},fwisp:{title:\"fwisp\"},google:{title:\"Google\"},googleplus:{title:\"Google +\"},google_bmarks:{title:\"Bookmarks\"},google_reader:{title:\"Google Reader\"},google_translate:{title:\"Google Translate\"},hatena:{title:\"Hatena\"},instapaper:{title:\"Instapaper\"},jumptags:{title:\"Jumptags\"},kaboodle:{title:\"Kaboodle\"},linkagogo:{title:\"linkaGoGo\"},linkedin:{title:\"LinkedIn\"},livejournal:{title:\"LiveJournal\",type:\"post\"},mail_ru:{title:\"mail.ru\"},meneame:{title:\"Meneame\"},messenger:{title:\"Messenger\"},mister_wong:{title:\"Mr Wong\"},moshare:{title:\"moShare\"},myspace:{title:\"MySpace\"},n4g:{title:\"N4G\"},netlog:{title:\"Netlog\"},netvouz:{title:\"Netvouz\"},newsvine:{title:\"Newsvine\"},nujij:{title:\"NUjij\"},odnoklassniki:{title:\"Odnoklassniki\"},oknotizie:{title:\"Oknotizie\"},pinterest:{title:\"Pinterest\"},pocket:{title:\"Pocket\"},print:{title:\"Print\"},raise_your_voice:{title:\"Raise Your Voice\"},reddit:{title:\"Reddit\"},segnalo:{title:\"Segnalo\"},sharethis:{title:\"ShareThis\"},sina:{title:\"Sina\"},sonico:{title:\"Sonico\"},startaid:{title:\"Startaid\"},startlap:{title:\"Startlap\"},stumbleupon:{title:\"StumbleUpon\"},stumpedia:{title:\"Stumpedia\"},typepad:{title:\"TypePad\",type:\"post\"},tumblr:{title:\"Tumblr\"},twitter:{title:\"Twitter\"},viadeo:{title:\"Viadeo\"},virb:{title:\"Virb\"},vkontakte:{title:\"Vkontakte\"},voxopolis:{title:\"VOXopolis\"},whatsapp:{title:\"WhatsApp\"},weheartit:{title:\"We Heart It\"},wordpress:{title:\"WordPress\",type:\"post\"},xerpi:{title:\"Xerpi\"},xing:{title:\"Xing\"},yammer:{title:\"Yammer\"}};stlib.allOauthServices={twitter:{title:\"Twitter\"},linkedIn:{title:\"LinkedIn\"},facebook:{title:\"Facebook\"}};stlib.allNativeServices={fblike:{title:\"Facebook Like\"},fbrec:{title:\"Facebook Recommend\"},fbsend:{title:\"Facebook Send\"},fbsub:{title:\"Facebook Subscribe\"},foursquaresave:{title:\"Foursquare Save\"},foursquarefollow:{title:\"Foursquare Follow\"},instagram:{title:\"Instagram Badge\"},plusone:{title:\"Google +1\"},pinterestfollow:{title:\"Pinterest Follow\"},twitterfollow:{title:\"Twitter Follow\"},youtube:{title:\"Youtube Subscribe\"}};stlib.allDeprecatedServices={google_bmarks:{title:\"Google Bookmarks\"},yahoo_bmarks:{title:\"Yahoo Bookmarks\"}};stlib.allOtherServices={copy:{title:\"Copy Paste\"},sharenow:{title:\"ShareNow\"},sharenow_auto:{title:\"Frictionless Sharing\"},fbunlike:{title:\"Facebook Unlike\"}};var _all_services=stlib.allServices;stlib.buttonInfo={buttonList:[],addButton:function(a){stlib.buttonInfo.buttonList.push(a)},getButton:function(a){if(!isNaN(a)){if(a>=stlib.buttonInfo.buttonList.length){return false}else{return stlib.buttonInfo.buttonList[a]}}else{for(c=0;c<stlib.buttonInfo.buttonList.length;c++){if(stlib.buttonInfo.buttonList[c].service==a){debug(stlib.buttonInfo.buttonList[c])}}}},clickButton:function(a){if(!isNaN(a)){if(a>=stlib.buttonInfo.buttonList.length){return false}else{if(stlib.buttonInfo.getButton(a).service==\"sharethis\"||stlib.buttonInfo.getButton(a).service==\"email\"||stlib.buttonInfo.getButton(a).service==\"wordpress\"){stlib.buttonInfo.getButton(a).popup()}else{stlib.buttonInfo.getButton(a).element.childNodes[0].onclick()}}}else{for(c=0;c<stlib.buttonInfo.buttonList.length;c++){if(stlib.buttonInfo.buttonList[c].service==a){if(stlib.buttonInfo.getButton(c).service==\"sharethis\"||stlib.buttonInfo.getButton(c).service==\"email\"||stlib.buttonInfo.getButton(c).service==\"wordpress\"){stlib.buttonInfo.getButton(c).popup();return true}else{stlib.buttonInfo.getButton(c).element.childNodes[0].onclick()}}}}},resetButton:function(){stlib.buttonInfo.buttonList=[]},listButton:function(){for(c=0;c<stlib.buttonInfo.buttonList.length;c++){debug(stlib.buttonInfo.buttonList[c])}}};stlib.buttonInfo.resetButton();stlib.messageQueue=function(){var a=this;this.pumpInstance=null;this.queue=[];this.dependencies=[\"data\"];this.sending=true;this.setPumpInstance=function(b){this.pumpInstance=b};this.send=function(f,d){if((typeof(f)==\"string\")&&(typeof(d)==\"string\")){_$d_();_$d1(\"Queueing message: \"+d+\": \"+f)}(typeof(f)==\"string\")&&(typeof(d)==\"string\")?this.queue.push([d,f]):null;if(this.sending==false||stlib.browser.ieFallback){if(this.pumpInstance!=null){if(this.dependencies.length>0){for(messageSet in this.queue){if(this.queue.hasOwnProperty(messageSet)&&this.queue[messageSet][0]==this.dependencies[0]){if(this.queue.length>0){_$d1(\"Current Queue Length: \"+this.queue.length);var b=this.queue.shift();this.pumpInstance.broadcastSendMessage(b[1]);this.dependencies.shift();this.sending=true}}}}else{if(this.queue.length>0){_$d1(\"Current Queue Length: \"+this.queue.length);var b=this.queue.shift();this.pumpInstance.broadcastSendMessage(b[1]);this.sending=true}}}else{_$d_();_$d1(\"Pump is null\")}}if((stlib.browser.ieFallback)&&(this.queue.length>0)){var e=\"process\"+stlib.functionCount;stlib.functionCount++;stlib.functions[e]=a.process;setTimeout(\"stlib.functions['\"+e+\"']()\",500)}};this.process=function(){_$d1(\"Processing MessageQueue\");a.sending=false;_$d(this.queue);a.send()}};stlib.sharer={sharerUrl:((\"https:\"==document.location.protocol)?\"https://ws.\":\"http://wd.\")+\"sharethis.com/api/sharer.php\",regAuto:new RegExp(/(.*?)_auto$/),constructParamString:function(){stlib.data.validate();stlib.hash.checkURL();var a=stlib.data.pageInfo;var d=\"?\";var b;for(b in a){d+=b+\"=\"+encodeURIComponent(a[b])+\"&\";_$d1(\"constructParamStringPageInfo: \"+b+\": \"+a[b])}a=stlib.data.shareInfo;for(b in a){d+=b+\"=\"+encodeURIComponent(a[b])+\"&\";_$d1(\"constructParamStringShareInfo: \"+b+\": \"+a[b])}d+=\"ts=\"+new Date().getTime()+\"&\";return d.substring(0,d.length-1)},stPrint:function(){window.print()},sharePinterest:function(){if(stlib.data.get(\"image\",\"shareInfo\")==false||stlib.data.get(\"image\",\"shareInfo\")==null||stlib.data.get(\"pinterest_native\",\"shareInfo\")==\"true\"){if(typeof(stWidget)!=\"undefined\"&&typeof(stWidget.closeWidget)===\"function\"){stWidget.closeWidget()}if(typeof(stcloseWidget)===\"function\"){stcloseWidget()}if(typeof(stToolbar)!=\"undefined\"&&typeof(stToolbar.closeWidget)===\"function\"){stToolbar.closeWidget()}var a=document.createElement(\"script\");a.setAttribute(\"type\",\"text/javascript\");a.setAttribute(\"charset\",\"UTF-8\");a.setAttribute(\"src\",\"//assets.pinterest.com/js/pinmarklet.js?r=\"+Math.random()*99999999);document.body.appendChild(a)}},share:function(e,a){var d=stlib.sharer.constructParamString();_$d_();_$d1(\"Initiating a Share with the following url:\");_$d2(stlib.sharer.sharerUrl+d);if((stlib.data.get(\"destination\",\"shareInfo\")==\"print\")||(stlib.data.get(\"destination\",\"shareInfo\")==\"email\")||(stlib.data.get(\"destination\",\"shareInfo\")==\"pinterest\"&&stlib.data.get(\"source\",\"shareInfo\").match(/share4xmobile/)==null&&stlib.data.get(\"source\",\"shareInfo\").match(/share4xpage/)==null&&stlib.data.get(\"source\",\"shareInfo\").match(/5xpage/)==null&&(stlib.data.get(\"image\",\"shareInfo\")==false||stlib.data.get(\"image\",\"shareInfo\")==null))||stlib.data.get(\"destination\",\"shareInfo\")==\"snapsets\"||stlib.data.get(\"destination\",\"shareInfo\")==\"copy\"||stlib.data.get(\"destination\",\"shareInfo\")==\"plusone\"||stlib.data.get(\"destination\",\"shareInfo\").match(stlib.sharer.regAuto)||(typeof(stlib.nativeButtons)!=\"undefined\"&&stlib.nativeButtons.checkNativeButtonSupport(stlib.data.get(\"destination\",\"shareInfo\")))||(stlib.data.get(\"pinterest_native\",\"shareInfo\")!=false&&stlib.data.get(\"pinterest_native\",\"shareInfo\")!=null)){var b=new Image(1,1);b.src=stlib.sharer.sharerUrl+d;b.onload=function(){return}}else{if(typeof(a)!=\"undefined\"&&a==true){window.open(stlib.sharer.sharerUrl+d,(new Date()).valueOf(),\"scrollbars=1, status=1, height=480, width=640, resizable=1\")}else{window.open(stlib.sharer.sharerUrl+d)}}e?e():null}};stlib.browser={iemode:null,firefox:null,firefoxVersion:null,safari:null,chrome:null,opera:null,windows:null,mac:null,ieFallback:(/MSIE [6789]/).test(navigator.userAgent),init:function(){var a=navigator.userAgent.toString().toLowerCase();if(/msie|trident/i.test(a)){if(document.documentMode){stlib.browser.iemode=document.documentMode}else{stlib.browser.iemode=5;if(document.compatMode){if(document.compatMode==\"CSS1Compat\"){stlib.browser.iemode=7}}}}stlib.browser.firefox=((a.indexOf(\"firefox\")!=-1)&&(typeof InstallTrigger!==\"undefined\"))?true:false;stlib.browser.firefoxVersion=(a.indexOf(\"firefox/5.0\")!=-1||a.indexOf(\"firefox/9.0\")!=-1)?false:true;stlib.browser.safari=(a.indexOf(\"safari\")!=-1&&a.indexOf(\"chrome\")==-1)?true:false;stlib.browser.chrome=(a.indexOf(\"safari\")!=-1&&a.indexOf(\"chrome\")!=-1)?true:false;stlib.browser.opera=(window.opera||a.indexOf(\" opr/\")>=0)?true:false;stlib.browser.windows=(a.indexOf(\"windows\")!=-1)?true:false;stlib.browser.mac=(a.indexOf(\"macintosh\")!=-1)?true:false},getIEVersion:function(){return stlib.browser.iemode},isFirefox:function(){return stlib.browser.firefox},firefox8Version:function(){return stlib.browser.firefoxVersion},isSafari:function(){return stlib.browser.safari},isWindows:function(){return stlib.browser.windows},isChrome:function(){return stlib.browser.chrome},isOpera:function(){return stlib.browser.opera},isMac:function(){return stlib.browser.mac}};stlib.browser.init();stlib.browser.mobile={mobile:false,uagent:null,android:null,iOs:null,silk:null,windows:null,kindle:null,isExcerptImplementation:false,iOsVer:0,init:function(){this.uagent=navigator.userAgent.toLowerCase();if(this.isAndroid()){this.mobile=true}else{if(this.isIOs()){this.mobile=true}else{if(this.isSilk()){this.mobile=true}else{if(this.isWindowsPhone()){this.mobile=true}else{if(this.isKindle()){this.mobile=true}}}}}},isMobile:function isMobile(){return this.mobile},isAndroid:function(){if(this.android===null){this.android=this.uagent.indexOf(\"android\")>-1}return this.android},isKindle:function(){if(this.kindle===null){this.kindle=this.uagent.indexOf(\"kindle\")>-1}return this.kindle},isIOs:function isIOs(){if(this.iOs===null){this.iOs=(this.uagent.indexOf(\"ipad\")>-1)||(this.uagent.indexOf(\"ipod\")>-1)||(this.uagent.indexOf(\"iphone\")>-1)}return this.iOs},isSilk:function(){if(this.silk===null){this.silk=this.uagent.indexOf(\"silk\")>-1}return this.silk},getIOSVersion:function(){if(this.isIOs()){this.iOsVer=this.uagent.substr((this.uagent.indexOf(\"os \"))+3,5).replace(/\\_/g,\".\")}return this.iOsVer},isWindowsPhone:function(){if(this.windows===null){this.windows=this.uagent.indexOf(\"windows phone\")>-1}return this.windows},handleForMobileFriendly:function(d,r,g){if(!this.isMobile()){return false}if(typeof(stLight)===\"undefined\"){stLight={};stLight.publisher=r.publisher;stLight.sessionID=r.sessionID;stLight.fpc=\"\"}var n=(typeof(d.title)!==\"undefined\")?d.title:encodeURIComponent(document.title);var a=(typeof(d.url)!==\"undefined\")?d.url:document.URL;var l=(r.short_url!=\"\"&&r.short_url!=null)?r.short_url:\"\";if(r.service==\"sharethis\"){var n=(typeof(d.title)!==\"undefined\")?d.title:encodeURIComponent(document.title);var a=(typeof(d.url)!==\"undefined\")?d.url:document.URL;var j=\"\";if(typeof(d.summary)!=\"undefined\"&&d.summary!=null){j=d.summary}var b=document.createElement(\"form\");b.setAttribute(\"method\",\"GET\");b.setAttribute(\"action\",\"http://edge.sharethis.com/share4x/mobile.html\");b.setAttribute(\"target\",\"_blank\");var f={url:a,title:n,summary:j,destination:r.service,publisher:stLight.publisher,fpc:stLight.fpc,sessionID:stLight.sessionID,short_url:l};if(typeof(d.image)!=\"undefined\"&&d.image!=null){f.image=d.image}if(typeof(d.summary)!=\"undefined\"&&d.summary!=null){f.desc=d.summary}if(typeof(g)!=\"undefined\"&&typeof(g.exclusive_services)!=\"undefined\"&&g.exclusive_services!=null){f.exclusive_services=g.exclusive_services}if(typeof(r.exclusive_services)!=\"undefined\"&&r.exclusive_services!=null){f.exclusive_services=r.exclusive_services}if(typeof(g)!=\"undefined\"&&typeof(g.services)!=\"undefined\"&&g.services!=null){f.services=g.services}if(typeof(r.services)!=\"undefined\"&&r.services!=null){f.services=r.services}var m=r;if(typeof(g)!=\"undefined\"){m=g}if(typeof(m.doNotHash)!=\"undefined\"&&m.doNotHash!=null){f.doNotHash=m.doNotHash}if(typeof(d.via)!=\"undefined\"&&d.via!=null){f.via=d.via}f.service=r.service;f.type=r.type;if(stlib.data){var k=stlib.json.encode(stlib.data.pageInfo);var i=stlib.json.encode(stlib.data.shareInfo);if(stlib.browser.isFirefox()&&!stlib.browser.firefox8Version()){k=encodeURIComponent(encodeURIComponent(k));i=encodeURIComponent(encodeURIComponent(i))}else{k=encodeURIComponent(k);i=encodeURIComponent(i)}f.pageInfo=k;f.shareInfo=i}for(var p in f){var e=document.createElement(\"input\");e.setAttribute(\"type\",\"hidden\");e.setAttribute(\"name\",p);e.setAttribute(\"value\",f[p]);b.appendChild(e)}document.body.appendChild(b);b.submit();return true}if(r.service==\"email\"){var h=(l!=\"\")?l+\"%0A%0a\":a+\"%0A%0a\";if((typeof(d.summary)!=\"undefined\")&&d.summary!=null){h+=d.summary+\"%0A%0a\"}h+=\"Sent using ShareThis\";var q=\"mailto:?\";q+=\"subject=\"+n;q+=\"&body=\"+h;window.location.href=q;return true}return false}};stlib.browser.mobile.init();var tpcCookiesEnableCheckingDone=false;var tpcCookiesEnabledStatus=true;stlib.cookie={setCookie:function(e,n,p){var d=(navigator.userAgent.indexOf(\"Safari\")!=-1&&navigator.userAgent.indexOf(\"Chrome\")==-1);var b=(navigator.userAgent.indexOf(\"MSIE\")!=-1);if(d||b){var r=(p)?p*24*60*60:0;var k=document.createElement(\"div\");k.setAttribute(\"id\",e);k.setAttribute(\"type\",\"hidden\");document.body.appendChild(k);var a=document.getElementById(e),f=document.createElement(\"form\");try{var m=document.createElement('<iframe name=\"'+e+'\" ></iframe>')}catch(l){m=document.createElement(\"iframe\")}m.name=e;m.src=\"javascript:false\";m.style.display=\"none\";a.appendChild(m);f.action=((\"https:\"==document.location.protocol)?\"https://sharethis.com/\":\"http://sharethis.com/\")+\"account/setCookie.php\";f.method=\"POST\";var j=document.createElement(\"input\");j.setAttribute(\"type\",\"hidden\");j.setAttribute(\"name\",\"name\");j.setAttribute(\"value\",e);f.appendChild(j);var q=document.createElement(\"input\");q.setAttribute(\"type\",\"hidden\");q.setAttribute(\"name\",\"value\");q.setAttribute(\"value\",n);f.appendChild(q);var o=document.createElement(\"input\");o.setAttribute(\"type\",\"hidden\");o.setAttribute(\"name\",\"time\");o.setAttribute(\"value\",r);f.appendChild(o);f.target=e;a.appendChild(f);f.submit()}else{if(p){var i=new Date();i.setTime(i.getTime()+(p*24*60*60*1000));var g=\"; expires=\"+i.toGMTString()}else{var g=\"\"}var h=e+\"=\"+escape(n)+g;h+=\"; domain=\"+escape(\".sharethis.com\")+\";path=/\";document.cookie=h}},setTempCookie:function(e,f,g){if(g){var d=new Date();d.setTime(d.getTime()+(g*24*60*60*1000));var a=\"; expires=\"+d.toGMTString()}else{var a=\"\"}var b=e+\"=\"+escape(f)+a;b+=\"; domain=\"+escape(\".sharethis.com\")+\";path=/\";document.cookie=b},getCookie:function(b){var a=document.cookie.match(\"(^|;) ?\"+b+\"=([^;]*)(;|$)\");if(a){return(unescape(a[2]))}else{return false}},deleteCookie:function(e){var l=\"/\";var k=\".sharethis.com\";document.cookie=e.replace(/^\\s+|\\s+$/g,\"\")+\"=\"+((l)?\";path=\"+l:\"\")+((k)?\";domain=\"+k:\"\")+\";expires=Thu, 01-Jan-1970 00:00:01 GMT\";var d=(navigator.userAgent.indexOf(\"Safari\")!=-1&&navigator.userAgent.indexOf(\"Chrome\")==-1);var b=(navigator.userAgent.indexOf(\"MSIE\")!=-1);if(d||b){var h=document.createElement(\"div\");h.setAttribute(\"id\",e);h.setAttribute(\"type\",\"hidden\");document.body.appendChild(h);var a=document.getElementById(e),f=document.createElement(\"form\");try{var j=document.createElement('<iframe name=\"'+e+'\" ></iframe>')}catch(i){j=document.createElement(\"iframe\")}j.name=e;j.src=\"javascript:false\";j.style.display=\"none\";a.appendChild(j);f.action=((\"https:\"==document.location.protocol)?\"https://sharethis.com/\":\"http://sharethis.com/\")+\"account/deleteCookie.php\";f.method=\"POST\";var g=document.createElement(\"input\");g.setAttribute(\"type\",\"hidden\");g.setAttribute(\"name\",\"name\");g.setAttribute(\"value\",e);f.appendChild(g);f.target=e;a.appendChild(f);f.submit()}},deleteAllSTCookie:function(){var e=document.cookie;e=e.split(\";\");for(var g=0;g<e.length;g++){var d=e[g];d=d.split(\"=\");if(!/st_optout/.test(d[0])){var f=d[0];var j=\"/\";var h=\".edge.sharethis.com\";document.cookie=f+\"=;path=\"+j+\";domain=\"+h+\";expires=Thu, 01-Jan-1970 00:00:01 GMT\"}}},setFpcCookie:function(a,h){var d=new Date;var j=d.getFullYear();var g=d.getMonth()+9;var i=d.getDate();var e=a+\"=\"+escape(h);if(j){var b=new Date(j,g,i);e+=\"; expires=\"+b.toGMTString()}var f=stlib.cookie.getDomain();e+=\"; domain=\"+escape(f)+\";path=/\";document.cookie=e},getFpcCookie:function(b){var a=document.cookie.match(\"(^|;) ?\"+b+\"=([^;]*)(;|$)\");if(a){return(unescape(a[2]))}else{return false}},getDomain:function(){var b=document.domain.split(/\\./);var a=\"\";if(b.length>1){a=\".\"+b[b.length-2]+\".\"+b[b.length-1]}return a},checkCookiesEnabled:function(){if(!tpcCookiesEnableCheckingDone){stlib.cookie.setTempCookie(\"STPC\",\"yes\",1);if(stlib.cookie.getCookie(\"STPC\")==\"yes\"){tpcCookiesEnabledStatus=true}else{tpcCookiesEnabledStatus=false}tpcCookiesEnableCheckingDone=true;return tpcCookiesEnabledStatus}else{return tpcCookiesEnabledStatus}},hasLocalStorage:function(){try{localStorage.setItem(\"stStorage\",\"yes\");localStorage.removeItem(\"stStorage\");return true}catch(a){return false}}};stlib.fpc={cookieName:\"__unam\",cookieValue:\"\",createFpc:function(){if(!document.domain||document.domain.search(/\\.gov/)>0){return false}var i=stlib.cookie.getFpcCookie(stlib.fpc.cookieName);if(i==false){var d=Math.round(Math.random()*2147483647);d=d.toString(16);var g=(new Date()).getTime();g=g.toString(16);var f=window.location.hostname.split(/\\./)[1];if(!f){return false}var h=\"\";h=stlib.fpc.determineHash(f)+\"-\"+g+\"-\"+d+\"-1\";i=h}else{var b=i;var a=b.split(/\\-/);if(a.length==4){var e=Number(a[3]);e++;i=a[0]+\"-\"+a[1]+\"-\"+a[2]+\"-\"+e}}stlib.cookie.setFpcCookie(stlib.fpc.cookieName,i);stlib.fpc.cookieValue=i;return i},determineHash:function(b){var f=0;var e=0;for(var d=b.length-1;d>=0;d--){var a=parseInt(b.charCodeAt(d));f=((f<<8)&268435455)+a+(a<<12);if((e=f&161119850)!=0){f=(f^(e>>20))}}return f.toString(16)}};stlib.validate={regexes:{notEncoded:/(%[^0-7])|(%[0-7][^0-9a-f])|[\"{}\\[\\]\\<\\>\\\\\\^`\\|]/gi,tooEncoded:/%25([0-7][0-9a-f])/gi,publisher:/^(([a-z]{2}(-|\\.))|)[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i,url:/^(http|https):\\/\\/([a-z0-9!'\\(\\)\\*\\.\\-\\+:]*(\\.)[a-z0-9!'\\(\\)\\*\\.\\-\\+:]*)((\\/[a-z0-9!'\\(\\)\\*\\.\\-\\+:]*)*)/i,fpc:/^[0-9a-f]{7}-[0-9a-f]{11}-[0-9a-f]{7,8}-[0-9]*$/i,sessionID:/^[0-9]*\\.[0-9a-f]*$/i,title:/.*/,description:/.*/,buttonType:/^(chicklet|vcount|hcount|large|custom|button|)$/,comment:/.*/,destination:/.*/,source:/.*/,image:/(^(http|https):\\/\\/([a-z0-9!'\\(\\)\\*\\.\\-\\+:]*(\\.)[a-z0-9!'\\(\\)\\*\\.\\-\\+:]*)((\\/[a-z0-9!'\\(\\)\\*\\.\\-\\+:]*)*))|^$/i,sourceURL:/^(http|https):\\/\\/([a-z0-9!'\\(\\)\\*\\.\\-\\+:]*(\\.)[a-z0-9!'\\(\\)\\*\\.\\-\\+:]*)((\\/[a-z0-9!'\\(\\)\\*\\.\\-\\+:]*)*)/i,sharURL:/(^(http|https):\\/\\/([a-z0-9!'\\(\\)\\*\\.\\-\\+:]*(\\.)[a-z0-9!'\\(\\)\\*\\.\\-\\+:]*)((\\/[a-z0-9!'\\(\\)\\*\\.\\-\\+:]*)*))|^$/i}};stlib.html={encode:function(a){if(stlib.html.startsWith(a,\"http\")){return String(a).replace(/\"/g,\"&quot;\").replace(/'/g,\"&#39;\").replace(/</g,\"&lt;\").replace(/>/g,\"&gt;\")}else{return String(a).replace(/&/g,\"&amp;\").replace(/\"/g,\"&quot;\").replace(/'/g,\"&#39;\").replace(/</g,\"&lt;\").replace(/>/g,\"&gt;\")}},startsWith:function(a,b){return(a.match(\"^\"+b)==b)}};stlib.stfp={screenResolutionDepthHash:\"ERROR\",pluginsListHash:\"ERROR\",fontsListHash:\"ERROR\",timezoneoffsetHash:\"ERROR\",checkIEPlugins:[\"ShockwaveFlash.ShockwaveFlash\",\"AcroPDF.PDF\",\"PDF.PdfCtrl\",\"QuickTime.QuickTime\",\"rmocx.RealPlayer G2 Control\",\"rmocx.RealPlayer G2 Control.1\",\"RealPlayer.RealPlayer(tm) ActiveX Control (32-bit)\",\"RealVideo.RealVideo(tm) ActiveX Control (32-bit)\",\"RealPlayer\",\"SWCtl.SWCtl\",\"WMPlayer.OCX\",\"AgControl.AgControl\",\"Skype.Detection\"],getPluginsHash:function(){var b=\"\";if(stlib.browser.getIEVersion()!=null){for(var a=0;a<stlib.stfp.checkIEPlugins.length;a++){try{new ActiveXObject(stlib.stfp.checkIEPlugins[a]);b+=stlib.stfp.checkIEPlugins[a]+\":\"}catch(d){}}}if(stlib.browser.getIEVersion()==null||stlib.browser.getIEVersion()>=11){if(((typeof navigator)!=\"undefined\"||navigator!=null)&&((typeof navigator.plugins)!=\"undefined\"||navigator.plugins!=null)){for(var a=0;a<navigator.plugins.length;a++){b+=navigator.plugins[a].name+\":\"}}}_$d1(\"PluginList: \"+b);if(b.length>0){stlib.stfp.pluginsListHash=stlib.stfp.getFpHash(b)}},getResolutionDepthHash:function(){if(screen){_$d1(\"Resolution: \"+(((typeof screen.width)!=\"undefined\")?screen.width:\"NA\")+\":\"+(((typeof screen.height)!=\"undefined\")?screen.height:\"NA\")+\":\"+(((typeof screen.colorDepth)!=\"undefined\")?screen.colorDepth:\"NA\"));stlib.stfp.screenResolutionDepthHash=stlib.stfp.getFpHash((((typeof screen.width)!=\"undefined\")?screen.width:\"NA\")+\":\"+(((typeof screen.height)!=\"undefined\")?screen.height:\"NA\")+\":\"+(((typeof screen.colorDepth)!=\"undefined\")?screen.colorDepth:\"NA\"))}},getTimezoneOffsetHash:function(){var b=new Date();var a=b.getTimezoneOffset();_$d1(\"Timezoneoffset: \"+a);stlib.stfp.timezoneoffsetHash=stlib.stfp.getFpHash(a.toString())},getFontsHash:function(){var d=false;var h=document;var a=h.createElement(\"iframe\");a.id=\"st_ifr\";a.style.width=\"0px\";a.style.height=\"0px\";a.src=\"about:blank\";var b=stlib.browser.isChrome();var f='<html><head><title>st_bf</title><script type=\"text/javascript\">var stlib1={};stlib1.stfp={fontStr:\"\",fontsListHash:\"ERROR\",checkFonts:[\"Aharoni\",\"algerian\",\"Andalus\",\"\\'Angsana New\\'\",\"\\'Apple Symbols\\'\",\"\\'Arabic Typesetting\\'\",\"Arial\",\"\\'Baskerville Old Face\\'\",\"Batang\",\"BatangChe\",\"\\'Bell MT\\'\",\"\\'Berlin Sans FB\\'\",\"\\'Bitstream Charter\\'\",\"\\'Book Antiqua\\'\",\"\\'Bookman Old Style\\'\",\"\\'Bradley Hand ITC\\'\",\"Calibri\",\"\\'Californian FB\\'\",\"\\'Cambria Math\\'\",\"\\'Century Schoolbook\\'\",\"\\'Century Schoolbook L\\'\",\"Charter\",\"\\'colonna mt\\'\",\"Consolas\",\"Corbel\",\"\\'Cordia New\\'\",\"Courier\",\"cursive\",\"David\",\"default\",\"DFKai-SB\",\"DilleniaUPC\",\"DotumChe\",\"Ebrima\",\"\\'Estrangelo Edessa\\'\",\"fantasy\",\"FrankRuehl\",\"Garamond\",\"Gentium\",\"Gungsuh\",\"GungsuhChe\",\"Haettenschweiler\",\"\\'Heiti TC\\'\",\"\\'High Tower Text\\'\",\"\\'Informal Roman\\'\",\"IrisUPC\",\"\\'Juice ITC\\'\",\"KaiTi\",\"Kalinga\",\"Kartika\",\"Kokonor\",\"Leelawadee\",\"\\'Liberation Mono\\'\",\"\\'Liberation Sans\\'\",\"Loma\",\"Magneto\",\"\\'Malgun Gothic\\'\",\"\\'matura mt script capitals\\'\",\"\\'Microsoft Himalaya\\'\",\"\\'Microsoft JhengHei\\'\",\"\\'Microsoft Sans Serif\\'\",\"\\'Microsoft Uighur\\'\",\"\\'Microsoft YaHei\\'\",\"\\'Microsoft Yi Baiti\\'\",\"MingLiU\",\"Mistral\",\"Modena\",\"\\'Mongolian Baiti\\'\",\"\\'Monotype Corsiva\\'\",\"\\'MS Mincho\\'\",\"\\'MS Outlook\\'\",\"\\'MS PGothic\\'\",\"\\'MS PMincho\\'\",\"\\'MT Extra\\'\",\"\\'Nimbus Mono L\\'\",\"\\'Nimbus Sans L\\'\",\"NSimSun\",\"Optima\",\"Papyrus\",\"PMingLiU-ExtB\",\"Saab\",\"\\'Segoe Print\\'\",\"\\'Segoe Script\\'\",\"\\'Showcard Gothic\\'\",\"SimHei\",\"\\'Simplified Arabic\\'\",\"\\'Simplified Arabic Fixed\\'\",\"SimSun\",\"SimSun-ExtB\",\"Tahoma\",\"\\'Traditional Arabic\\'\",\"Tunga\",\"Ubuntu\",\"\\'URW Gothic L\\'\",\"\\'URW Palladio L\\'\",\"Utopia\",\"Verona\",\"\\'Viner Hand ITC\\'\",\"Vrinda\",\"webdings\",\"\\'wide latin\\'\",\"Zapfino\"],checkFontsLength:0,baseFonts:[\"monospace\",\"sans-serif\",\"serif\"],baseFontsLength:0,testString:\"mmmmmmmmmmlli\",testSize:\"72px\",s:document.createElement(\"span\"),sty:document.createElement(\"style\"),hd:document.head||document.getElementsByTagName(\"head\")[0],defaultWidth:{},defaultHeight:{},';if(b){f+=\"checkFontForCrome:function(checkFontIndex){var detected = false;var checkElement;for(var baseFontIndex=0;baseFontIndex<stlib1.stfp.baseFontsLength;baseFontIndex++){checkElement = document.getElementById(\\\"st_check_fonts_\\\" + checkFontIndex + \\\"_\\\" + baseFontIndex);var matched = checkElement.offsetWidth!=stlib1.stfp.defaultWidth[baseFontIndex]||checkElement.offsetHeight!=stlib1.stfp.defaultHeight[baseFontIndex];detected = detected || matched;}return detected;},createFragments:function(){var span, fragment = document.createDocumentFragment();var doc = document;var d = doc.createElement('div');d.className = 'st_fontDetect';var baseFontName, checkFontName, baseElement, checkElement;for(var baseFontIndex=0;baseFontIndex<stlib1.stfp.baseFontsLength;baseFontIndex++){baseFontName = stlib1.stfp.baseFonts[baseFontIndex];baseElement = document.createElement('span');baseElement.style.fontFamily=baseFontName;baseElement.id = \\\"st_base_fonts_\\\" + baseFontIndex;baseElement.innerHTML = stlib1.stfp.testString;baseElement.style.fontSize = stlib1.stfp.testSize;fragment.appendChild(baseElement);}for(var checkFontIndex=0;checkFontIndex<stlib1.stfp.checkFontsLength;checkFontIndex++){checkFontName = stlib1.stfp.checkFonts[checkFontIndex];for(var baseFontIndex=0;baseFontIndex<stlib1.stfp.baseFontsLength;baseFontIndex++){baseFontName = stlib1.stfp.baseFonts[baseFontIndex];checkElement = document.createElement('span');checkElement.style.fontFamily= checkFontName + ',' + baseFontName;checkElement.id = \\\"st_check_fonts_\\\" + checkFontIndex + \\\"_\\\" + baseFontIndex;checkElement.innerHTML = stlib1.stfp.testString;checkElement.style.fontSize = stlib1.stfp.testSize;fragment.appendChild(checkElement);}}d.appendChild(fragment);doc.body.appendChild(d);},\"}else{f+='checkFont:function(font){var detected = false;for(var baseFontIndex=0;baseFontIndex<stlib1.stfp.baseFontsLength;baseFontIndex++){stlib1.stfp.s.style.fontFamily = font +\",\" + stlib1.stfp.baseFonts[baseFontIndex];var matched = stlib1.stfp.s.offsetWidth!=stlib1.stfp.defaultWidth[stlib1.stfp.baseFonts[baseFontIndex]]||stlib1.stfp.s.offsetHeight!=stlib1.stfp.defaultHeight[stlib1.stfp.baseFonts[baseFontIndex]];detected = detected || matched;}return detected;},'}f+='createStyle:function(){var css =\".st_fontDetect{display:inline !important}\";stlib1.stfp.sty.type=\"text/css\";stlib1.stfp.sty.id=\"st_style\";if(stlib1.stfp.sty.styleSheet){stlib1.stfp.sty.styleSheet.cssText = css;}else{stlib1.stfp.sty.appendChild(document.createTextNode(css))}stlib1.stfp.hd.appendChild(stlib1.stfp.sty)},getFontsHash:function(){var isBodyStyleSet = false;stlib1.stfp.s.className=\"st_fontDetect\";stlib1.stfp.createStyle();stlib1.stfp.s.style.fontSize=stlib1.stfp.testSize;stlib1.stfp.s.innerHTML=stlib1.stfp.testString;stlib1.stfp.baseFontsLength = stlib1.stfp.baseFonts.length;stlib1.stfp.checkFontsLength = stlib1.stfp.checkFonts.length;var bodyDisplay = null;var bodyVisibility = null;if(document.body.style.display===\"none\"){isBodyStyleSet = true;bodyDisplay = document.body.style.display;bodyVisibility = document.body.style.visibility;document.body.style.display=\"block\";document.body.style.visibility=\"hidden\";}';if(b){f+=\"stlib1.stfp.createFragments();stlib1.stfp.defaultWidth[0] = document.getElementById('st_base_fonts_0').offsetWidth;stlib1.stfp.defaultHeight[0] = document.getElementById('st_base_fonts_0').offsetHeight;stlib1.stfp.defaultWidth[1] = document.getElementById('st_base_fonts_1').offsetWidth;stlib1.stfp.defaultHeight[1] = document.getElementById('st_base_fonts_1').offsetHeight;stlib1.stfp.defaultWidth[2] = document.getElementById('st_base_fonts_2').offsetWidth;stlib1.stfp.defaultHeight[2] = document.getElementById('st_base_fonts_2').offsetHeight;for(var checkFontIndex=0;checkFontIndex<stlib1.stfp.checkFontsLength;checkFontIndex++){var tempCheckFontName = stlib1.stfp.checkFonts[checkFontIndex];if(stlib1.stfp.checkFontForCrome(checkFontIndex)){stlib1.stfp.fontStr += tempCheckFontName +\\\":\\\";}}\"}else{f+='for(var baseFontIndex=0;baseFontIndex<stlib1.stfp.baseFontsLength;baseFontIndex++){var tempBaseFontName = stlib1.stfp.baseFonts[baseFontIndex];stlib1.stfp.s.style.fontFamily = tempBaseFontName;document.body.appendChild(stlib1.stfp.s);stlib1.stfp.defaultWidth[tempBaseFontName]=stlib1.stfp.s.offsetWidth;stlib1.stfp.defaultHeight[tempBaseFontName]=stlib1.stfp.s.offsetHeight;document.body.removeChild(stlib1.stfp.s)}stlib1.stfp.s.style.fontFamily=\"st_font\";document.body.appendChild(stlib1.stfp.s);for(var checkFontIndex=0;checkFontIndex<stlib1.stfp.checkFontsLength;checkFontIndex++){var tempCheckFontName = stlib1.stfp.checkFonts[checkFontIndex];if(stlib1.stfp.checkFont(tempCheckFontName)){stlib1.stfp.fontStr += tempCheckFontName +\":\"}}var sheet = document.getElementById(\"st_style\");sheet.parentNode.removeChild(sheet);document.body.removeChild(stlib1.stfp.s);'}f+='if(isBodyStyleSet){document.body.style.display = bodyDisplay;document.body.style.visibility = bodyVisibility;}}};<\\/script></head><body id=\"st_ifr\"><div><script type=\"text/javascript\">stlib1.stfp.getFontsHash();<\\/script></div></body></html>';h.body.appendChild(a);try{a.contentWindow.document.open(\"text/html\",\"replace\")}catch(g){if(stlib.browser.getIEVersion()!=null){if(stlib.browser.getIEVersion()<11&&g.message.match(/denied/g)){h.body.removeChild(a);d=true}}}if(!d){a.contentWindow.document.write(f);a.contentWindow.document.close();_$d1(\"FontList: \"+document.getElementById(\"st_ifr\").contentWindow.stlib1.stfp.fontStr);stlib.stfp.fontsListHash=stlib.stfp.getFpHash(document.getElementById(\"st_ifr\").contentWindow.stlib1.stfp.fontStr);h.body.removeChild(a)}},init:function(){stlib.stfp.getFontsHash();stlib.stfp.getPluginsHash();stlib.stfp.getResolutionDepthHash();stlib.stfp.getTimezoneOffsetHash()},getFpHash:function(a){var f=0,e=0;for(var d=a.length-1;d>=0;d--){var b=parseInt(a.charCodeAt(d));f=((f<<8)&268435455)+b+(b<<12);if((e=f&161119850)!=0){f=(f^(e>>20))}}return f.toString(16)}};if(typeof(stlib.data)==\"undefined\"){stlib.data={bInit:false,publisherKeySet:false,pageInfo:{},shareInfo:{},resetPageData:function(){stlib.data.pageInfo.fpc=\"ERROR\";stlib.data.pageInfo.sessionID=\"ERROR\";stlib.data.pageInfo.hostname=\"ERROR\";stlib.data.pageInfo.location=\"ERROR\"},resetShareData:function(){stlib.data.shareInfo={};stlib.data.shareInfo.url=\"ERROR\";stlib.data.shareInfo.sharURL=\"\";stlib.data.shareInfo.buttonType=\"ERROR\";stlib.data.shareInfo.destination=\"ERROR\";stlib.data.shareInfo.source=\"ERROR\"},resetData:function(){stlib.data.resetPageData();stlib.data.resetShareData()},validate:function(){var a=stlib.validate.regexes;function b(f,h){if(h!=encodeURIComponent(h)){a.notEncoded.test(h)?_$de(f+\" not encoded\"):null;a.tooEncoded.test(h)?_$de(f+\" has too much encoding\"):null}var g=a[f]?a[f].test(decodeURIComponent(h)):true;if(!g){_$de(f+\" failed validation\")}}var d=stlib.data.pageInfo;var e;for(e in d){b(e,d[e])}d=stlib.data.shareInfo;for(e in d){b(e,d[e])}},init:function(){if(!stlib.data.bInit){stlib.data.bInit=true;stlib.data.resetData();stlib.data.set(\"url\",document.location.href,\"shareInfo\");var g=\"\";stlib.hash.init();stlib.data.set(\"shareHash\",stlib.hash.shareHash,\"pageInfo\");stlib.data.set(\"incomingHash\",stlib.hash.incomingHash,\"pageInfo\");if(!stlib.hash.doNotHash){g=\"#\"+stlib.data.get(\"shareHash\",\"pageInfo\")}var f=stlib.hash.updateParams();stlib.data.set(\"url\",f+g,\"shareInfo\");if(stlib.data.publisherKeySet!=true){stlib.data.set(\"publisher\",\"ur.00000000-0000-0000-0000-000000000000\",\"pageInfo\")}stlib.fpc.createFpc();stlib.data.set(\"fpc\",stlib.fpc.cookieValue,\"pageInfo\");var b=(new Date()).getTime().toString();var h=Number(Math.random().toPrecision(5).toString().substr(2)).toString();stlib.data.set(\"sessionID\",b+\".\"+h,\"pageInfo\");stlib.data.set(\"hostname\",document.location.hostname,\"pageInfo\");stlib.data.set(\"location\",document.location.pathname,\"pageInfo\");var e=document.referrer;var i=e.replace(\"http://\",\"\").replace(\"https://\",\"\").split(\"/\");var d=i.shift();var a=i.join(\"/\");stlib.data.set(\"refDomain\",d,\"pageInfo\");stlib.data.set(\"refQuery\",a,\"pageInfo\")}},setPublisher:function(a){stlib.data.set(\"publisher\",a,\"pageInfo\");stlib.data.publisherKeySet=true},setSource:function(d,a){var b=\"\";if(a){if(a.toolbar){b=\"toolbar\"+d}else{if(a.page&&a.page!=\"home\"&&a.page!=\"\"){b=\"chicklet\"+d}else{b=\"button\"+d}}}else{b=d}stlib.data.set(\"source\",b,\"shareInfo\")},set:function(a,d,b){_$d_();_$d1(\"Setting: \"+a+\": \"+d);if(typeof(d)==\"number\"||typeof(d)==\"boolean\"){stlib.data[b][a]=d}else{if(typeof(d)==\"undefined\"||d==null){_$d1(\"Value undefined or null\")}else{stlib.data[b][a]=encodeURIComponent(decodeURIComponent(unescape(d.replace(/<[^<>]*>/gi,\" \")).replace(/%/gi,\"%25\")));if(a==\"url\"||a==\"location\"||a==\"image\"){try{stlib.data[b][a]=encodeURIComponent(decodeURIComponent(decodeURI(d.replace(/<[^<>]*>/gi,\" \")).replace(/%/gi,\"%25\")))}catch(f){stlib.data[b][a]=encodeURIComponent(decodeURIComponent(unescape(d.replace(/<[^<>]*>/gi,\" \")).replace(/%/gi,\"%25\")))}}}}},get:function(a,b){if(stlib.data[b]&&stlib.data[b][a]){return decodeURIComponent(stlib.data[b][a])}else{return false}},unset:function(a,b){if(stlib.data[b]&&typeof(stlib.data[b][a])!=\"undefined\"){delete stlib.data[b][a]}}};stlib.data.resetData()}stlib.hash={doNotHash:true,hashAddressBar:false,doNotCopy:true,prefix:\"sthash\",shareHash:\"\",incomingHash:\"\",validChars:[\"1\",\"2\",\"3\",\"4\",\"5\",\"6\",\"7\",\"8\",\"9\",\"0\",\"A\",\"B\",\"C\",\"D\",\"E\",\"F\",\"G\",\"H\",\"I\",\"J\",\"K\",\"L\",\"M\",\"N\",\"O\",\"P\",\"Q\",\"R\",\"S\",\"T\",\"U\",\"V\",\"W\",\"X\",\"Y\",\"Z\",\"a\",\"b\",\"c\",\"d\",\"e\",\"f\",\"g\",\"h\",\"i\",\"j\",\"k\",\"l\",\"m\",\"n\",\"o\",\"p\",\"q\",\"r\",\"s\",\"t\",\"u\",\"v\",\"w\",\"x\",\"y\",\"z\"],servicePreferences:{linkedin:\"param\",stumbleupon:\"param\",bebo:\"param\"},hashDestination:function(b){if(b==\"copy\"){return\"dpuf\"}var d=b.substring(0,2)+b.substring(b.length-2,b.length);var a=function(e,f){if(e.charCodeAt(f)==122){return\"a\"}return String.fromCharCode(e.charCodeAt(f)+1)};return a(d,0)+a(d,1)+a(d,2)+a(d,3)},getHash:function(){var d=false;var b=\"\";var e=document.location.href;e=e.split(\"#\").shift();var a=e.split(\"?\");if(a.length>1){a=a[1].split(\"&\");for(arg in a){try{if(a[arg].substring(0,6)==\"sthash\"){d=true;b=a[arg]}}catch(f){}}if(d){return b}else{return document.location.hash.substring(1)}}else{return document.location.hash.substring(1)}},stripHash:function(a){var b=a;b=b.split(\"#\");if(b.length>1){return b[1]}else{return\"\"}},clearHash:function(){if(stlib.hash.validateHash(document.location.hash)){var a=document.location.href.split(\"#\").shift();if(window.history&&history.replaceState){history.replaceState(null,document.title,a)}else{if((/MSIE/).test(navigator.userAgent)){window.location.replace(\"#\")}else{document.location.hash=\"\"}}}},init:function(){var b=\"\";var a=stlib.hash.validChars.length;for(var f=0;f<8;f++){b+=stlib.hash.validChars[Math.random()*a|0]}if(stlib.hash.getHash()==\"\"){stlib.hash.shareHash=stlib.hash.prefix+\".\"+b}else{var d=stlib.hash.getHash().split(\".\");var e=d.shift();if(e==stlib.hash.prefix||e==stlib.hash.prefix){stlib.hash.incomingHash=stlib.hash.getHash();stlib.hash.shareHash=stlib.hash.prefix+\".\"+d.shift()+\".\"+b}else{stlib.hash.shareHash=stlib.hash.prefix+\".\"+b}}if(!stlib.hash.doNotHash&&stlib.hash.hashAddressBar){if(document.location.hash==\"\"||stlib.hash.validateHash(document.location.hash)){if(window.history&&history.replaceState){history.replaceState(null,\"ShareThis\",\"#\"+stlib.hash.shareHash+\".dpbs\")}else{if((/MSIE/).test(navigator.userAgent)){window.location.replace(\"#\"+stlib.hash.shareHash+\".dpbs\")}else{document.location.hash=stlib.hash.shareHash+\".dpbs\"}}}}else{stlib.hash.clearHash()}if(!stlib.hash.doNotHash&&!stlib.hash.doNotCopy){stlib.hash.copyPasteInit()}stlib.hash.copyPasteLog()},checkURL:function(){var b=stlib.data.get(\"destination\",\"shareInfo\");var g=stlib.hash.updateParams(b);var e=\".\"+stlib.hash.hashDestination(b);stlib.hash.updateDestination(e);if(!stlib.hash.doNotHash&&typeof(stlib.data.pageInfo.shareHash)!=\"undefined\"){var d=stlib.data.get(\"url\",\"shareInfo\");var h=stlib.hash.stripHash(d);if(stlib.hash.validateHash(h)||h==\"\"){if(typeof(stlib.hash.servicePreferences[b])!=\"undefined\"){if(stlib.hash.servicePreferences[b]==\"param\"){_$d1(\"Don't use hash, use params\");_$d2(g);if(g.split(\"?\").length>1){var f=g.split(\"?\")[1].split(\"&\");var i=false;for(var a=0;a<f.length;a++){if(f[a].split(\".\")[0]==\"sthash\"){i=true}}if(i){stlib.data.set(\"url\",g,\"shareInfo\")}else{stlib.data.set(\"url\",g+\"&\"+stlib.data.pageInfo.shareHash,\"shareInfo\")}}else{stlib.data.set(\"url\",g+\"?\"+stlib.data.pageInfo.shareHash,\"shareInfo\")}if(b==\"linkedin\"){if(stlib.data.get(\"sharURL\",\"shareInfo\")!=\"\"){stlib.data.set(\"sharURL\",stlib.data.get(\"url\",\"shareInfo\"),\"shareInfo\")}}}else{_$d1(\"Using Hash\");stlib.data.set(\"url\",g+\"#\"+stlib.data.pageInfo.shareHash,\"shareInfo\")}}else{_$d1(\"Not using custom destination hash type\");stlib.data.set(\"url\",g+\"#\"+stlib.data.pageInfo.shareHash,\"shareInfo\")}}}},updateParams:function(a){var g=stlib.data.get(\"url\",\"shareInfo\").split(\"#\").shift();var f=/(\\?)sthash\\.[a-zA-z0-9]{8}\\.[a-zA-z0-9]{8}/;var e=/(&)sthash\\.[a-zA-z0-9]{8}\\.[a-zA-z0-9]{8}/;var d=/(\\?)sthash\\.[a-zA-z0-9]{8}/;var b=/(&)sthash\\.[a-zA-z0-9]{8}/;if(f.test(g)){g=g.replace(f,\"?\"+stlib.data.pageInfo.shareHash)}else{if(e.test(g)){g=g.replace(e,\"&\"+stlib.data.pageInfo.shareHash)}else{if(d.test(g)){g=g.replace(d,\"?\"+stlib.data.pageInfo.shareHash)}else{if(b.test(g)){g=g.replace(b,\"&\"+stlib.data.pageInfo.shareHash)}}}}return g},updateDestination:function(b){var a=/sthash\\.[a-zA-z0-9]{8}\\.[a-zA-z0-9]{8}\\.[a-z]{4}/;var d=/sthash\\.[a-zA-z0-9]{8}\\.[a-z]{4}/;_$d_();_$d1(\"Updating Destination\");if(a.test(stlib.data.pageInfo.shareHash)){_$d2(stlib.data.pageInfo.shareHash.substring(0,24));stlib.data.pageInfo.shareHash=stlib.data.pageInfo.shareHash.substring(0,24)+b}else{if(d.test(stlib.data.pageInfo.shareHash)){_$d2(stlib.data.pageInfo.shareHash.substring(0,15));stlib.data.pageInfo.shareHash=stlib.data.pageInfo.shareHash.substring(0,15)+b}else{stlib.data.pageInfo.shareHash+=b}}},validateHash:function(a){var b=/[\\?#&]?sthash\\.[a-zA-z0-9]{8}\\.[a-zA-z0-9]{8}$/;var d=/[\\?#&]?sthash\\.[a-zA-z0-9]{8}\\.[a-zA-z0-9]{8}\\.[a-z]{4}$/;var e=/[\\?#&]?sthash\\.[a-zA-z0-9]{8}\\.[a-z]{4}$/;var f=/[\\?#&]?sthash\\.[a-zA-z0-9]{8}$/;return f.test(a)||e.test(a)||d.test(a)||b.test(a)},appendHash:function(a){var b=stlib.hash.stripHash(a);if(stlib.data.pageInfo.shareHash&&(stlib.hash.validateHash(b)||b==\"\")){a=a.replace(\"#\"+b,\"\")+\"#\"+stlib.data.pageInfo.shareHash}else{}return a},copyPasteInit:function(){var a=document.getElementsByTagName(\"body\")[0];var d=document.createElement(\"div\");d.id=\"stcpDiv\";d.style.position=\"absolute\";d.style.top=\"-1999px\";d.style.left=\"-1988px\";a.appendChild(d);d.innerHTML=\"ShareThis Copy and Paste\";var b=document.location.href.split(\"#\").shift();var e=\"#\"+stlib.hash.shareHash;if(document.addEventListener){a.addEventListener(\"copy\",function(i){if(typeof(Tynt)!=\"undefined\"){return}var h=document.getSelection();if(h.isCollapsed){return}var g=h.getRangeAt(0).cloneContents();d.innerHTML=\"\";d.appendChild(g);if(d.textContent.trim().length==0){return}if((h+\"\").trim().length==0){}else{if(d.innerHTML==(h+\"\")||d.textContent==(h+\"\")){d.innerHTML=stlib.html.encode(stlib.hash.selectionModify(h))}else{d.innerHTML+=stlib.html.encode(stlib.hash.selectionModify(h,true))}}var f=document.createRange();f.selectNodeContents(d);var j=h.getRangeAt(0);h.removeAllRanges();h.addRange(f);setTimeout(function(){h.removeAllRanges();h.addRange(j)},0)},false)}else{if(document.attachEvent){}}},copyPasteLog:function(){var d=window.addEventListener?\"addEventListener\":\"attachEvent\";var b=d==\"attachEvent\"?\"oncopy\":\"copy\";var a=document.getElementsByTagName(\"body\")[0];a[d](b,function(g){var f=true;stlib.data.resetShareData();stlib.data.set(\"url\",document.location.href,\"shareInfo\");stlib.data.setSource(\"copy\");stlib.data.set(\"destination\",\"copy\",\"shareInfo\");stlib.data.set(\"buttonType\",\"custom\",\"shareInfo\");if(typeof(Tynt)!=\"undefined\"){stlib.data.set(\"result\",\"tynt\",\"shareInfo\");stlib.logger.log(\"debug\");f=false}if(typeof(addthis_config)!=\"undefined\"){stlib.data.set(\"result\",\"addThis\",\"shareInfo\");if(typeof(addthis_config.data_track_textcopy)==\"undefined\"||addthis_config.data_track_textcopy){stlib.data.set(\"enabled\",\"true\",\"shareInfo\");f=false}else{stlib.data.set(\"enabled\",\"false\",\"shareInfo\")}stlib.logger.log(\"debug\")}if(f){stlib.data.set(\"result\",\"pass\",\"shareInfo\");stlib.logger.log(\"debug\")}},false)},logCopy:function(a,b){stlib.data.resetShareData();stlib.data.set(\"url\",a,\"shareInfo\");stlib.data.setSource(\"copy\");stlib.data.set(\"destination\",\"copy\",\"shareInfo\");stlib.data.set(\"buttonType\",\"custom\",\"shareInfo\");if(b){stlib.data.set(\"description\",b,\"shareInfo\")}stlib.sharer.share()},selectionModify:function(o,m){o=\"\"+o;_$d_();_$d1(\"Copy Paste\");var n=/^((http|https):\\/\\/([a-z0-9!'\\(\\)\\*\\.\\-\\+:]*(\\.)[a-z0-9!'\\(\\)\\*\\.\\-\\+:]*)((\\/[a-z0-9!'\\(\\)\\*\\.\\-\\+:]*)*))/i;var h=/^([a-z0-9!'\\(\\)\\*\\.\\-\\+:]*(\\.)[a-z0-9!'\\(\\)\\*\\.\\-\\+:]*)((\\/[a-z0-9!'\\(\\)\\*\\.\\-\\+:]*)*)/i;var f=/^\\+?1?[\\.\\-\\\\)_\\s]?[\\\\(]?[0-9]{3}[\\.\\-\\\\)_\\s]?[0-9]{3}[\\.\\-_\\s]?[0-9]{4}$|^[0-9]{3}[\\.\\-_\\s]?[0-9]{4}$/;var j=/^[0-9]{3}[\\.\\-_\\s]?[0-9]{8}$/;var l=/^[0-9]{2}[\\.\\-_\\s]?[0-9]{4}[\\.\\-_\\s]?[0-9]{4}$/;var d=/[\\-_\\.a-z0-9]+@[\\-_\\.a-z0-9]+\\.[\\-_\\.a-z0-9]+/i;var g=/[\\s@]/;var b=document.location.href.split(\"#\").shift();var i=\"#\"+stlib.hash.shareHash;var a=\"\";var k=\"\";var e=\"\";if(typeof(m)==\"undefined\"&&((n.test(o)||h.test(o))&&!g.test(o.trim()))){_$d2(\"is Url\");if(o.match(/#/)==null||stlib.hash.validateHash(o)){k=o.split(\"#\")[0]+i+\".dpuf\";e=k}else{k=o;e=k}}else{_$d2(\"is Not Url\");if(document.location.hash==\"\"||(/^#$/).test(document.location.hash)||stlib.hash.validateHash(document.location.hash)){k=b+i+\".dpuf\"}else{k=document.location.href}e=o;if(o.length>50){a=\" - See more at: \"+k+\"\";if(!f.test(o)&&!j.test(o)&&!l.test(o)&&!d.test(o)){e+=a}}}if(o.length>140){o=o.substring(0,137)+\"...\"}stlib.hash.logCopy(k,o);return((m&&m==true)?a:e)}};stlib.pump=function(a,d,e){var b=this;this.isIframeReady=false;this.isIframeSending=false;this.getHash=function(f){var g=f.split(\"#\");g.shift();return g.join(\"#\")};this.broadcastInit=function(f){this.destination=f;_$d_(\"---------------------\");_$d1(\"Initiating broadcaster:\");_$d(this.destination)};this.broadcastSendMessage=function(f){_$d_(\"---------------------\");_$d1(\"Initiating Send:\");if(this.destination===window){if(stlib.browser.ieFallback){window.location.replace(window.location.href.split(\"#\")[0]+\"#\"+f);_$d2(\"child can't communicate with parent\");return}_$d2(\"Iframe to publisher: \"+f);parent.postMessage(\"#\"+f,document.referrer)}else{_$d2(\"Publisher to Iframe: \"+f);if(stlib.browser.ieFallback){if(this.destination.contentWindow){this.destination.contentWindow.location.replace(this.destination.src+\"#\"+f);this.isIframeSending=true}return}this.destination.contentWindow.postMessage(\"#\"+f,this.destination.src)}};this.receiverInit=function(h,k){_$d_(\"---------------------\");_$d1(\"Initiating Receiver:\");_$d(h);if(stlib.browser.ieFallback){this.callback=k;this.source=h;if(h===window){window.location.replace(window.location.href.split(\"#\")[0]+\"#\");this.currentIframe=window.location.hash;var g=\"receiver\"+stlib.functionCount;stlib.functions[g]=function(m){if(\"\"!=window.location.hash&&\"#\"!=window.location.hash){var l=window.location.hash;m(l);window.location.replace(window.location.href.split(\"#\")[0]+\"#\")}};stlib.functionCount++;var j=\"callback\"+stlib.functionCount;stlib.functions[j]=k;stlib.functionCount++;setInterval(\"stlib.functions['\"+g+\"'](stlib.functions['\"+j+\"'])\",200)}else{}var i=window.addEventListener?\"addEventListener\":\"attachEvent\";var f=i==\"attachEvent\"?\"onmessage\":\"message\";window[i](f,function(l){if(h==window){}else{if(l.origin.indexOf(\"sharethis.com\")!=-1){if(l.data.match(/#Pinterest Click/)){stlib.sharer.sharePinterest()}if(l.data.match(/#Print Click/)){stlib.sharer.stPrint()}}}},false);return}var i=window.addEventListener?\"addEventListener\":\"attachEvent\";var f=i==\"attachEvent\"?\"onmessage\":\"message\";window[i](f,function(l){if(h==window){_$d1(\"arrived in iframe from:\");_$d(l.origin);if(l.data.match(/#fragmentPump/)||l.data.match(/#Buttons Ready/)||l.data.match(/#Widget Ready/)||l.data.indexOf(\"#light\")==0||l.data.indexOf(\"#widget\")==0||l.data.indexOf(\"#popup\")==0||l.data.indexOf(\"#show\")==0||l.data.indexOf(\"#init\")==0||l.data.indexOf(\"#test\")==0||l.data.indexOf(\"#data\")==0){k(l.data)}}else{if(l.origin.indexOf(\"sharethis.com\")!=-1){_$d1(\"arrived in parent from:\");_$d(l.origin);if(l.data.match(/#fragmentPump/)||l.data.match(/#Buttons Ready/)||l.data.match(/#Widget Ready/)||l.data.indexOf(\"#light\")==0||l.data.indexOf(\"#widget\")==0||l.data.indexOf(\"#popup\")==0||l.data.indexOf(\"#show\")==0||l.data.indexOf(\"#init\")==0||l.data.indexOf(\"#test\")==0||l.data.indexOf(\"#data\")==0){k(l.data)}else{if(l.data.match(/#Pinterest Click/)){stlib.sharer.sharePinterest()}else{if(l.data.match(/#Print Click/)){stlib.sharer.stPrint()}}}}else{_$d1(\"discarded event from:\");_$d(l.origin)}}},false)};this.broadcastInit(a);this.receiverInit(d,e)};stlib.json={c:{\"\\b\":\"b\",\"\\t\":\"t\",\"\\n\":\"n\",\"\\f\":\"f\",\"\\r\":\"r\",'\"':'\"',\"\\\\\":\"\\\\\",\"/\":\"/\"},d:function(a){return a<10?\"0\".concat(a):a},e:function(c,f,e){e=eval;delete eval;if(typeof eval===\"undefined\"){eval=e}f=eval(\"\"+c);eval=e;return f},i:function(d,b,a){return 1*d.substr(b,a)},p:[\"\",\"000\",\"00\",\"0\",\"\"],rc:null,rd:/^[0-9]{4}\\-[0-9]{2}\\-[0-9]{2}T[0-9]{2}:[0-9]{2}:[0-9]{2}$/,rs:/(\\x5c|\\x2F|\\x22|[\\x0c-\\x0d]|[\\x08-\\x0a])/g,rt:/^([0-9]+|[0-9]+[,\\.][0-9]{1,3})$/,ru:/([\\x00-\\x07]|\\x0b|[\\x0e-\\x1f])/g,s:function(a,b){return\"\\\\\".concat(stlib.json.c[b])},u:function(a,b){var e=b.charCodeAt(0).toString(16);return\"\\\\u\".concat(stlib.json.p[e.length],e)},v:function(b,a){return stlib.json.types[typeof result](result)!==Function&&(a.hasOwnProperty?a.hasOwnProperty(b):a.constructor.prototype[b]!==a[b])},types:{\"boolean\":function(){return Boolean},\"function\":function(){return Function},number:function(){return Number},object:function(a){return a instanceof a.constructor?a.constructor:null},string:function(){return String},\"undefined\":function(){return null}},$$:function(a){function b(f,d){d=f[a];delete f[a];try{stlib.json.e(f)}catch(e){f[a]=d;return 1}}return b(Array)&&b(Object)},encode:function(){var d=arguments.length?arguments[0]:this,a,h;if(d===null){a=\"null\"}else{if(d!==undefined&&(h=stlib.json.types[typeof d](d))){switch(h){case Array:a=[];for(var g=0,e=0,b=d.length;e<b;e++){if(d[e]!==undefined&&(h=stlib.json.encode(d[e]))){a[g++]=h}}a=\"[\".concat(a.join(\",\"),\"]\");break;case Boolean:a=String(d);break;case Date:a='\"'.concat(d.getFullYear(),\"-\",stlib.json.d(d.getMonth()+1),\"-\",stlib.json.d(d.getDate()),\"T\",stlib.json.d(d.getHours()),\":\",stlib.json.d(d.getMinutes()),\":\",stlib.json.d(d.getSeconds()),'\"');break;case Function:break;case Number:a=isFinite(d)?String(d):\"null\";break;case String:a='\"'.concat(d.replace(stlib.json.rs,stlib.json.s).replace(stlib.json.ru,stlib.json.u),'\"');break;default:var g=0,f;a=[];for(f in d){if(d[f]!==undefined&&(h=stlib.json.encode(d[f]))){a[g++]='\"'.concat(f.replace(stlib.json.rs,stlib.json.s).replace(stlib.json.ru,stlib.json.u),'\":',h)}}a=\"{\".concat(a.join(\",\"),\"}\");break}}}return a},decode:function(a){if(typeof(a)==\"string\"){var d=null;try{if(/^[\\],:{}\\s]*$/.test(a.replace(/\\\\(?:[\"\\\\\\/bfnrt]|u[0-9a-fA-F]{4})/g,\"@\").replace(/\"[^\"\\\\\\n\\r]*\"|true|false|null|-?\\d+(?:\\.\\d*)?(?:[eE][+\\-]?\\d+)?/g,\"]\").replace(/(?:^|:|,)(?:\\s*\\[)+/g,\"\"))){d=window.JSON&&window.JSON.parse?window.JSON.parse(a):(new Function(\"return \"+a))();return d}else{return null}}catch(b){}}}};try{stlib.json.rc=new RegExp('^(\"(\\\\\\\\.|[^\"\\\\\\\\\\\\n\\\\r])*?\"|[,:{}\\\\[\\\\]0-9.\\\\-+Eaeflnr-u \\\\n\\\\r\\\\t])+?$')}catch(z){stlib.json.rc=/^(true|false|null|\\[.*\\]|\\{.*\\}|\".*\"|\\d+|\\d+\\.\\d+)$/}stlib.logger={loggerUrl:((\"https:\"==document.location.protocol)?\"https://\":\"http://\")+\"l.sharethis.com/\",productArray:new Array(),version:\"\",lang:\"en\",isFpEvent:false,constructParamString:function(){var a=stlib.data.pageInfo;var d=\"\";var b;for(b in a){if(!stlib.logger.isFpEvent&&(b==\"ufa\"||b==\"ufb\"||b==\"ufc\"||b==\"ufd\")){continue}d+=b+\"=\"+a[b]+\"&\"}a=stlib.data.shareInfo;for(b in a){d+=b+\"=\"+a[b]+\"&\"}return d.substring(0,d.length-1)},log:function(e,g){_$d_();_$d1(\"Log Event PageInfo:\");_$d(stlib.data.pageInfo);_$d1(\"Log Event ShareInfo:\");_$d(stlib.data.shareInfo);if(typeof(e)==\"undefined\"){_$de(\"event does not exist \\nFor help, contact support@sharethis.com\");return}if(stlib.data.pageInfo==null||stlib.data.shareInfo==null){_$de(\"stlib.logger does not have enough info to log \\nFor help, contact support@sharethis.com\");return}if(!stlib.data.get(\"url\",\"shareInfo\")){_$de(\"shareThisInfo.url do not exist \\nFor help, contact support@sharethis.com\");return}if(!stlib.data.get(\"sessionID\",\"pageInfo\")){_$de(\"sharePageInfo.sessionID do not exist \\nFor help, contact support@sharethis.com\");return}if(!stlib.data.get(\"destination\",\"shareInfo\")){if(e!=\"pview\"){_$de(\"shareThisInfo.destination do not exist \\nFor help, contact support@sharethis.com\");return}}if(!stlib.data.get(\"buttonType\",\"shareInfo\")){if(e!=\"pview\"){_$de(\"shareThisInfo.type do not exist \\nFor help, contact support@sharethis.com\");return}}if(!stlib.data.get(\"source\",\"shareInfo\")){_$de(\"shareThisInfo.source do not exist \\nFor help, contact support@sharethis.com\");return}if(e==\"pview\"){stlib.data.unset(\"destination\",\"shareInfo\");stlib.data.unset(\"buttonType\",\"shareInfo\")}else{stlib.data.unset(\"refDomain\",\"pageInfo\");stlib.data.unset(\"refQuery\",\"pageInfo\")}if(e==\"pview\"||e==\"share\"){stlib.logger.isFpEvent=true;if(stlib.stfp.screenResolutionDepthHash!=\"ERROR\"){stlib.data.set(\"ufa\",stlib.stfp.screenResolutionDepthHash,\"pageInfo\")}if(stlib.stfp.pluginsListHash!=\"ERROR\"){stlib.data.set(\"ufb\",stlib.stfp.pluginsListHash,\"pageInfo\")}if(stlib.stfp.fontsListHash!=\"ERROR\"){stlib.data.set(\"ufc\",stlib.stfp.fontsListHash,\"pageInfo\")}if(stlib.stfp.timezoneoffsetHash!=\"ERROR\"){stlib.data.set(\"ufd\",stlib.stfp.timezoneoffsetHash,\"pageInfo\")}}else{stlib.logger.isFpEvent=false}if(typeof(stlib.data.get(\"counter\",\"shareInfo\"))!=\"undefined\"){var d=0;if(stlib.data.get(\"counter\",\"shareInfo\")){d=stlib.data.get(\"counter\",\"shareInfo\")}stlib.data.set(\"ts\"+new Date().getTime()+\".\"+d,\"\",\"shareInfo\");stlib.data.unset(\"counter\",\"shareInfo\")}else{stlib.data.set(\"ts\"+new Date().getTime(),\"\",\"shareInfo\")}var a=(e==\"pview\")?\"pview\":((e==\"debug\")?\"cns\":\"log\");if(e==\"pview\"){var f=stlib.logger.loggerUrl+a+\"?event=\"+e+\"&product=\"+stlib.logger.productArray+\"&version=\"+stlib.logger.version+\"&lang=\"+stlib.logger.lang+\"&\"+stlib.logger.constructParamString()}else{var f=stlib.logger.loggerUrl+a+\"?event=\"+e+\"&\"+stlib.logger.constructParamString()}_$d1(\"Final Log Url:\");_$d2(f);var b=new Image(1,1);b.src=f;b.onload=function(){return};g?g():null}};stlib.scriptLoader={loadJavascript:function(b,d){_$d_();_$d1(\"Loading JS: \"+b);var a=stlib.scriptLoader;a.head=document.getElementsByTagName(\"head\")[0];a.scriptSrc=b;a.script=document.createElement(\"script\");a.script.setAttribute(\"type\",\"text/javascript\");a.script.setAttribute(\"src\",a.scriptSrc);a.script.async=true;if(window.attachEvent&&document.all){a.script.onreadystatechange=function(){if(this.readyState==\"complete\"||this.readyState==\"loaded\"){d()}}}else{a.script.onload=d}a.s=document.getElementsByTagName(\"script\")[0];a.s.parentNode.insertBefore(a.script,a.s)},loadCSS:function(b,e){_$d_();_$d1(\"Loading CSS: \"+b);var a=stlib.scriptLoader;var d;a.head=document.getElementsByTagName(\"head\")[0];a.cssSrc=b;a.css=document.createElement(\"link\");a.css.setAttribute(\"rel\",\"stylesheet\");a.css.setAttribute(\"type\",\"text/css\");a.css.setAttribute(\"href\",b);a.css.setAttribute(\"id\",b);setTimeout(function(){e();if(!document.getElementById(b)){d=setInterval(function(){if(document.getElementById(b)){clearInterval(d);e()}},100)}},100);a.head.appendChild(a.css)}};stlib.nativeButtons={supportedNativeButtons:{linkedinfollow:{log:true,config:true,dependencyLoaded:false,dependencyLoading:false,requiredFields:[[\"st_followId\",\"Profile Id\",\"Enter '207839' for profile id\"]]},twitterfollow:{log:false,config:true,requiredFields:[[\"st_username\",\"Username\",\"Enter 'sharethis' for username\"]]},pinterestfollow:{log:true,config:true,requiredFields:[[\"st_username\",\"Username\",\"Enter 'sharethis' for username\"]]},youtube:{log:true,config:true,requiredFields:[[\"st_username\",\"Username\",\"Enter 'sharethis' for username\"]]},foursquaresave:{log:false,config:true,dependencyLoaded:false,dependencyLoading:false},foursquarefollow:{log:false,config:true,requiredFields:[[\"st_username\",\"Username\",\"Enter 'sharethis' for username\"],[\"st_followId\",\"Follow id\",\"Enter '1234567' for follow id\"]]},googleplusfollow:{log:true,config:true,requiredFields:[[\"st_followId\",\"Page Id\",\"Enter '110967630299632321627' for page id\"]]},googleplusadd:{log:true,config:true,requiredFields:[[\"st_followId\",\"Profile Id\",\"Enter '113842823840690472625' for profile id\"]]}},loadService:function(a){if(a==\"foursquaresave\"||a==\"foursquarefollow\"){if(stlib.nativeButtons.supportedNativeButtons.foursquaresave.dependencyLoaded==false){if(stlib.nativeButtons.supportedNativeButtons.foursquaresave.dependencyLoading==false){stlib.nativeButtons.supportedNativeButtons.foursquaresave.dependencyLoading=true;var d=\"http://platform.foursquare.com/js/widgets.js\";var b={uid:\"606\"};if(\"https:\"==document.location.protocol){d=\"http://platform-s.foursquare.com/js/widgets.js\";b.secure=true}(function(){window.___fourSq=b;var e=document.createElement(\"script\");e.type=\"text/javascript\";e.src=d;e.async=true;var f=document.getElementsByTagName(\"script\")[0];e.onload=function(){fourSq.widget.Factory.go();stlib.nativeButtons.supportedNativeButtons.foursquaresave.dependencyLoaded=true;stlib.nativeButtons.supportedNativeButtons.foursquaresave.dependencyLoading=false};e.onreadystatechange=function(){if(this.readyState==\"complete\"||this.readyState==\"loaded\"){fourSq.widget.Factory.go();stlib.nativeButtons.supportedNativeButtons.foursquaresave.dependencyLoaded=true;stlib.nativeButtons.supportedNativeButtons.foursquaresave.dependencyLoading=false}};f.parentNode.insertBefore(e,f)})()}}else{fourSq.widget.Factory.go()}}else{if(a==\"pinterestfollow\"){}else{if(a==\"twitterfollow\"){}else{if(a==\"youtube\"){}else{if(a==\"linkedinfollow\"){if(window.IN&&typeof(window.IN.parse)===\"function\"){window.IN.parse()}else{if(stlib.nativeButtons.supportedNativeButtons.linkedinfollow.dependencyLoading==false){stlib.nativeButtons.supportedNativeButtons.linkedinfollow.dependencyLoading=true;var d=\"//platform.linkedin.com/in.js\";(function(){var e=document.createElement(\"script\");e.type=\"text/javascript\";e.src=d;e.async=true;var f=document.getElementsByTagName(\"script\")[0];e.onload=function(){stlib.nativeButtons.supportedNativeButtons.linkedinfollow.dependencyLoading=false};e.onreadystatechange=function(){if(this.readyState==\"complete\"||this.readyState==\"loaded\"){stlib.nativeButtons.supportedNativeButtons.linkedinfollow.dependencyLoading=false}};f.parentNode.insertBefore(e,f)})()}}}else{}}}}}},logService:function(a,b){stlib.data.resetShareData();stlib.data.set(\"url\",b,\"shareInfo\");stlib.data.set(\"destination\",a,\"shareInfo\");stlib.data.setSource(\"chicklet\");stlib.data.set(\"buttonType\",\"chicklet\",\"shareInfo\");stlib.sharer.share()},makeButton:function(w,e,d){if(w==\"foursquaresave\"){try{var k=document.createElement(\"<div></div>\");var i=document.createElement(\"<a></a>\")}catch(h){k=document.createElement(\"div\");i=document.createElement(\"a\")}k.className=\"stNativeButton stFourSquare\";i.setAttribute(\"href\",\"https://foursquare.com/intent/venue.html\");i.setAttribute(\"class\",\"fourSq-widget\");i.setAttribute(\"data-on-open\",\"foursquareCallback\");k.appendChild(i);return k}else{if(w==\"foursquarefollow\"){if(typeof(d.username)==\"undefined\"||d.username==\"\"){return false}if(typeof(d.followId)==\"undefined\"||d.followId==\"\"){return false}try{var k=document.createElement(\"<div></div>\");var i=document.createElement(\"<a></a>\")}catch(h){k=document.createElement(\"div\");i=document.createElement(\"a\")}k.className=\"stNativeButton stFourSquare\";i.setAttribute(\"href\",\"https://foursquare.com/user/\"+d.username);i.setAttribute(\"class\",\"fourSq-widget\");i.setAttribute(\"data-type\",\"follow\");i.setAttribute(\"data-fuid\",d.followId);i.setAttribute(\"data-on-open\",\"foursquareCallback\");k.appendChild(i);return k}else{if(w==\"googleplusfollow\"||w==\"googleplusadd\"){if(typeof(d.followId)==\"undefined\"||d.followId==\"\"){return false}try{var q=document.createElement(\"<span></span>\")}catch(h){q=document.createElement(\"span\")}q.className=\"stNativeButton stGoogleNative\";var o=document.createElement(\"g:plus\");o.setAttribute(\"href\",\"https://plus.google.com/\"+d.followId);o.setAttribute(\"width\",\"300\");o.setAttribute(\"height\",\"69\");q.appendChild(o);return q}else{if(w==\"pinterestfollow\"){if(typeof(d.username)==\"undefined\"||d.username==\"\"){return false}try{var b=document.createElement(\"<span></span>\");var p=document.createElement(\"<a></a>\");var n=document.createElement(\"<img></img>\")}catch(h){b=document.createElement(\"span\");p=document.createElement(\"a\");n=document.createElement(\"img\")}b.className=\"stNativeButton stPinterestfollow\";var g=d.username;p.setAttribute(\"target\",\"_blank\");p.setAttribute(\"href\",\"//pinterest.com/\"+g+\"/\");n.setAttribute(\"src\",\"//passets-cdn.pinterest.com/images/follow-on-pinterest-button.png\");n.setAttribute(\"width\",\"156\");n.setAttribute(\"height\",\"26\");n.setAttribute(\"alt\",\"Follow \"+g+\" on Pinterest\");p.appendChild(n);b.appendChild(p);return b}else{if(w==\"twitterfollow\"){if(typeof(d.username)==\"undefined\"||d.username==\"\"){return false}try{var j=document.createElement(\"<iframe></iframe>\")}catch(h){j=document.createElement(\"iframe\")}var l=\"&screen_name=\"+d.username;var r=\"&show_count=false\";iedocmode=stlib.browser.getIEVersion();var v=\"\";if(e==\"vcount\"){r=\"&show_count=true\"}else{if(e==\"hcount\"){r=\"&show_count=true\"}}j.setAttribute(\"allowtransparency\",\"true\");j.setAttribute(\"frameborder\",\"0\");j.setAttribute(\"scrolling\",\"no\");j.className=\"stTwitterFollowFrame\";j.setAttribute(\"src\",\"//platform.twitter.com/widgets/follow_button.html?lang=en&show_screen_name=false\"+l+r);var u=document.createElement(\"span\");u.className=\"stNativeButton stTwitterFollowFrame stTwitterFollow\";u.appendChild(j);return u}else{if(w==\"youtube\"){if(typeof(d.username)==\"undefined\"||d.username==\"\"){return false}try{var m=document.createElement(\"<span></span>\");var f=document.createElement(\"<a></a>\");var a=document.createElement(\"<img></img>\")}catch(h){m=document.createElement(\"span\");f=document.createElement(\"a\");a=document.createElement(\"img\")}m.setAttribute(\"class\",\"stNativeButton stYoutube\");var g=d.username;f.setAttribute(\"target\",\"_blank\");f.setAttribute(\"href\",\"//youtube.com/subscription_center?add_user=\"+g);a.setAttribute(\"src\",\"//s.ytimg.com/yt/img/creators_corner/Subscribe_to_my_videos/YT_Subscribe_130x36_red.png\");a.setAttribute(\"alt\",\"Follow \"+g+\" on youtube\");f.appendChild(a);m.appendChild(f);return m}else{if(w==\"linkedinfollow\"){if(typeof(d.followId)==\"undefined\"||d.followId==\"\"){return false}var s=document.createElement(\"span\");s.setAttribute(\"class\",\"stNativeButton stLinkedinfollow\");var t=document.createElement(\"script\");t.type=\"text/javascript\";t.setAttribute(\"type\",\"IN/FollowCompany\");t.setAttribute(\"data-id\",d.followId);t.setAttribute(\"data-counter\",\"none\");if(e==\"vcount\"){t.setAttribute(\"data-counter\",\"top\")}else{if(e==\"hcount\"){t.setAttribute(\"data-counter\",\"right\")}}s.appendChild(t);return s}else{}}}}}}}},checkNativeButtonSupport:function(a){if(stlib.nativeButtons.supportedNativeButtons[a]){return true}return false},checkNativeButtonLogging:function(a){if(stlib.nativeButtons.supportedNativeButtons[a]){return stlib.nativeButtons.supportedNativeButtons[a].log}return false},checkNativeButtonConfig:function(a){if(stlib.nativeButtons.supportedNativeButtons[a]){return stlib.nativeButtons.supportedNativeButtons[a].config}return false}};foursquareCallback=function(d){if(d){var a=\"foursquaresave\";var b=\"https://foursquare.com/intent/venue.html\";if(d.config.type){a=\"foursquarefollow\";b=\"https://foursquare.com/user/\"+d.config.fuid}stlib.nativeButtons.logService(a,b)}};stlib.nativeCounts={nativeCountServices:{linkedin:true,facebook:true,stumbleupon:true},nativeFunc:[],addNativeFunc:function(b,a){stlib.nativeCounts.nativeFunc[b]=a},getNativeCounts:function(d,b,a){switch(d){case\"facebook\":stlib.scriptLoader.loadJavascript(((\"https:\"==document.location.protocol)?\"https://\":\"http://\")+\"api.facebook.com/method/fql.query?format=json&query=select url, like_count, total_count, comment_count, share_count, click_count from link_stat where url='\"+encodeURIComponent(b)+\"'&callback=\"+a,function(){});break;case\"linkedin\":stlib.scriptLoader.loadJavascript(((\"https:\"==document.location.protocol)?\"https://\":\"http://\")+\"www.linkedin.com/countserv/count/share?format=jsonp&callback=\"+a+\"&url=\"+encodeURIComponent(b),function(){});break;case\"stumbleupon\":stlib.scriptLoader.loadJavascript(((\"https:\"==document.location.protocol)?\"https://\":\"http://\")+\"www.stumbleupon.com/services/1.1/badge.getinfo?url=\"+encodeURIComponent(b)+\"&format=jsonp&callback=\"+a,function(){});break}},checkNativeCountServicesQueue:function(a){if(stlib.nativeCounts.nativeCountServices[a]){return true}return false}};var stWidgetVersion=false;if(typeof(switchTo5x)==\"undefined\"){stWidgetVersion=\"4x\"}else{if(switchTo5x==false){stWidgetVersion=\"4x\"}if(switchTo5x==true){stWidgetVersion=\"5xa\"}}var stShowNewMobileWidget=false;__stgetPubGA=function(){if(typeof(_gaq)!==\"undefined\"&&typeof(__stPubGA)==\"undefined\"){if(typeof(_gat)!==\"undefined\"){__stPubGA=_gat._getTrackerByName(\"~0\")._getAccount()}if(typeof(__stPubGA)!==\"undefined\"&&__stPubGA==\"UA-XXXXX-X\"){_gaq.push(function(){var a=_gat._getTrackerByName();__stPubGA=a._getAccount()})}}else{if(typeof(ga)!==\"undefined\"&&typeof(__stPubGA)==\"undefined\"){ga(function(){var f=ga.getAll();for(var b=0;b<f.length;++b){var d=f[b];var a=d.get(\"trackingId\");var e=a.indexOf(\"UA\");if(e>=0){__stPubGA=a}}})}}if(__stPubGA==\"UA-XXXXX-X\"){delete __stPubGA}};if(typeof(stLight)==\"undefined\"&&typeof(SHARETHIS)==\"undefined\"){var isMobileButtonLoaded=false;var stRecentServices=false;var iswhatsappCustomButton=false;if(typeof(switchTo5x)==\"undefined\"){stWidgetVersion=\"4x\"}else{if(switchTo5x==false){stWidgetVersion=\"4x\"}if(switchTo5x==true){stWidgetVersion=\"5xa\"}}var esiLoaded=false,esiStatus=\"\",stIsLoggedIn=false,servicesLoggedIn={};var stFastShareObj={};stFastShareObj.shorten=true;if(typeof(useEdgeSideInclude)==\"undefined\"){var useEdgeSideInclude=true}if(\"https:\"==document.location.protocol){var useFastShare=false;var useEdgeSideInclude=false}if(typeof(useFastShare)==\"undefined\"){var useFastShare=true}stLight=new function(){this.version=false;this.publisher=null;this.sessionID_time=(new Date()).getTime().toString();this.sessionID_rand=Number(Math.random().toPrecision(5).toString().substr(2)).toString();this.sessionID=this.sessionID_time+\".\"+this.sessionID_rand;this.fpc=null;this.counter=0;this.readyRun=false;this.meta={hostname:document.location.host,location:document.location.pathname};this.loadedFromBar=false;this.clickCallBack=false};stLight.onReady=function(){if(stLight.readyRun==true){return false}stLight.readyRun=true;stlib.stfp.init();stLight.getAllAppDefault(function(){stlib.data.init();stLight.fpc=stlib.data.get(\"fpc\",\"pageInfo\");if(stButtons.messageQueueInstance==null){stButtons.messageQueueInstance=new stlib.messageQueue()}stLight.processSTQ();if(stLight.publisher==null){if(typeof(window.console)!==\"undefined\"){try{console.debug(\"Please specify a ShareThis Publisher Key \\nFor help, contact support@sharethis.com\")}catch(a){}}}var b=stLight.getSource();if(stLight.hasButtonOnPage()){if(b==\"share4x\"||b==\"bar_share4x\"){stlib.logger.productArray.push(\"Chicklet4x\")}else{if(b==\"share5x\"||b==\"bar_share5x\"){stlib.logger.productArray.push(\"Chicklet5x\")}}}if(typeof st_hover_widget!=\"undefined\"){stlib.logger.productArray.push(\"HoverBar\")}if(typeof st_pulldown_widget!=\"undefined\"){stlib.logger.productArray.push(\"PullDownBar\")}if(typeof st_bar_widget!=\"undefined\"){stlib.logger.productArray.push(\"ShareBar\")}if(typeof st_service_widget!=\"undefined\"){stlib.logger.productArray.push(\"ShareNow\")}if(typeof stlib.shareEgg!=\"undefined\"){stlib.logger.productArray.push(\"ShareEgg\")}if(typeof st_disc_widget!=\"undefined\"){stlib.logger.productArray.push(\"TrendingWidget\")}stlib.logger.version=\"buttons.js\";if((stWidget.options.lang!==\"undefined\")&&(stWidget.options.lang!==\"\")){stlib.logger.lang=stWidget.options.lang}else{stlib.logger.lang=\"en\"}stLight.log(\"pview\",b);stWidget.options.sessionID=stLight.sessionID;stWidget.options.fpc=stLight.fpc;stLight.loadServicesLoggedIn(function(){stButtons.onReady()})})};stLight.getSource=function(){var a=\"share4x\";if(stWidgetVersion==\"5xa\"){a=\"share5x\"}if(stLight.hasButtonOnPage()){if(stLight.loadedFromBar){if(stWidgetVersion==\"5xa\"){a=\"bar_share5x\"}else{a=\"bar_share4x\"}}}else{if(stLight.loadedFromBar){a=\"bar\"}}return a};stLight.getSource2=function(a){var d=\"share4x\";if(stWidgetVersion==\"5xa\"){d=\"share5x\";try{if(stLight.clickCallBack!=false){stLight.clickCallBack(a.service)}}catch(b){}}if(a.type==\"stbar\"||a.type==\"stsmbar\"){d=\"bar\"}return d};stLight.log=function(d,e,a,b){stlib.data.resetShareData();stlib.data.set(\"url\",document.location.href,\"shareInfo\");stlib.data.set(\"title\",document.title,\"shareInfo\");stlib.data.set(\"counter\",stLight.counter++,\"shareInfo\");stlib.data.setSource(e);if(typeof(a)!=\"undefined\"){stlib.data.set(\"destination\",a,\"shareInfo\")}if(typeof(b)!=\"undefined\"){stlib.data.set(\"buttonType\",b,\"shareInfo\")}stlib.logger.log(d);if(d==\"pview\"){stLight.createSegmentFrame()}};stLight._stFpc=function(){if(!document.domain||document.domain.search(/\\.gov/)>0){return false}var h=stLight._stGetFpc(\"__unam\");if(h==false){var d=Math.round(Math.random()*2147483647);d=d.toString(16);var i=(new Date()).getTime();i=i.toString(16);var f=\"\";var a=stLight._stGetD();a=a.split(/\\./)[1];if(!a){return false}f=stLight._stdHash(a)+\"-\"+i+\"-\"+d+\"-1\";h=f;stLight._stSetFpc(h)}else{var b=h;var g=b.split(/\\-/);if(g.length==4){var e=Number(g[3]);e++;b=g[0]+\"-\"+g[1]+\"-\"+g[2]+\"-\"+e;h=b;stLight._stSetFpc(h)}}return h};stLight._stSetFpc=function(h){var a=\"__unam\";var d=new Date;var j=d.getFullYear();var g=d.getMonth()+9;var i=d.getDate();var e=a+\"=\"+escape(h);if(j){var b=new Date(j,g,i);e+=\"; expires=\"+b.toGMTString()}var f=stLight._stGetD();e+=\"; domain=\"+escape(f)+\";path=/\";document.cookie=e};stLight._stGetD=function(){var b=document.domain.split(/\\./);var a=\"\";if(b.length>1){a=\".\"+b[b.length-2]+\".\"+b[b.length-1]}return a};stLight._stGetFpc=function(b){var a=document.cookie.match(\"(^|;) ?\"+b+\"=([^;]*)(;|$)\");if(a){return(unescape(a[2]))}else{return false}};stLight._stdHash=function(a){var f=0,e=0;for(var d=a.length-1;d>=0;d--){var b=parseInt(a.charCodeAt(d));f=((f<<8)&268435455)+b+(b<<12);if((e=f&161119850)!=0){f=(f^(e>>20))}}return f.toString(16)};stLight._thisScript=null;stLight.getShareThisLightScript=function(){var e=document.getElementsByTagName(\"script\");var d=null;for(var b=0;b<e.length;b++){var a=e[b].src;if(a.search(/.*sharethis.*\\/button\\/light.*/)>=0){d=e[b]}}return d};stLight.dbrInfo=function(){var j=document.referrer;if(j&&j.length>0){var h=/\\/\\/.*?\\//;var e=j.match(h);if(typeof(e)!==\"undefined\"&&typeof(e[0])!==\"undefined\"){var b=new RegExp(document.domain,\"gi\");if(b.test(e[0])==true){return false}}var g=/(http:\\/\\/)(.*?)\\/.*/i;var f=/(^.*\\?)(.*)/ig;var a=\"\";var d=j.replace(g,\"$2\");var b=new RegExp(d,\"gi\");if(d.length>0){a+=\"&refDomain=\"+d}else{return false}var i=j.replace(f,\"$2\");if(i.length>0){a+=\"&refQuery=\"+encodeURIComponent(i)}return a}else{return false}};stLight.odjs=function(a,b){this.head=document.getElementsByTagName(\"head\")[0];this.scriptSrc=a;this.script=document.createElement(\"script\");this.script.setAttribute(\"type\",\"text/javascript\");this.script.setAttribute(\"src\",this.scriptSrc);if(window.attachEvent&&document.all){this.script.onreadystatechange=function(){if(this.readyState==\"complete\"||((a.indexOf(\"getAllAppDefault.esi\")!=-1||a.indexOf(\"checkOAuth.esi\")!=-1)&&this.readyState==\"loaded\")){b()}}}else{this.script.onload=b}this.head.appendChild(this.script)};stLight.getAppDefault=function(b,h,f){if(useEdgeSideInclude){var a=\"cb=\"+h;var g=\"&app=\"+b;var d=\"&publisher=\"+((stLight.publisher!=null)?stLight.publisher:\"ur.00000000-0000-0000-0000-000000000000\");var e=\"&domain=\"+document.location.hostname.replace(/^www\\./,\"\");stLight.odjs(\"http://wd-edge.sharethis.com/button/getAllAppDefault.esi?\"+a+g+d+e,function(){if(f!=null){f()}})}else{if(b==\"cns\"){if(stWidget.options.doNotHash==null){stlib.hash.doNotHash=stWidget.options.doNotHash=true}if(stWidget.options.hashAddressBar==null){stlib.hash.hashAddressBar=stWidget.options.hashAddressBar=false}if(stWidget.options.doNotCopy==null){stlib.hash.doNotCopy=stWidget.options.doNotCopy=true}}else{if(b==\"snapsets\"){if(stWidget.options.snapsets==null){stWidget.options.snapsets=false}}}if(f!=null){f()}}};stLight.getAllAppDefault=function(e){if(useEdgeSideInclude){if(esiStatus==\"loading\"){if(e!=null){stButtons.cbAppQueue.push(e)}return}else{if(esiStatus==\"loaded\"){if(e!=null){e()}return}}esiStatus=\"loading\";var a=\"cb=stLight.allDefault\";var f=\"&app=all\";var b=\"&publisher=\"+((stLight.publisher!=null)?stLight.publisher:\"ur.00000000-0000-0000-0000-000000000000\");var d=\"&domain=\"+document.location.hostname.replace(/^www\\./,\"\");stLight.odjs(\"http://wd-edge.sharethis.com/button/getAllAppDefault.esi?\"+a+f+b+d,function(){esiStatus=\"loaded\";for(var g=0;g<stButtons.cbAppQueue.length;g++){stButtons.cbAppQueue[g]()}stButtons.cbAppQueue=[];if(e!=null){e()}})}else{if(name==\"cns\"){if(stWidget.options.doNotHash==null){stlib.hash.doNotHash=stWidget.options.doNotHash=true}if(stWidget.options.hashAddressBar==null){stlib.hash.hashAddressBar=stWidget.options.hashAddressBar=false}if(stWidget.options.doNotCopy==null){stlib.hash.doNotCopy=stWidget.options.doNotCopy=true}}else{if(name==\"snapsets\"){if(stWidget.options.snapsets==null){stWidget.options.snapsets=false}}}if(e!=null){e()}}};stLight.allDefault=function(a){if(a){if(a.cns){stLight.cnsDefault(a.cns)}if(a.snapsets){stLight.snapSetsDefault(a.snapsets)}if(a.migration){stLight.migrationDefault(a.migration)}else{stLight.usePublisherDefaultSettings()}if(a.mobileWidget){stLight.mobileWidgetSetsDefault(a.mobileWidget)}else{if(typeof(stLight.mobileWidget)!=\"undefined\"){stLight.setUserDefinedMobileParameter()}}}else{stLight.usePublisherDefaultSettings()}};stLight.mobileWidgetSetsDefault=function(a){if(typeof(stLight.mobileWidget)!=\"undefined\"){stLight.setUserDefinedMobileParameter()}else{if(a){stShowNewMobileWidget=a.mobileWidget}}};stLight.setUserDefinedMobileParameter=function(){if(stLight.mobileWidget===true||stLight.mobileWidget===\"true\"){stShowNewMobileWidget=true}else{if(stLight.mobileWidget===false||stLight.mobileWidget===\"false\"){stShowNewMobileWidget=false}else{stShowNewMobileWidget=false}}};stLight.usePublisherDefaultSettings=function(){if(typeof(switchTo5x)==\"undefined\"){stWidgetVersion=\"4x\"}else{if(switchTo5x==false){stWidgetVersion=\"4x\"}if(switchTo5x==true){stWidgetVersion=\"5xa\"}}if(typeof(stLight.mobileWidget)!=\"undefined\"){stLight.setUserDefinedMobileParameter()}};stLight.migrationDefault=function(a){if(stWidget.skipESIValue==false){if(stLight.version){stWidgetVersion=stLight.version}else{if((stWidget.options.lang==\"\")||(stWidget.options.lang==\"en\")){if((typeof(a)!==\"undefined\")&&(a.version!==\"\")){if(a.version==\"5x\"){stWidgetVersion=\"5xa\"}else{stWidgetVersion=a.version}}}if(stWidgetVersion==false){stLight.usePublisherDefaultSettings()}else{stWidget.options.publisherMigration=true}}}if(stWidgetVersion==\"5x\"||stLight.version==\"5x\"){stWidgetVersion=\"5xa\"}};stLight.snapSetsDefault=function(a){if(a){if(a.override){stWidget.options.snapsets=a.snapsets}else{if(stWidget.options.snapsets==null){stWidget.options.snapsets=a.snapsets}}}};stLight.cnsDefault=function(a){if(a){if(a.override){stWidget.options.doNotHash=a.doNotHash;stWidget.options.hashAddressBar=a.hashAddressBar;stWidget.options.doNotCopy=a.doNotCopy}else{if(stWidget.options.doNotHash==null){stWidget.options.doNotHash=a.doNotHash}if(stWidget.options.hashAddressBar==null){stWidget.options.hashAddressBar=a.hashAddressBar}if(stWidget.options.doNotCopy==null){stWidget.options.doNotCopy=a.doNotCopy}}stlib.hash.doNotHash=stWidget.options.doNotHash=(/true/i).test(stWidget.options.doNotHash)?true:false;stlib.hash.hashAddressBar=stWidget.options.hashAddressBar=(/true/i).test(stWidget.options.hashAddressBar)?true:false;stlib.hash.doNotCopy=stWidget.options.doNotCopy=(/true/i).test(stWidget.options.doNotCopy)?true:false}};stLight.loadServicesLoggedIn=function(b){if(useFastShare&&esiLoaded==false){try{stLight.odjs(((\"https:\"==document.location.protocol)?\"https://wd-edge.sharethis.com/button/checkOAuth.esi\":\"http://wd-edge.sharethis.com/button/checkOAuth.esi\"),function(){if(typeof(userDetails)!==\"undefined\"){stIsLoggedIn=true;if(userDetails!==\"null\"){servicesLoggedIn=userDetails}}esiLoaded=true;if(b!=null){b()}})}catch(a){}}else{if(b!=null){b()}}};if(window.document.readyState==\"completed\"){stLight.onReady()}else{if(typeof(window.addEventListener)!=\"undefined\"){window.addEventListener(\"load\",stLight.onReady,false)}else{if(typeof(document.addEventListener)!=\"undefined\"){document.addEventListener(\"load\",stLight.onReady,false)}else{if(typeof window.attachEvent!=\"undefined\"){window.attachEvent(\"onload\",stLight.onReady)}}}}stLight.createSegmentFrame=function(){try{stLight.segmentframe=document.createElement('<iframe name=\"stframe\" allowTransparency=\"true\" style=\"body{background:transparent;}\" ></iframe>')}catch(b){stLight.segmentframe=document.createElement(\"iframe\")}stLight.segmentframe.id=\"stSegmentFrame\";stLight.segmentframe.name=\"stSegmentFrame\";var d=document.body;var a=((\"https:\"==document.location.protocol)?\"https://seg.\":\"http://seg.\")+\"sharethis.com/getSegment.php?purl=\"+encodeURIComponent(document.location.href)+\"&jsref=\"+encodeURIComponent(document.referrer)+\"&rnd=\"+(new Date()).getTime();stLight.segmentframe.src=a;stLight.segmentframe.frameBorder=\"0\";stLight.segmentframe.scrolling=\"no\";stLight.segmentframe.width=\"0px\";stLight.segmentframe.height=\"0px\";stLight.segmentframe.setAttribute(\"style\",\"display:none;\");d.appendChild(stLight.segmentframe)};stLight.options=function(a){if(a&&a.version){stLight.version=a.version}if(a&&typeof(a.mobileWidget)!=\"undefined\"){stLight.mobileWidget=a.mobileWidget}if(a&&a.publisher){stlib.data.setPublisher(a.publisher);stLight.publisher=a.publisher}if(a&&a.loadedFromBar){stLight.loadedFromBar=a.loadedFromBar}if(a&&a.clickCallBack&&typeof(a.clickCallBack)==\"function\"){stLight.clickCallBack=a.clickCallBack}if(a&&typeof(a.hashAddressBar)!=\"undefined\"){stlib.hash.hashAddressBar=a.hashAddressBar}if(a&&typeof(a.doNotHash)!=\"undefined\"){stlib.hash.doNotHash=a.doNotHash}if(a&&typeof(a.doNotCopy)!=\"undefined\"){stlib.hash.doNotCopy=a.doNotCopy}for(var b in a){if(b==\"shorten\"){stFastShareObj.shorten=a[b]}if(stWidget.options.hasOwnProperty(b)&&a[b]!==null){stWidget.options[b]=a[b]}}};stLight.hasButtonOnPage=function(){var f=document.getElementsByTagName(\"*\");var d=new RegExp(/^st_(.*?)$/);var a=f.length;for(var b=0;b<a;b++){if(typeof(f[b].className)==\"string\"&&f[b].className!=\"\"){if(f[b].className.match(/st_whatsapp_custom/g)&&!(stlib.browser.mobile.isIOs()||stlib.browser.mobile.isAndroid())&&!iswhatsappCustomButton){if(typeof(window.console)!==\"undefined\"){try{console.debug(\"WhatsApp custom button has support for iOS (iPhone) and android only and it will not work on any other platform.\");iswhatsappCustomButton=true}catch(e){}}}if(f[b].className.match(d)&&f[b].className.match(d).length>=2&&f[b].className.match(d)[1]){return true}}}return false}}var stButtons={};stButtons.smartifyButtons=function(a){if(typeof(a)!=\"undefined\"&&a!=\"undefined\"){stRecentServices=a;for(var b in stRecentServices){stRecentServices[b].processed=false}}stButtons.completeInit()};stButtons.makeButton=function(w){var g=w.service;var I=w.text;var Z=\"\";if(typeof(stWidget.options.shorten)!=\"undefined\"){Z=stWidget.options.shorten}if(I==null&&(w.type==\"vcount\"||w.type==\"hcount\")){I=\"Share\";if(g==\"email\"){I=\"Mail\"}}if(g==\"fb_like\"){g=\"fblike\"}else{if(g==\"fblike_fbLong\"){g=\"fblike\";w.type=\"fbLong\"}}var h=stWidget.ogurl?stWidget.ogurl:(stWidget.twitterurl?stWidget.twitterurl:document.location.href);h=w.url?w.url:h;var V=h;if(!stlib.hash.doNotHash){V=stlib.hash.appendHash(h);h=V}stlib.data.set(\"url\",V,\"shareInfo\");var O=(w.short_url!=null)?w.short_url:\"\";var L=stWidget.ogtitle?stWidget.ogtitle:(stWidget.twittertitle?stWidget.twittertitle:document.title);L=w.title?w.title:L;if(typeof(w.pinterest_native)==\"string\"){w.pinterest_native=w.pinterest_native.replace(/^\\s+|\\s+$/g,\"\")}if((g==\"weheartit\"||g==\"pinterest\")&&(w.pinterest_native==\"false\"||w.pinterest_native==null||w.pinterest_native==\"\")){var f=stWidget.ogimg?stWidget.ogimg:(stWidget.twitterimg?stWidget.twitterimg:(w.thumbnail?w.thumbnail:null));if(typeof(f)==\"string\"){f=f.replace(/^\\s+|\\s+$/g,\"\")}if(typeof(w.image)==\"string\"){w.image=w.image.replace(/^\\s+|\\s+$/g,\"\")}f=(w.image)?w.image:f}var aa=stWidget.desc?stWidget.desc:\"\";aa=stWidget.ogdesc?stWidget.ogdesc:(stWidget.twitterdesc?stWidget.twitterdesc:stWidget.desc);aa=(w.summary&&w.summary!=null)?w.summary:aa;var s=(w.message&&w.message!=null)?w.message:\"\";if(/(http|https):\\/\\//.test(h)==false){h=decodeURIComponent(h);L=decodeURIComponent(L)}if(/(http|https):\\/\\//.test(O)==false){O=decodeURIComponent(O)}var ag=document.createElement(\"span\");ag.setAttribute(\"style\",\"text-decoration:none;color:#000000;display:inline-block;cursor:pointer;\");ag.className=\"stButton\";if(w.type==\"custom\"&&g!=\"email\"&&g!=\"sharethis\"&&g!=\"wordpress\"){w.element.onclick=function(){_$d_();_$d1(\"Clicked on a custom button to share\");stLight.callSubscribers(\"click\",g,h);stlib.data.resetShareData();stlib.data.set(\"url\",h,\"shareInfo\");stlib.data.set(\"short_url\",O,\"shareInfo\");stlib.data.set(\"shorten\",Z,\"shareInfo\");stlib.data.set(\"title\",L,\"shareInfo\");stlib.data.set(\"destination\",g,\"shareInfo\");stlib.data.setSource(\"chicklet\");stlib.data.set(\"buttonType\",w.type,\"shareInfo\");if(typeof(pinterest_native)!=\"undefined\"&&pinterest_native!=null&&pinterest_native!=\" \"){stlib.data.set(\"pinterest_native\",pinterest_native,\"shareInfo\")}if(typeof(f)!=\"undefined\"&&f!=null&&f!=\" \"){stlib.data.set(\"image\",f,\"shareInfo\")}if(typeof(aa)!=\"undefined\"&&aa!=null){stlib.data.set(\"description\",aa,\"shareInfo\")}if(s!=\"\"){stlib.data.set(\"message\",s,\"shareInfo\")}if(w.element.getAttribute(\"st_username\")!=null){stlib.data.set(\"refUsername\",w.element.getAttribute(\"st_username\"),\"shareInfo\")}if(g==\"twitter\"&&w.element.getAttribute(\"st_via\")!=null){stlib.data.set(\"via\",w.element.getAttribute(\"st_via\").replace(/^\\s+|\\s+$/g,\"\"),\"shareInfo\")}stlib.sharer.share(null,stWidget.options.servicePopup);if(g==\"pinterest\"){stlib.sharer.sharePinterest()}if(g==\"print\"){stlib.sharer.stPrint()}};return false}if(!((g==\"email\"||g==\"sharethis\"||g==\"wordpress\")||(stIsLoggedIn&&servicesLoggedIn&&typeof(servicesLoggedIn[g])!=\"undefined\"&&((useFastShare||(!useFastShare&&switchTo5x))&&(g==\"facebook\"||g==\"twitter\"||g==\"yahoo\"||g==\"linkedin\"))))){ag.onclick=function(){if(!(stlib.browser.mobile.isIOs()||stlib.browser.mobile.isAndroid())&&(g==\"whatsapp\"&&window.location.pathname.indexOf(\"get-sharing-tools\")!=-1)){}else{_$d_();_$d1(\"Clicked on a regular button to share\");stLight.callSubscribers(\"click\",g,h);var b=this.getElementsByTagName(\"*\");for(var a=0;a<b.length;a++){if(b[a].className==\"stBubble_hcount\"||b[a].className==\"stBubble_count\"){if(!stWidget.options.nativeCount||!stlib.nativeCounts.checkNativeCountServicesQueue(g)){if(!isNaN(b[a].innerHTML)){b[a].innerHTML=Number(b[a].innerHTML)+1}}}}if(stWidget.options.tracking){shareLog(g,h)}stlib.data.resetShareData();var ai=\"\";var ah=stLight.getSource();if(ah==\"share5x\"){ai=\"5x\"}else{if(ah==\"share4x\"){ai=\"4x\"}}stlib.data.set(\"url\",h,\"shareInfo\");stlib.data.set(\"short_url\",O,\"shareInfo\");stlib.data.set(\"shorten\",Z,\"shareInfo\");stlib.data.set(\"title\",L,\"shareInfo\");stlib.data.set(\"destination\",g,\"shareInfo\");stlib.data.setSource(\"chicklet\"+ai);stlib.data.set(\"buttonType\",w.type,\"shareInfo\");if(typeof(pinterest_native)!=\"undefined\"&&pinterest_native!=null&&pinterest_native!=\" \"){stlib.data.set(\"pinterest_native\",pinterest_native,\"shareInfo\")}if(typeof(f)!=\"undefined\"&&f!=null){stlib.data.set(\"image\",f,\"shareInfo\")}if(typeof(aa)!=\"undefined\"&&aa!=null){stlib.data.set(\"description\",aa,\"shareInfo\")}if(s!=\"\"){stlib.data.set(\"message\",s,\"shareInfo\")}if(w.element.getAttribute(\"st_username\")!=null){stlib.data.set(\"refUsername\",w.element.getAttribute(\"st_username\"),\"shareInfo\")}if(g==\"twitter\"&&w.element.getAttribute(\"st_via\")!=null){stlib.data.set(\"via\",w.element.getAttribute(\"st_via\").replace(/^\\s+|\\s+$/g,\"\"),\"shareInfo\")}stlib.sharer.share(null,stWidget.options.servicePopup);if(g==\"pinterest\"&&(stlib.data.get(\"image\",\"shareInfo\")==false||stlib.data.get(\"image\",\"shareInfo\")==null)){stlib.sharer.sharePinterest()}if(g==\"print\"){stlib.sharer.stPrint()}}}}if(g==\"gbuzz\"){return ag}if(g==\"fblike\"||g==\"fbsend\"||g==\"fbrec\"||g==\"fbLong\"||g==\"fbsub\"){if(g==\"fbsub\"){if(w.element.getAttribute(\"st_username\")!=null){h=\"http://facebook.com/\"+w.element.getAttribute(\"st_username\")}else{h=\"\"}}return stButtons.makeFBButton(g,w.type,h)}if(stlib.nativeButtons.checkNativeButtonSupport(g)){var W={};if(w.element.getAttribute(\"st_username\")!=null){W.username=w.element.getAttribute(\"st_username\")}if(w.element.getAttribute(\"st_followId\")!=null){W.followId=w.element.getAttribute(\"st_followId\")}retObj=stlib.nativeButtons.makeButton(g,w.type,W);if(retObj){if(stlib.nativeButtons.checkNativeButtonLogging(g)){retObj.onclick=function(){stlib.nativeButtons.logService(g,h)}}return retObj}else{if(typeof(window.console)!==\"undefined\"){try{console.debug(\"Looks like \"+g+\" is missing some required parameters. Please recheck \"+g+\" HTML \\nFor help, contact support@sharethis.com\")}catch(ab){}}return ag}}if(g==\"plusone\"){stButtons.loadPlusone=true;var G=document.createElement(\"div\");G.innerHTML=\"&nbsp;\";iedocmode=stlib.browser.getIEVersion();var x=(navigator.userAgent.indexOf(\"MSIE 7.0\")!=-1);var i=(navigator.userAgent.indexOf(\"Safari\")!=-1&&navigator.userAgent.indexOf(\"Chrome\")==-1);var Q=\"display:inline-block;overflow:hidden;line-height:0px;\";var D=\"overflow:hidden;zoom:1;display:inline;vertical-align:bottom;\";var E=\"overflow:hidden;zoom:1;display:inline;line-height:0px;position:relative;\";var e=document.createElement(\"g:plusone\");var l=h;if((/#sthash/i).test(l)){var n=l.split(\"#\");if(n.length>0){l=n[0]}}e.setAttribute(\"href\",l);if(w.type==\"vcount\"){e.setAttribute(\"size\",\"tall\");G.setAttribute(\"style\",Q+\"vertical-align:bottom;width:55px; height:61px;\");x&&G.style.setAttribute?G.style.setAttribute(\"cssText\",Q+\"vertical-align:bottom;width:55px; height:61px;\",0):null;(iedocmode&&(iedocmode==7)&&G.style.setAttribute)?G.style.setAttribute(\"cssText\",E+\"vertical-align:bottom;bottom:-8px;width:55px; height:80px;\",0):(null)}else{if(w.type==\"hcount\"){e.setAttribute(\"size\",\"medium\");e.setAttribute(\"count\",\"true\");G.setAttribute(\"style\",Q+\"position:relative;vertical-align:middle;bottom:0px;width:75px; height:21px;\");x&&G.style.setAttribute?G.style.setAttribute(\"cssText\",Q+\"position:relative;vertical-align:middle;width:75px; height:21px;\",0):null;(iedocmode&&(iedocmode==7)&&G.style.setAttribute)?G.style.setAttribute(\"cssText\",E+\"vertical-align:middle;bottom:2px;width:75px; height:21px;\",0):(null)}else{if(w.type==\"button\"){e.setAttribute(\"size\",\"medium\");e.setAttribute(\"count\",\"false\");G.setAttribute(\"style\",Q+\"position:relative;vertical-align:middle;bottom:0px;width:36px; height:21px;\");x&&G.style.setAttribute?G.style.setAttribute(\"cssText\",Q+\"position:relative;vertical-align:middle;width:36px; height:21px;\",0):null;(iedocmode&&(iedocmode==7)&&G.style.setAttribute)?G.style.setAttribute(\"cssText\",E+\"vertical-align:middle;bottom:-8px;width:36px; height:39px;\",0):(null)}else{if(w.type==\"large\"){e.setAttribute(\"size\",\"large\");e.setAttribute(\"count\",\"false\");G.setAttribute(\"style\",Q+\"position:relative;vertical-align:middle;bottom:12px;width:38px; height:27px;\");x&&G.style.setAttribute?G.style.setAttribute(\"cssText\",Q+\"position:relative;vertical-align:middle;bottom:0px;width:38px; height:30px;\",0):null;(iedocmode&&((iedocmode==8)||(iedocmode==9))&&G.style.setAttribute)?G.style.setAttribute(\"cssText\",E+\"vertical-align:middle;bottom:7px;width:38px; height:39px;\",0):(null);(iedocmode&&(iedocmode==7)&&G.style.setAttribute)?G.style.setAttribute(\"cssText\",E+\"vertical-align:middle;bottom:1px;width:38px; height:39px;\",0):(null)}else{e.setAttribute(\"size\",\"small\");e.setAttribute(\"count\",\"false\");G.setAttribute(\"style\",Q+\"position:relative;vertical-align:middle;bottom:0px;width:36px; height:16px;\");x&&G.style.setAttribute?G.style.setAttribute(\"cssText\",Q+\"position:relative;vertical-align:middle;width:36px; height:16px;\",0):null;(iedocmode&&(iedocmode==7)&&G.style.setAttribute)?G.style.setAttribute(\"cssText\",E+\"vertical-align:middle;bottom:-12px;width:36px; height:36px;\",0):(null)}}}}G.appendChild(e);e.setAttribute(\"callback\",\"plusoneCallback\");return G}var j=(\"https:\"==document.location.protocol)?\"https://ws.sharethis.com/images/\":\"http://w.sharethis.com/images/\";var t=g;function o(a){var ah=new Date();var b=null;var ai=0;do{b=new Date();ai++;if(ai>a){break}}while(((b-ah)<a)||!esiLoaded)}if(!esiLoaded&&(g==\"facebook\"||g==\"twitter\"||g==\"linkedin\"||g==\"yahoo\")){o(500)}if(w.type==\"chicklet\"){var N=document.createElement(\"span\");N.className=\"chicklets \"+g;if(I==null){N.innerHTML=\"&nbsp;\";ag.style.paddingLeft=\"0px\";ag.style.paddingRight=\"0px\";ag.style.width=\"16px\"}else{N.appendChild(document.createTextNode(I))}ag.appendChild(N);return ag}else{if(w.type==\"large\"){var N=document.createElement(\"span\");N.className=\"stLarge\";ag.appendChild(N);N.style.backgroundImage=\"url('\"+j+t+\"_32.png')\";return ag}else{if(w.type==\"basic\"||w.type==\"circle\"||w.type==\"brushed\"||w.type==\"shiny\"){var N=document.createElement(\"span\");N.className=\"stLarge\";N.className=w.size==\"16\"?((w.type==\"brushed\"||w.type==\"shiny\")?\"stSmall2\":\"stSmall\"):N.className;N.className=w.size==\"64\"?\"stHuge\":N.className;ag.appendChild(N);N.style.backgroundImage=\"url('\"+j+w.type+\"/\"+w.size+\"/\"+t+(w.color?\"_\"+w.color:\"_\"+w.type)+\".png')\";return ag}else{if(w.type==\"pcount\"||w.type==\"stbar\"||w.type==\"stsmbar\"){var C=document.createElement(\"span\");var N=document.createElement(\"span\");if(w.type==\"stsmbar\"){N.className=\"stSmBar\";var j=(\"https:\"==document.location.protocol)?\"https://ws.sharethis.com/images/\":\"http://w.sharethis.com/images/\";N.style.backgroundImage=\"url('\"+j+t+\"_16.png')\"}else{N.className=\"stLarge\";var j=(\"https:\"==document.location.protocol)?\"https://ws.sharethis.com/images/\":\"http://w.sharethis.com/images/\";N.style.backgroundImage=\"url('\"+j+t+\"_32.png')\"}C.appendChild(N);var u=document.createElement(\"span\");var af=document.createElement(\"div\");if(w.type==\"stsmbar\"){af.className=\"stBubbleSmHoriz\"}else{af.className=\"stBubbleSm\"}af.setAttribute(\"id\",\"stBubble_\"+w.count);af.style.visibility=\"hidden\";var X=document.createElement(\"div\");X.className=\"stBubble_count_sm\";af.appendChild(X);u.appendChild(af);u.appendChild(C);ag.appendChild(u);stButtons.getCount2(h,g,X);C.onmouseover=function(){var a=document.getElementById(\"stBubble_\"+w.count);a.style.visibility=\"visible\"};C.onmouseout=function(){var a=document.getElementById(\"stBubble_\"+w.count);a.style.visibility=\"hidden\"};return ag}else{if(w.type==\"button\"||w.type==\"vcount\"||w.type==\"hcount\"){var C=document.createElement(\"span\");C.className=\"stButton_gradient\";var J=document.createElement(\"span\");J.className=\"chicklets \"+g;if(I==null){J.innerHTML=\"&nbsp;\"}else{J.appendChild(document.createTextNode(I))}C.appendChild(J);if(g==\"facebook\"||g==\"twitter\"||g==\"linkedin\"||g==\"yahoo\"||g==\"pinterest\"||g==\"sharethis\"||g==\"email\"){var v=document.createElement(\"span\");v.className=\"stMainServices st-\"+g+\"-counter\";v.innerHTML=\"&nbsp\";C=v;v.style.backgroundImage=\"url('\"+j+t+\"_counter.png')\";if(g==\"sharethis\"&&I!=null&&I.length<6){v.className=\"stMainServices st-\"+g+\"-counter2\";v.style.backgroundImage=\"url('\"+j+t+\"_counter2.png')\"}}if(w.type==\"vcount\"){var u=document.createElement(\"div\");var af=document.createElement(\"div\");af.className=\"stBubble\";var X=document.createElement(\"div\");X.className=\"stBubble_count\";af.appendChild(X);u.appendChild(af);u.appendChild(C);ag.appendChild(u);stButtons.getCount2(h,g,X)}else{if(w.type==\"hcount\"){var u=document.createElement(\"span\");var P=document.createElement(\"span\");P.className=\"stButton_gradient stHBubble\";var r=document.createElement(\"span\");r.className=\"stButton_left\";r.innerHTML=\"&nbsp;\";var y=document.createElement(\"span\");y.className=\"stButton_right\";y.innerHTML=\"&nbsp;\";var X=document.createElement(\"span\");X.className=\"stBubble_hcount\";P.appendChild(X);u.appendChild(C);var F=document.createElement(\"span\");F.className=\"stArrow\";F.appendChild(P);u.appendChild(F);ag.appendChild(u);stButtons.getCount2(h,g,X)}else{ag.appendChild(C)}}if(w.type==\"vcount\"||w.type==\"hcount\"){if(w.ctype==\"native\"){if(g==\"twitter\"){var Y=document.createElement(\"span\");Y.className=\"stButton\";var H=55;var ac=20;var T=\"\";var k=\"none\";var K=7;if(w.type==\"vcount\"){var q=document.createElement(\"div\");H=55;ac=62;T=\"top:42px;\";k=\"vertical\"}else{if(w.type==\"hcount\"){var q=document.createElement(\"span\");H=110;ac=20;k=\"horizontal\"}}iedocmode=stlib.browser.getIEVersion();var U=document.createElement(\"span\");U.setAttribute(\"style\",\"vertical-align:bottom;line-height:0px;position:absolute;padding:0px !important;\"+T+\"width:55px;height:20px;\");(iedocmode&&(iedocmode==7)&&U.style.setAttribute)?U.style.setAttribute(\"cssText\",\"vertical-align:bottom;line-height:0px;position:absolute;padding:0px !important;\"+T+\"width:55px;height:20px;\",0):null;try{var S=document.createElement('<iframe name=\"stframe\" allowTransparency=\"true\" scrolling=\"no\" frameBorder=\"0\"></iframe>')}catch(ab){S=document.createElement(\"iframe\");S.setAttribute(\"allowTransparency\",\"true\");S.setAttribute(\"frameborder\",\"0\");S.setAttribute(\"scrolling\",\"no\")}var ae=encodeURIComponent(h);S.setAttribute(\"src\",\"http://platform.twitter.com/widgets/tweet_button.html?count=\"+k+\"&url=\"+ae);S.setAttribute(\"style\",\"width:\"+H+\"px;height:\"+ac+\"px;\");(iedocmode&&(iedocmode==7)&&S.style.setAttribute)?S.style.setAttribute(\"cssText\",\"width:\"+H+\"px;height:\"+ac+\"px;\",0):null;if((useFastShare&&servicesLoggedIn&&typeof(servicesLoggedIn[g])!=\"undefined\")){q.appendChild(U)}q.appendChild(S);C=q;Y.appendChild(C);Y.setAttribute(\"style\",\"text-decoration:none;color:#000000;display:inline-block;cursor:pointer;vertical-align:bottom;margin-top:6px;width:\"+H+\"px;height:\"+ac+\"px;\");(iedocmode&&(iedocmode==7)&&Y.style.setAttribute)?Y.style.setAttribute(\"cssText\",\"text-decoration:none;color:#000000;display:inline-block;cursor:pointer;vertical-align:bottom;width:\"+H+\"px;height:\"+ac+\"px;\",0):null;ag=Y}else{if(g==\"facebook\"){stButtons.getXFBMLFromFB(w);return stButtons.makeFBButton(\"fblike\",w.type,h)}else{if(g==\"linkedin\"){}}}}}}else{if(w.type==\"css\"){var C=document.createElement(\"div\");C.className=\"stCSSButton\";if(w.cssType==\"cssV\"){var B=document.createElement(\"div\");B.className=\"stCSSVBubble\";var M=document.createElement(\"div\");M.className=\"stCSSVBubble_count\";B.appendChild(M);var m=document.createElement(\"div\");m.className=\"stCSSVArrow\";var R=document.createElement(\"div\");R.className=\"stCSSVArrowBorder\";R.appendChild(m);ag.appendChild(B);ag.appendChild(R);stButtons.getCount2(h,g,M)}var d=document.createElement(\"div\");d.className=\"stCSSSprite \"+g;d.innerHTML=\"&nbsp;\";var N=document.createElement(\"span\");N.className=\"stCSSText\";C.appendChild(d);if(I==null||I==\"\"){}else{N.appendChild(document.createTextNode(I));C.appendChild(N)}ag.appendChild(C);if(w.cssType==\"cssH\"){var A=document.createElement(\"div\");A.className=\"stCSSHBubble\";var M=document.createElement(\"div\");M.className=\"stCSSHBubble_count\";A.appendChild(M);var ad=document.createElement(\"div\");ad.className=\"stCSSHArrow\";var p=document.createElement(\"div\");p.className=\"stCSSHArrowBorder\";p.appendChild(ad);ag.appendChild(p);ag.appendChild(A);stButtons.getCount2(h,g,M)}}}}}}}return ag};stButtons.makeFBButton=function(j,l,b){try{var i=document.createElement(\"<div></div>\")}catch(e){i=document.createElement(\"div\")}if((/#sthash/i).test(b)){var m=b.split(\"#\");if(m.length>0){b=m[0]}}var d=b;var h=\"button_count\";var k=\"fb-send\";var f=\"\";iedocmode=stlib.browser.getIEVersion();var g=\"\";if(l==\"vcount\"){h=\"box_count\"}else{if(l==\"hcount\"){}else{if(l==\"large\"){g=(iedocmode&&(iedocmode==7))?\"vertical-align:bottom;bottom:3px;\":\"bottom:7px;margin-top:9px;\"}else{if(l==\"button\"){}else{g=\"top:1px;margin-top:0px;\"}}}}if(j==\"fbLong\"){k=\"fb-like\";h=\"standard\";i.setAttribute(\"data-layout\",h);i.setAttribute(\"data-send\",\"false\");i.setAttribute(\"data-show-faces\",\"false\")}else{if(j==\"fbsend\"){k=\"fb-send\"}else{if(j==\"fblike\"||j==\"fbrec\"){(j==\"fbrec\")?f=\"recommend\":null;k=\"fb-like\";i.setAttribute(\"data-action\",f);i.setAttribute(\"data-send\",\"false\");i.setAttribute(\"data-layout\",h);i.setAttribute(\"data-show-faces\",\"false\")}else{if(j==\"fbsub\"){k=\"fb-subscribe\";i.setAttribute(\"data-layout\",h);i.setAttribute(\"data-show-faces\",\"false\")}}}}i.setAttribute(\"class\",k);i.setAttribute(\"data-href\",d);if(iedocmode&&(iedocmode==7)){if(j!=\"fbsend\"){i=document.createElement(\"<div class='\"+k+\"' data-action='\"+f+\"' data-send='false' data-layout='\"+h+\"' data-show-faces='false' data-href='\"+d+\"'></div>\")}else{i=document.createElement(\"<div class='\"+k+\"' data-href='\"+d+\"'></div>\")}}var a=document.createElement(\"span\");a.setAttribute(\"style\",\"text-decoration:none;color:#000000;display:inline-block;cursor:pointer;position:relative;margin:3px 3px 0;padding:0px;font-size:11px;line-height:0px;vertical-align:bottom;overflow:visible;\"+g);(iedocmode&&(iedocmode==7)&&a.style.setAttribute)?a.style.setAttribute(\"cssText\",\"text-decoration:none;color:#000000;display:inline-block;cursor:pointer;position:relative;margin:3px 3px 0;font-size:11px;line-height:0px;\"+g,0):(null);a.appendChild(i);return a};stButtons.getCount=function(d,a,e){var b=false;if(e&&e!==null){while(e.childNodes.length>=1){try{e.removeChild(e.firstChild)}catch(f){}}}stButtons.cbQueue.push({url:d,service:a,element:e});stButtons.getCountsFromService(d,a,e)};stButtons.getCount2=function(d,a,e){var b=false;if(e&&e!==null){while(e.childNodes.length>=1){try{e.removeChild(e.firstChild)}catch(f){}}}if(stWidget.options.nativeCount&&stlib.nativeCounts.checkNativeCountServicesQueue(a)){if(a==\"facebook\"){if((/#/).test(d)){d=d.split(\"#\")[0]}}stButtons.cbNativeQueue.push({url:d,service:a,element:e});if(typeof(stButtons.countsNativeResp[d])==\"undefined\"){stButtons.countsNativeResp[d]=[]}if(typeof(stButtons.countsNativeResp[d][a])==\"undefined\"){stlib.nativeCounts.getNativeCounts(a,d,\"stButtons.\"+a+\"CB\");stButtons.countsNativeResp[d][a]=null}else{if(stButtons.countsNativeResp[d][a]!=null){switch(a){case\"facebook\":stButtons.facebookCB(stButtons.countsNativeResp[d][a]);break;case\"linkedin\":stButtons.linkedinCB(stButtons.countsNativeResp[d][a]);break;case\"stumbleupon\":stButtons.stumbleuponCB(stButtons.countsNativeResp[d][a]);break}}}}else{stButtons.cbQueue.push({url:d,service:a,element:e});stButtons.getCountsFromService(d,a,e)}};stButtons.processCB=function(a){if(typeof(a)!=\"undefined\"&&typeof(a.ourl)!=\"undefined\"){stButtons.countsResp[a.ourl]=a}stButtons.processCount(a)};stButtons.stumbleuponCB=function(a){var b={ourl:\"\",stumbleupon:null};if(typeof(a)!=\"undefined\"&&typeof(a.result)!=\"undefined\"){if(typeof(stButtons.countsNativeResp[a.result.url])!=\"undefined\"){stButtons.countsNativeResp[a.result.url][\"stumbleupon\"]=a}b.ourl=a.result.url;if(typeof(a.result.views)!=\"undefined\"){b.stumbleupon=a.result.views}}stButtons.processNativeCount(b,\"stumbleupon\")};stButtons.linkedinCB=function(a){var b={ourl:\"\",linkedin:null};if(typeof(a)!=\"undefined\"){if(typeof(stButtons.countsNativeResp[a.url])!=\"undefined\"){stButtons.countsNativeResp[a.url][\"linkedin\"]=a}b.ourl=a.url;if(typeof(a.count)!=\"undefined\"){b.linkedin=a.count}}stButtons.processNativeCount(b,\"linkedin\")};stButtons.facebookCB=function(a){var b={ourl:\"\",facebook:null};if(typeof(a)!=\"undefined\"){if(typeof(stButtons.countsNativeResp[a[0].url])!=\"undefined\"){stButtons.countsNativeResp[a[0].url][\"facebook\"]=a}b.ourl=a[0].url;if(typeof(a[0].total_count)!=\"undefined\"){b.facebook=a[0].total_count}}stButtons.processNativeCount(b,\"facebook\")};stButtons.processCount=function(b){if(!(b)){return}stButtons.storedCountResponse=b;var a=false;for(var d=0;d<stButtons.cbQueue.length;d++){var f=stButtons.cbQueue[d];if(b.ourl==f.url){var h=\"New\";try{if(f.service==\"sharethis\"){if(stWidget.options.minShareCount==null||b.total>=stWidget.options.minShareCount){if(stWidget.options.newOrZero==\"zero\"){h=(b.total>0)?stButtons.human(b.total):\"0\"}else{h=(b.total>0)?stButtons.human(b.total):\"New\"}}}else{if(f.service==\"facebook\"&&typeof(b.facebook2)!=\"undefined\"){if(stWidget.options.minShareCount==null||b.facebook2>=stWidget.options.minShareCount){h=stButtons.human(b.facebook2)}}else{if(typeof(b[f.service])!=\"undefined\"){if(stWidget.options.minShareCount==null||b[f.service]>=stWidget.options.minShareCount){h=(b[f.service]>0)?stButtons.human(b[f.service]):\"0\"}}else{if(stWidget.options.minShareCount==null||stWidget.options.minShareCount<=0){h=\"0\"}}}}if(/stHBubble/.test(f.element.parentNode.className)==true){f.element.parentNode.style.display=\"inline-block\"}else{if(/stBubble/.test(f.element.parentNode.className)==true){f.element.parentNode.style.display=\"block\"}}f.element.innerHTML=h}catch(e){if(!f.element.hasChildNodes()){var g=document.createElement(\"div\");g.innerHTML=h;f.element.appendChild(g)}}a=true}}};stButtons.processNativeCount=function(b,a){if(!(b)){return}if(!(a)){return}for(var d=0;d<stButtons.cbNativeQueue.length;d++){var f=stButtons.cbNativeQueue[d];if(b.ourl==f.url||(a==\"stumbleupon\"&&b.ourl.replace(/http:\\/\\/www\\.|http:\\/\\/|www\\./i,\"\")==f.url.replace(/http:\\/\\/www\\.|http:\\/\\/|www\\./i,\"\"))){var h=\"New\";try{if(f.service==a){if(b[a]!=null){if(stWidget.options.minShareCount==null||b[a]>=stWidget.options.minShareCount){h=stButtons.human(b[a])}}}else{continue}if(/stHBubble/.test(f.element.parentNode.className)==true){f.element.parentNode.style.display=\"inline-block\"}else{if(/stBubble/.test(f.element.parentNode.className)==true){f.element.parentNode.style.display=\"block\"}}f.element.innerHTML=h}catch(e){if(!f.element.hasChildNodes()){var g=document.createElement(\"div\");g.innerHTML=h;f.element.appendChild(g)}}}}};stButtons.human=function(a){if(a>=100000){a=a/1000;a=Math.round(a);a=a+\"K\"}else{if(a>=10000){a=a/100;a=Math.round(a);a=a/10;a=a+\"K\"}}return a};stButtons.isValidService=function(a){return(typeof(stlib.allServices)===\"object\"&&stlib.allServices.hasOwnProperty(a))?true:(typeof(stlib.allOauthServices)===\"object\"&&stlib.allOauthServices.hasOwnProperty(a))?true:(typeof(stlib.allNativeServices)===\"object\"&&stlib.allNativeServices.hasOwnProperty(a))?true:(typeof(stlib.allOtherServices)===\"object\"&&stlib.allOtherServices.hasOwnProperty(a))?true:false};stButtons.locateElements=function(f){var E=document.getElementsByTagName(\"*\");var t=[];var W=new RegExp(/st_(.*?)_custom/);var V=new RegExp(/st_(.*?)_vcount/);var G=new RegExp(/st_(.*?)_vcount_native/);var U=new RegExp(/st_(.*?)_hcount/);var s=new RegExp(/st_(.*?)_hcount_native/);var T=new RegExp(/st_(.*?)_button/);var S=new RegExp(/st_(.*?)_large/);var R=new RegExp(/st_(.*?)_pcount/);var P=new RegExp(/st_(.*?)_stbar/);var M=new RegExp(/st_(.*?)_stsmbar/);var L=new RegExp(/st_(.*?)_css/);var D=new RegExp(/^st_(.*?)$/);var n=new RegExp(/st_(.*?)_basic/);var u=new RegExp(/st_(.*?)_circle/);var q=new RegExp(/(st_(.*?)_basic)|(st_(.*?)_circle)/);var h=new RegExp(/(st_(.*?)_brushed)|(st_(.*?)_shiny)/);var J=new RegExp(/(st_(.*?)_brushed)/);var X=new RegExp(/(st_(.*?)_shiny)/);var l=E.length;var d=false;var v={};var H=0,I,r,p,a=[],C=false;if(typeof(stRecentServices)!=\"undefined\"&&stRecentServices!=\"undefined\"&&stRecentServices!=\"false\"&&stRecentServices){C=true}for(var K=0;K<l;K++){I=\"\";r=false;p=false;if(typeof(E[K].className)==\"string\"&&E[K].className!=\"\"){if(!(stlib.browser.mobile.isIOs()||stlib.browser.mobile.isAndroid())&&(E[K].className.indexOf(\"whatsapp\")!==-1&&window.location.pathname.indexOf(\"get-sharing-tools\")===-1)){continue}if(E[K].className.match(W)&&E[K].className.match(W).length>=2&&E[K].className.match(W)[1]){if(stButtons.testElem(E[K])==false){p=true;I=E[K].className.match(W)[1];typeName=\"custom\";if(I==\"plusone\"||I==\"fblike\"||I==\"fbrec\"||I==\"fbsend\"||I==\"fbsub\"){typeName=\"chicklet\"}t.push({service:I,element:E[K],url:E[K].getAttribute(\"st_url\"),short_url:(E[K].getAttribute(\"st_short_url\")!=null)?E[K].getAttribute(\"st_short_url\"):\"\",title:E[K].getAttribute(\"st_title\"),image:(E[K].getAttribute(\"st_img\")!=null)?E[K].getAttribute(\"st_img\"):E[K].getAttribute(\"st_image\"),pinterest_native:E[K].getAttribute(\"st_native\"),message:(E[K].getAttribute(\"st_msg\")!=null)?E[K].getAttribute(\"st_msg\"):E[K].getAttribute(\"st_message\"),summary:E[K].getAttribute(\"st_summary\"),text:E[K].getAttribute(\"displayText\"),type:typeName});E[K].setAttribute(\"st_processed\",\"yes\")}}else{if(E[K].className.match(q)&&E[K].className.match(q).length>=2){if(stButtons.testElem(E[K])==false){p=true;I=E[K].className.split(\"_\")[1];var Y=\"basic\";if(E[K].className.match(u)){Y=\"circle\"}t.push({service:I,element:E[K],url:E[K].getAttribute(\"st_url\"),short_url:(E[K].getAttribute(\"st_short_url\")!=null)?E[K].getAttribute(\"st_short_url\"):\"\",title:E[K].getAttribute(\"st_title\"),image:(E[K].getAttribute(\"st_img\")!=null)?E[K].getAttribute(\"st_img\"):E[K].getAttribute(\"st_image\"),pinterest_native:E[K].getAttribute(\"st_native\"),message:(E[K].getAttribute(\"st_msg\")!=null)?E[K].getAttribute(\"st_msg\"):E[K].getAttribute(\"st_message\"),summary:E[K].getAttribute(\"st_summary\"),text:E[K].getAttribute(\"displayText\"),type:Y,size:E[K].className.split(\"$\")[1],color:E[K].className.split(\"$\")[2]});E[K].setAttribute(\"st_processed\",\"yes\")}}else{if(E[K].className.match(h)&&E[K].className.match(h).length>=2){if(stButtons.testElem(E[K])==false){p=true;I=E[K].className.split(\"_\")[1];var Y=\"brushed\";if(E[K].className.match(X)){Y=\"shiny\"}t.push({service:I,element:E[K],url:E[K].getAttribute(\"st_url\"),short_url:(E[K].getAttribute(\"st_short_url\")!=null)?E[K].getAttribute(\"st_short_url\"):\"\",title:E[K].getAttribute(\"st_title\"),image:(E[K].getAttribute(\"st_img\")!=null)?E[K].getAttribute(\"st_img\"):E[K].getAttribute(\"st_image\"),pinterest_native:E[K].getAttribute(\"st_native\"),message:(E[K].getAttribute(\"st_msg\")!=null)?E[K].getAttribute(\"st_msg\"):E[K].getAttribute(\"st_message\"),summary:E[K].getAttribute(\"st_summary\"),text:E[K].getAttribute(\"displayText\"),type:Y,size:E[K].className.split(\"$\")[1]});E[K].setAttribute(\"st_processed\",\"yes\")}}else{if(E[K].className.match(V)&&E[K].className.match(V).length>=2&&E[K].className.match(V)[1]){if(stButtons.testElem(E[K])==false){p=true;I=E[K].className.match(V)[1];var N=\"\";if(E[K].className.match(G)&&E[K].className.match(G).length>=2&&E[K].className.match(G)[1]){N=\"native\"}t.push({service:I,element:E[K],url:E[K].getAttribute(\"st_url\"),short_url:(E[K].getAttribute(\"st_short_url\")!=null)?E[K].getAttribute(\"st_short_url\"):\"\",title:E[K].getAttribute(\"st_title\"),image:(E[K].getAttribute(\"st_img\")!=null)?E[K].getAttribute(\"st_img\"):E[K].getAttribute(\"st_image\"),pinterest_native:E[K].getAttribute(\"st_native\"),message:(E[K].getAttribute(\"st_msg\")!=null)?E[K].getAttribute(\"st_msg\"):E[K].getAttribute(\"st_message\"),summary:E[K].getAttribute(\"st_summary\"),text:E[K].getAttribute(\"displayText\"),type:\"vcount\",ctype:N});E[K].setAttribute(\"st_processed\",\"yes\")}}else{if(E[K].className.match(U)&&E[K].className.match(U).length>=2&&E[K].className.match(U)[1]){if(stButtons.testElem(E[K])==false){p=true;I=E[K].className.match(U)[1];var N=\"\";if(E[K].className.match(s)&&E[K].className.match(s).length>=2&&E[K].className.match(s)[1]){N=\"native\"}t.push({service:I,element:E[K],url:E[K].getAttribute(\"st_url\"),short_url:(E[K].getAttribute(\"st_short_url\")!=null)?E[K].getAttribute(\"st_short_url\"):\"\",title:E[K].getAttribute(\"st_title\"),image:(E[K].getAttribute(\"st_img\")!=null)?E[K].getAttribute(\"st_img\"):E[K].getAttribute(\"st_image\"),pinterest_native:E[K].getAttribute(\"st_native\"),message:(E[K].getAttribute(\"st_msg\")!=null)?E[K].getAttribute(\"st_msg\"):E[K].getAttribute(\"st_message\"),summary:E[K].getAttribute(\"st_summary\"),text:E[K].getAttribute(\"displayText\"),type:\"hcount\",ctype:N});E[K].setAttribute(\"st_processed\",\"yes\")}}else{if(E[K].className.match(T)&&E[K].className.match(T).length>=2&&E[K].className.match(T)[1]){if(stButtons.testElem(E[K])==false){p=true;I=E[K].className.match(T)[1];t.push({service:I,element:E[K],url:E[K].getAttribute(\"st_url\"),short_url:(E[K].getAttribute(\"st_short_url\")!=null)?E[K].getAttribute(\"st_short_url\"):\"\",title:E[K].getAttribute(\"st_title\"),image:(E[K].getAttribute(\"st_img\")!=null)?E[K].getAttribute(\"st_img\"):E[K].getAttribute(\"st_image\"),pinterest_native:E[K].getAttribute(\"st_native\"),message:(E[K].getAttribute(\"st_msg\")!=null)?E[K].getAttribute(\"st_msg\"):E[K].getAttribute(\"st_message\"),summary:E[K].getAttribute(\"st_summary\"),text:E[K].getAttribute(\"displayText\"),type:\"button\"});E[K].setAttribute(\"st_processed\",\"yes\")}}else{if(E[K].className.match(S)&&E[K].className.match(S).length>=2&&E[K].className.match(S)[1]){if(stButtons.testElem(E[K])==false){p=true;I=E[K].className.match(S)[1];t.push({service:I,element:E[K],url:E[K].getAttribute(\"st_url\"),short_url:(E[K].getAttribute(\"st_short_url\")!=null)?E[K].getAttribute(\"st_short_url\"):\"\",title:E[K].getAttribute(\"st_title\"),image:(E[K].getAttribute(\"st_img\")!=null)?E[K].getAttribute(\"st_img\"):E[K].getAttribute(\"st_image\"),pinterest_native:E[K].getAttribute(\"st_native\"),message:(E[K].getAttribute(\"st_msg\")!=null)?E[K].getAttribute(\"st_msg\"):E[K].getAttribute(\"st_message\"),summary:E[K].getAttribute(\"st_summary\"),text:E[K].getAttribute(\"displayText\"),type:\"large\"});E[K].setAttribute(\"st_processed\",\"yes\")}}else{if(E[K].className.match(R)&&E[K].className.match(R).length>=2&&E[K].className.match(R)[1]){if(stButtons.testElem(E[K])==false){p=true;I=E[K].className.match(R)[1];t.push({service:I,element:E[K],url:E[K].getAttribute(\"st_url\"),short_url:(E[K].getAttribute(\"st_short_url\")!=null)?E[K].getAttribute(\"st_short_url\"):\"\",title:E[K].getAttribute(\"st_title\"),image:(E[K].getAttribute(\"st_img\")!=null)?E[K].getAttribute(\"st_img\"):E[K].getAttribute(\"st_image\"),pinterest_native:E[K].getAttribute(\"st_native\"),message:(E[K].getAttribute(\"st_msg\")!=null)?E[K].getAttribute(\"st_msg\"):E[K].getAttribute(\"st_message\"),summary:E[K].getAttribute(\"st_summary\"),text:E[K].getAttribute(\"displayText\"),type:\"pcount\",count:K});E[K].setAttribute(\"st_processed\",\"yes\")}}else{if(E[K].className.match(P)&&E[K].className.match(P).length>=2&&E[K].className.match(P)[1]){if(stButtons.testElem(E[K])==false){p=true;I=E[K].className.match(P)[1];t.push({service:I,element:E[K],url:E[K].getAttribute(\"st_url\"),short_url:(E[K].getAttribute(\"st_short_url\")!=null)?E[K].getAttribute(\"st_short_url\"):\"\",title:E[K].getAttribute(\"st_title\"),image:(E[K].getAttribute(\"st_img\")!=null)?E[K].getAttribute(\"st_img\"):E[K].getAttribute(\"st_image\"),pinterest_native:E[K].getAttribute(\"st_native\"),message:(E[K].getAttribute(\"st_msg\")!=null)?E[K].getAttribute(\"st_msg\"):E[K].getAttribute(\"st_message\"),summary:E[K].getAttribute(\"st_summary\"),text:E[K].getAttribute(\"displayText\"),type:\"stbar\",count:K});E[K].setAttribute(\"st_processed\",\"yes\")}}else{if(E[K].className.match(M)&&E[K].className.match(M).length>=2&&E[K].className.match(M)[1]){if(stButtons.testElem(E[K])==false){p=true;I=E[K].className.match(M)[1];t.push({service:I,element:E[K],url:E[K].getAttribute(\"st_url\"),short_url:(E[K].getAttribute(\"st_short_url\")!=null)?E[K].getAttribute(\"st_short_url\"):\"\",title:E[K].getAttribute(\"st_title\"),image:(E[K].getAttribute(\"st_img\")!=null)?E[K].getAttribute(\"st_img\"):E[K].getAttribute(\"st_image\"),pinterest_native:E[K].getAttribute(\"st_native\"),message:(E[K].getAttribute(\"st_msg\")!=null)?E[K].getAttribute(\"st_msg\"):E[K].getAttribute(\"st_message\"),summary:E[K].getAttribute(\"st_summary\"),text:E[K].getAttribute(\"displayText\"),type:\"stsmbar\",count:K});E[K].setAttribute(\"st_processed\",\"yes\")}}else{if(E[K].className.match(L)&&E[K].className.match(L).length>=2&&E[K].className.match(L)[1]){if(stButtons.testElem(E[K])==false){p=true;I=E[K].className.match(L)[1];var O=E[K].className.split(\"_\");t.push({service:I,element:E[K],url:E[K].getAttribute(\"st_url\"),short_url:(E[K].getAttribute(\"st_short_url\")!=null)?E[K].getAttribute(\"st_short_url\"):\"\",title:E[K].getAttribute(\"st_title\"),image:(E[K].getAttribute(\"st_img\")!=null)?E[K].getAttribute(\"st_img\"):E[K].getAttribute(\"st_image\"),pinterest_native:E[K].getAttribute(\"st_native\"),message:(E[K].getAttribute(\"st_msg\")!=null)?E[K].getAttribute(\"st_msg\"):E[K].getAttribute(\"st_message\"),summary:E[K].getAttribute(\"st_summary\"),text:E[K].getAttribute(\"displayText\"),type:\"css\",cssType:O[O.length-1]});E[K].setAttribute(\"st_processed\",\"yes\")}}else{if(E[K].className.match(D)&&E[K].className.match(D).length>=2&&E[K].className.match(D)[1]){if(stButtons.testElem(E[K])==false){p=true;I=E[K].className.match(D)[1];t.push({service:I,element:E[K],url:E[K].getAttribute(\"st_url\"),short_url:(E[K].getAttribute(\"st_short_url\")!=null)?E[K].getAttribute(\"st_short_url\"):\"\",title:E[K].getAttribute(\"st_title\"),image:(E[K].getAttribute(\"st_img\")!=null)?E[K].getAttribute(\"st_img\"):E[K].getAttribute(\"st_image\"),pinterest_native:E[K].getAttribute(\"st_native\"),message:(E[K].getAttribute(\"st_msg\")!=null)?E[K].getAttribute(\"st_msg\"):E[K].getAttribute(\"st_message\"),summary:E[K].getAttribute(\"st_summary\"),text:E[K].getAttribute(\"displayText\"),type:\"chicklet\"});E[K].setAttribute(\"st_processed\",\"yes\")}}}}}}}}}}}}}if(C){if(p){for(H=0;H<a.length;H++){if(a[H].service==I){a[H].count++;r=true}}if(!r){a.push({service:I,count:1,doNotReplace:false,processed:false})}}}if(I==\"sharethis\"){if(stlib.browser.mobile.isMobile()){if(d){if(!stlib.browser.mobile.isExcerptImplementation){var e;var g=document.getElementsByTagName(\"meta\");for(var B=0,A=g.length;B<A;B++){if(g[B].name.toLowerCase()==\"description\"){e=g[B]}}v.url=document.URL;v.title=document.title;v.image=null;v.summary=e}stlib.browser.mobile.isExcerptImplementation=true}else{v={service:I,url:E[K].getAttribute(\"st_url\"),title:E[K].getAttribute(\"st_title\"),image:(E[K].getAttribute(\"st_img\")!=null)?E[K].getAttribute(\"st_img\"):E[K].getAttribute(\"st_image\"),summary:E[K].getAttribute(\"st_summary\"),type:\"button\"}}}d=true}}}if(C){var Q=[];for(var B=a.length-1;B>=0;B--){if(a[B].service==\"sharethis\"||a[B].doNotReplace){a[B].processed=true;continue}else{for(var A in stRecentServices){var j=false;if(!stRecentServices[A].processed){for(var b=0;b<a.length;b++){if(A==a[b].service&&!a[b].processed){j=true;a[b].doNotReplace=true;stRecentServices[A].processed=true;break}}if(j){a[B].processed=true}else{Q.push({oldService:a[B].service,newService:A});for(var w=0;w<t.length;w++){if(t[w].service==a[B].service){t[w].service=A;t[w].text=stRecentServices[A].title;t[w].element.setAttribute(\"displayText\",stRecentServices[A].title);t[w].element.className=t[w].element.className.replace(a[B].service,A)}}stRecentServices[A].processed=true;a[B].processed=true;break}}}}}}if(t.length>0&&d&&stlib.browser.mobile.isMobile()&&stShowNewMobileWidget&&!isMobileButtonLoaded){var F=document.querySelector&&document.querySelector('div[id=\"stToolPop\"]');if(F==null){stButtons.createMobileShareButton();v.element=document.getElementById(\"stToolPop\");t.push(v);if(stWidget.mobileWidgetLoaded==false){var o=(((\"https:\"==document.location.protocol)?\"https://ws\":\"http://w\")+\".sharethis.com/mobile/js/mobile.0739a75d74f715a7944b59d4f3f37c05.js\");stlib.scriptLoader.loadJavascript(o,function(){mobileWidget.init();stWidget.mobileWidgetLoaded=true})}}}var m=t.length;for(var K=0;K<m;K++){if(!stButtons.isValidService(t[K].service)){continue}stWidget.addEntry(t[K])}if(m>0&&d&&stlib.browser.mobile.isMobile()){stButtons.hideBarsAndButtons()}};stButtons.odcss=function(a,b){this.head=document.getElementsByTagName(\"head\")[0];this.scriptSrc=a;this.css=document.createElement(\"link\");this.css.setAttribute(\"rel\",\"stylesheet\");this.css.setAttribute(\"type\",\"text/css\");this.css.setAttribute(\"href\",this.scriptSrc);setTimeout(function(){b()},500);this.head.appendChild(this.css)};stButtons.makeButtons=function(){if(typeof(stButtons.button_css_called)==\"undefined\"){var a=((\"https:\"==document.location.protocol)?\"https://ws.sharethis.com/button/css/buttons-secure.css\":\"http://w.sharethis.com/button/css/buttons.1be8af3324f0d6a3f57225413b0da78b.css\");stButtons.odcss(a,function(){});stButtons.button_css_called=true}stButtons.locateElements()};stButtons.getPlusOneFromGoogle=function(a){if(stButtons.plusOneLoaded==false){if(stButtons.plusOneLoading==false){var b=document.createElement(\"script\");b.setAttribute(\"type\",\"text/javascript\");b.setAttribute(\"src\",\"https://apis.google.com/js/plusone.js\");b.async=stWidget.options.asyncPlusone;b.onload=function(){stButtons.renderPlusOneFromGoogle(a);stButtons.plusOneLoaded=true;stButtons.plusOneLoading=false};b.onreadystatechange=function(){if(this.readyState==\"complete\"){stButtons.renderPlusOneFromGoogle(a);stButtons.plusOneLoaded=true;stButtons.plusOneLoading=false}};stButtons.plusOneLoading=true;document.getElementsByTagName(\"head\")[0].appendChild(b)}}else{stButtons.renderPlusOneFromGoogle(a)}};stButtons.renderPlusOneFromGoogle=function(a){if(a==\"plusone\"){gapi.plusone.go()}else{if(a==\"googleplusfollow\"||a==\"googleplusadd\"){gapi.plus.go()}}};stButtons.getXFBMLFromFB=function(b){if(typeof(stWidget.options.fbLoad)!=\"undefined\"&&stWidget.options.fbLoad!=true){return}if(stButtons.xfbmlLoaded==false){if(stButtons.xfbmlLoading==false){stButtons.xfbmlLoading=true;var d=document.createElement(\"div\");d.setAttribute(\"id\",\"fb-root\");document.body.appendChild(d);var a=\"en_US\";if(typeof(stWidget.options.fbLang)!=\"undefined\"&&stWidget.options.fbLang!=\"\"){a=stWidget.options.fbLang}var f,e=document.getElementsByTagName(\"script\")[0];if(document.getElementById(\"facebook-jssdk\")){if(typeof(FB)!=\"undefined\"&&typeof(FB.XFBML)!=\"undefined\"&&typeof(FB.XFBML.parse)==\"function\"){if(!(/iframe/).test(b.innerHTML)){FB.XFBML.parse(b)}stButtons.trackFB();stButtons.xfbmlLoaded=true;stButtons.xfbmlLoading=false}return}f=document.createElement(\"script\");f.id=\"facebook-jssdk\";f.src=\"//connect.facebook.net/\"+a+\"/sdk.js#version=v2.0\";f.async=stWidget.options.async;f.onload=function(){FB.init({appId:\"\",xfbml:true,version:\"v2.0\"});stButtons.trackFB();stButtons.xfbmlLoaded=true;stButtons.xfbmlLoading=false};f.onreadystatechange=function(){if(this.readyState==\"complete\"||this.readyState==\"loaded\"){FB.init({appId:\"\",xfbml:true,version:\"v2.0\"});stButtons.trackFB();stButtons.xfbmlLoaded=true;stButtons.xfbmlLoading=false}};e.parentNode.insertBefore(f,e)}}else{if(!(/iframe/).test(b.innerHTML)){FB.XFBML.parse(b)}stButtons.trackFB()}};stButtons.addCount=function(a){stButtons.counts.push(a)};stButtons.getCountsFromService=function(a,h,f){if(stButtons.checkQueue(a)==false){var d=d+\"-\"+stButtons.cbVal;d=\"stButtons.processCB\";stButtons.cbVal++;var j=document.referrer;var e=j.replace(\"http://\",\"\").replace(\"https://\",\"\").split(\"/\");var i=e.shift();var b=e.join(\"/\");i=encodeURIComponent(i);b=encodeURIComponent(b);var g=stLight.publisher;var k=((\"https:\"==document.location.protocol)?\"https://ws.sharethis.com/api/getCount2.php?cb=\"+d+\"&refDomain=\"+i+\"&refQuery=\"+b+\"&pgurl=\"+encodeURIComponent(document.location.href)+\"&pubKey=\"+g+\"&url=\":\"http://wd.sharethis.com/api/getCount2.php?cb=\"+d+\"&refDomain=\"+i+\"&refQuery=\"+b+\"&pgurl=\"+encodeURIComponent(document.location.href)+\"&pubKey=\"+g+\"&url=\");stLight.odjs(k+encodeURIComponent(a),function(){});stButtons.queue.push(a)}if(stButtons.countsResp[a]){stButtons.processCount(stButtons.countsResp[a])}};stButtons.checkQueue=function(a){for(var b=0;b<stButtons.queue.length;b++){if(stButtons.queue[b]==a){return true}}return false};stButtons.testElem=function(b){var a=false;if(b.getAttribute(\"st_processed\")!=null){return true}else{return false}};stButtons.createMobileShareButton=function(){if(document.getElementById(\"stToolPop\")!=null){return}var b=document.createElement(\"div\");var a=document.createElement(\"a\");var e=document.createElement(\"img\");var d=document.getElementsByTagName(\"body\")[0];b.id=\"stToolPop\";b.className=\"stToolPop-circular semiTrans gray\";b.style.visibility=\"hidden\";a.className=\"stToolPopLink\";a.href=\"javascript:void(0)\";e.id=\"stToolPop_logo\";e.src=((\"https:\"==document.location.protocol)?\"https://ws\":\"http://w\")+\".sharethis.com/images/st-logo-m-widget.png\";a.appendChild(e);b.appendChild(a);d.appendChild(b);isMobileButtonLoaded=true};stButtons.hideBarsAndButtons=function(){var a=document.getElementById(\"sharebar\");if(a!=null){a.style.cssText=\"display:none !important\"}};function Shareable(d){var a={};a.facebook=\"450\";a.twitter=\"684\";a.yahoo=\"500\";a.linkedin=\"600\";var b={};b.facebook=\"300\";b.twitter=\"718\";b.yahoo=\"460\";b.linkedin=\"433\";this.idx=-1;this.url=null;this.short_url=null;this.title=null;this.image=null;this.pinterest_native=null;this.element=null;this.service=null;this.message=null;this.screen=\"home\";this.summary=null;this.content=null;this.buttonText=null;this.frag=null;this.onhover=true;this.type=null;var e=this;var f=false;this.attachButton=function(g){this.element=g;if((this.onhover==true||this.onhover==\"true\")&&!stlib.browser.mobile.isMobile()&&((stWidgetVersion==\"4x\")||((stWidgetVersion==\"5xa\")&&(d.service==\"sharethis\"||d.service==\"email\"||d.service==\"wordpress\")))){g.onmouseover=this.mouseOn;g.onmouseout=this.mouseOut}g.onclick=function(h){e.decideFastShare()}};this.init=function(){stWidget.merge(this,d);stWidget.shareables.push(this);if(d.element!==null){this.attachButton(d.element)}};return this}if(typeof(stWidget)==\"undefined\"){var stWidget=new function(){this.shareables=[];this.entries=0;this.widgetOpen=false;this.mouseOnTimer=null;this.mouseTimer=null;this.mouseOutTimer=null;this.frameReady=false;this.stopClosing=false;this.buttonClicked=false;this.widgetLoadingComplete=false;this.skipESIValue=false;this.frameUrl5xa=this.frameUrl5x=((\"https:\"==document.location.protocol)?\"https://ws.sharethis.com/secure5x/index.html\":\"http://edge.sharethis.com/share5x/index.70703924f9d54feeb6c2737e7b92dc57.html\");this.frameUrl4x=((\"https:\"==document.location.protocol)?\"https://ws.sharethis.com/secure/index.html\":\"http://edge.sharethis.com/share4x/index.1545d23c12678a4c51ee09515d1791f8.html\");this.secure=false;try{this.mainstframe=document.createElement('<iframe name=\"stLframe\" allowTransparency=\"true\" style=\"body{background:transparent;}\" ></iframe>');this.mainstframe.onreadystatechange=function(){if(stWidget.mainstframe.readyState===\"complete\"){stWidget.frameReady=true;stButtons.pumpInstance=new stlib.pump(stWidget.mainstframe,stWidget.mainstframe,function(){stButtons.messageQueueInstance.process()});stButtons.messageQueueInstance.setPumpInstance(stButtons.pumpInstance);try{stButtons.pumpInstance.broadcastSendMessage(\"Buttons Ready\")}catch(d){}}}}catch(b){this.mainstframe=document.createElement(\"iframe\");this.mainstframe.allowTransparency=\"true\";this.mainstframe.setAttribute(\"allowTransparency\",\"true\");this.mainstframe.onload=function(){stWidget.frameReady=true;stButtons.pumpInstance=new stlib.pump(stWidget.mainstframe,stWidget.mainstframe,function(){stButtons.messageQueueInstance.process()});stButtons.messageQueueInstance.setPumpInstance(stButtons.pumpInstance);try{stButtons.pumpInstance.broadcastSendMessage(\"Buttons Ready\")}catch(d){}}}this.mainstframe.id=\"stLframe\";this.mainstframe.className=\"stLframe\";this.mainstframe.name=\"stLframe\";this.mainstframe.frameBorder=\"0\";this.mainstframe.scrolling=\"no\";this.wrapper=document.createElement(\"div\");this.wrapper.id=\"stwrapper\";this.wrapper.className=\"stwrapper\";this.wrapper.style.display=\"none\";var a=0;this.widgetLoadInterval=self.setInterval(function(){stWidget.widgetLoad();a+=1;if(a>90){stWidget.forceDefaultWidgetSetting();window.clearInterval(stWidget.widgetLoadInterval)}},1000);this.ogtitle=null;this.ogdesc=null;this.ogurl=null;this.short_url=null;this.ogimg=null;this.ogtype=null;this.twittertitle=null;this.twitterdesc=null;this.twitterurl=null;this.twitterimg=null;this.twittercard=null;this.desc=null;this.initFire=false;this.merge=function(f,e){for(var d in e){if(f.hasOwnProperty(d)&&e[d]!==null){f[d]=e[d]}}};this.oldScroll=0;this.init=function(){if(stWidget.initFire==false){stWidget.initFire=true;if(stButtons.messageQueueInstance==null){stButtons.messageQueueInstance=new stlib.messageQueue()}if(stlib.browser.ieFallback){setTimeout(\"stButtons.messageQueueInstance.send(stWidget.createFrag(stlib.data,'data'), 'data');\",1000)}else{stButtons.messageQueueInstance.send(stWidget.createFrag(stlib.data,\"data\"),\"data\")}if(stlib.browser.ieFallback){setTimeout(\"stButtons.messageQueueInstance.send(stWidget.createFrag(null,'init'), 'init');\",2000);setTimeout(\"stWidget.initIE=true;\",2500)}else{stButtons.messageQueueInstance.send(stWidget.createFrag(null,\"init\"),\"init\")}}}}}stWidget.createWidgetContainer=function(){window.clearInterval(stWidget.widgetLoadInterval);if(stWidgetVersion==\"5xa\"){stWidget.frameUrlChoice=stWidget.frameUrl5xa;stWidget.wrapper.className+=\" stwrapper5x\"}else{if(stWidgetVersion==\"4x\"){stWidget.frameUrlChoice=stWidget.frameUrl4x;stWidget.wrapper.className+=\" stwrapper4x\"}}stWidget.mainstframe.src=stWidget.frameUrlChoice;stWidget.overlay=document.createElement(\"div\");if(document.all&&navigator.appVersion.indexOf(\"MSIE 6.\")!=-1){stWidget.overlay.style.position=\"absolute\"}stWidget.overlay.setAttribute(\"id\",\"stOverlay\");stWidget.overlay.setAttribute(\"onclick\",\"javascript:stWidget.closeWidget();\");stWidget.wrapper.appendChild(stWidget.mainstframe);stWidget.widgetLoadingComplete=true};stWidget.widgetLoad=function(){if(esiStatus==\"loaded\"||(useEdgeSideInclude==false)){stWidget.createWidgetContainer()}};stWidget.forceDefaultWidgetSetting=function(){stWidget.skipESIValue=true;stLight.usePublisherDefaultSettings();stWidget.createWidgetContainer()};stWidget.mobileWidgetLoaded=false;stWidget.mobileWidget=function(e,a,d){if(stlib.browser.mobile.isMobile()){if(!stShowNewMobileWidget){return stlib.browser.mobile.handleForMobileFriendly(e,a,d)}if(stWidget.mobileWidgetLoaded==false){var b=(((\"https:\"==document.location.protocol)?\"https://ws\":\"http://w\")+\".sharethis.com/mobile/js/mobile.0739a75d74f715a7944b59d4f3f37c05.js\");stlib.scriptLoader.loadJavascript(b,function(){mobileWidget.loadMobileWidget(e,a,d);stWidget.mobileWidgetLoaded=true})}else{mobileWidget.loadMobileWidget(e,a,d)}return true}return false};stWidget.options=new function(){this.fpc=stLight.fpc;this.sessionID=null;this.publisher=null;this.tracking=true;this.send_services=null;this.exclusive_services=null;this.headerTitle=null;this.headerfg=null;this.headerbg=null;this.offsetLeft=null;this.offsetTop=null;this.onhover=true;this.async=false;this.asyncPlusone=false;this.autoclose=true;this.autoPosition=true;this.embeds=false;this.doneScreen=true;this.minorServices=true;this.excludeServices=null;this.theme=1;this.serviceBarColor=null;this.shareButtonColor=null;this.footerColor=null;this.headerTextColor=null;this.helpTextColor=null;this.mainWidgetColor=null;this.textBoxFontColor=null;this.textRightToLeft=false;this.shorten=true;this.popup=false;this.newOrZero=\"new\";this.minShareCount=null;this.publisherGA=null;this.services=\"\";this.relatedDomain=null;this.hashAddressBar=null;this.doNotHash=null;this.doNotCopy=null;this.nativeCount=false;this.lang=\"\";this.fbLang=\"\";this.fbLoad=true;this.servicePopup=false;this.textcause=null;this.linkcause=null;this.snapsets=null;this.publisherMigration=false};stWidget.addEntry=function(a){if(!a.element){return false}if(a&&a.service&&((a.service==\"email\"||a.service==\"sharethis\"||a.service==\"wordpress\")||((stIsLoggedIn&&servicesLoggedIn&&typeof(servicesLoggedIn[a.service])!=\"undefined\"&&((useFastShare||(!useFastShare&&(stWidgetVersion==\"5xa\")))&&(a.service==\"facebook\"||a.service==\"twitter\"||a.service==\"yahoo\"||a.service==\"linkedin\")))))){openWidget=true}else{openWidget=false}if(!openWidget){if(a.type!==\"custom\"){a.element.appendChild(stButtons.makeButton(a));if(a.service==\"plusone\"||a.service==\"googleplusfollow\"||a.service==\"googleplusadd\"){stButtons.getPlusOneFromGoogle(a.service)}if(a.service==\"fblike\"||a.service==\"fbsend\"||a.service==\"fbrec\"||a.service==\"fbLong\"||a.service==\"fbsub\"){stButtons.getXFBMLFromFB(a.element)}if(stlib.nativeButtons.checkNativeButtonSupport(a.service)){stlib.nativeButtons.loadService(a.service)}}else{stButtons.makeButton(a)}stlib.buttonInfo.addButton(a);return true}else{if(a.type!=\"custom\"){a.element.appendChild(stButtons.makeButton(a));if(a.service==\"plusone\"||a.service==\"googleplusfollow\"||a.service==\"googleplusadd\"){stButtons.getPlusOneFromGoogle(a.service)}if(a.service==\"fblike\"||a.service==\"fbsend\"||a.service==\"fbrec\"||a.service==\"fbLong\"||a.service==\"fbsub\"){stButtons.getXFBMLFromFB(a.element)}if(stlib.nativeButtons.checkNativeButtonSupport(a.service)){stlib.nativeButtons.loadService(a.service)}}else{stButtons.makeButton(a)}var d=new Shareable(a);d.idx=stWidget.entries;stWidget.entries++;d.publisher=stLight.publisher;d.sessionID=stLight.sessionID;d.fpc=stLight.fpc;if(a.element.getAttribute(\"st_via\")!=null){d.via=a.element.getAttribute(\"st_via\").replace(/^\\s+|\\s+$/g,\"\")}d.url=stWidget.ogurl?stWidget.ogurl:(stWidget.twitterurl?stWidget.twitterurl:document.location.href);d.url=a.url?a.url:d.url;if(!stlib.hash.doNotHash){d.url=stlib.hash.appendHash(d.url);a.url=d.url}stlib.data.set(\"url\",d.url,\"shareInfo\");stWidget.short_url=d.short_url;stlib.data.set(\"short_url\",d.short_url,\"shareInfo\");d.title=stWidget.ogtitle?stWidget.ogtitle:(stWidget.twittertitle?stWidget.twittertitle:document.title);d.title=a.title?a.title:d.title;var b=stWidget.ogimg?stWidget.ogimg:(stWidget.twitterimg?stWidget.twitterimg:(a.element.thumbnail?a.element.thumbnail:null));d.image=(a.element.image)?a.element.image:b;d.summary=stWidget.ogdesc?stWidget.ogdesc:(stWidget.twitterdesc?stWidget.twitterdesc:stWidget.desc);d.summary=a.element.summary?a.element.summary:d.summary;stWidget.merge(d,stWidget.options);if(typeof(stWidget.options.textRightToLeft)!=\"undefined\"&&stWidget.options.textRightToLeft!=\"null\"&&stWidget.options.textRightToLeft==true){document.getElementById(\"stwrapper\").style.top=\"auto\";document.getElementById(\"stwrapper\").style.left=\"auto\"}d.mouseOn=function(){stWidget.mouseOnTimer=setTimeout(d.decideFastShare,500)};d.mouseOut=function(){clearInterval(stWidget.mouseOnTimer)};d.decideFastShare=function(){if(stlib.browser.ieFallback){if(typeof(stWidget.initIE)==\"undefined\"||stWidget.initIE!=true){return}}if(!useFastShare||!stIsLoggedIn||a.service==\"email\"||a.service==\"sharethis\"||a.service==\"wordpress\"||(typeof(servicesLoggedIn[a.service])==\"undefined\"&&(a.service==\"facebook\"||a.service==\"twitter\"||a.service==\"linkedin\"||a.service==\"yahoo\"))){if(stWidget.mobileWidget(d,a,stWidget.options)){stLight.log(\"widget\",\"mobile\",a.service,a.type)}else{d.popup()}}else{stLight.log(\"widget\",\"fastShare\",a.service,a.type);stFastShareObj.url=d.url;stFastShareObj.short_url=d.short_url;stFastShareObj.title=d.title;stFastShareObj.image=d.image;if(typeof(d.summary)!=\"undefined\"&&d.summary!=null){stFastShareObj.summary=d.summary}stFastShareObj.via=null;if(a.service==\"twitter\"&&d.element.getAttribute(\"st_via\")!=null){stFastShareObj.via=d.element.getAttribute(\"st_via\").replace(/^\\s+|\\s+$/g,\"\")}stFastShareObj.message=d.message;stFastShareObj.element=a.element;stFastShareObj.service=a.service;stFastShareObj.type=a.type;stFastShareObj.publisher=stlib.data.get(\"publisher\",\"pageInfo\");stFastShareObj.fpc=stlib.data.get(\"fpc\",\"pageInfo\");stFastShareObj.sessionID=stlib.data.get(\"sessionID\",\"pageInfo\");stFastShareObj.hostname=stlib.data.get(\"hostname\",\"pageInfo\");stFastShareObj.username=servicesLoggedIn[a.service];if(typeof(fastShare)==\"undefined\"){stLight.odjs(((\"https:\"==document.location.protocol)?\"https://ws.sharethis.com/button/fastShare.js\":\"http://w.sharethis.com/button/fastShare.js\"),function(){fastShare.showWidget()})}else{fastShare.showWidget()}}};d.popup=function(){if(stWidget.widgetOpen==false){if(stWidgetVersion==\"4x\"){stWidget.stCancelClose()}var h=stLight.getSource2(a);stLight.log(\"widget\",h,a.service,a.type);if(stWidget.options.popup&&(stWidgetVersion==\"4x\")){var j=stWidget.createFrag(d);_$d_();_$d1(\"4x Popup Called\");_$d1(j);_$d_();window.open(stWidget.frameUrl4x+\"#\"+j,\"newstframe\",\"status=1,toolbar=0,width=345,height=375\")}else{if(stWidget.options.popup&&(stWidgetVersion==\"5xa\")){var i=\"http://sharethis.com/share?url=\"+d.url;if(d.title!=null){i+=\"&title=\"+d.title}if(d.image!=null){i+=\"&img=\"+d.image}if(d.summary!=null){i+=\"&summary=\"+d.summary}if(a.type!=null){i+=\"&type=\"+a.type}if(d.via!=null){i+=\"&via=\"+d.via}var g=\"\";if(stlib.data){var f=stlib.json.encode(stlib.data.pageInfo);var e=stlib.json.encode(stlib.data.shareInfo);if(stlib.browser.isFirefox()&&!stlib.browser.firefox8Version()){f=encodeURIComponent(encodeURIComponent(f));e=encodeURIComponent(encodeURIComponent(e))}else{f=encodeURIComponent(f);e=encodeURIComponent(e)}g=\"&pageInfo=\"+f+\"&shareInfo=\"+e}window.open(i+g,\"newstframe\",\"status=1,toolbar=0,width=820,height=950\")}else{stButtons.messageQueueInstance.send(stWidget.createFrag(d),\"light\");stWidget.positionWidget(d);if(stWidget.options.embeds==false){stWidget.hideEmbeds()}setTimeout(function(){stWidget.widgetOpen=true;st_showing=true},200)}}}else{if(stWidget.widgetOpen==true&&stWidget.options.onhover==false){}}return false};d.init();stlib.buttonInfo.addButton(d);return d}};stWidget.createFrag=function(a,j){var i=\"light\";i=stWidget.options.popup?\"popup\":i;__stgetPubGA();if(j==\"data\"){i=\"data\";for(var b in a){if(a.hasOwnProperty(b)==true&&a[b]!==null&&typeof(a[b])!=\"function\"){if(typeof(a[b])==\"object\"){var e=stlib.json.encode(a[b])}else{var e=a[b]}if(stlib.browser.isFirefox()&&!stlib.browser.firefox8Version()){i=i+\"/\"+b+\"=\"+encodeURIComponent(encodeURIComponent(e))}else{i=i+\"/\"+b+\"=\"+encodeURIComponent(e)}}}}else{if(j==\"init\"){i=\"init\";if(stWidget.options.tracking&&stWidget.options.publisherGA==null){if(typeof(pageTracker)!=\"undefined\"&&pageTracker!==null){if(typeof(pageTracker._getAccount)!=\"undefined\"){stWidget.options.publisherGA=pageTracker._getAccount()}if(typeof(ga)!==\"undefined\"&&stWidget.options.publisherGA==null){ga(function(){var p=ga.getAll();for(var l=0;l<p.length;++l){var m=p[l];var k=m.get(\"trackingId\");var o=k.indexOf(\"UA\");if(o>=0){stWidget.options.publisherGA=k}}})}}else{if(stWidget.options.publisherGA==null&&typeof(__stPubGA)!==\"undefined\"){stWidget.options.publisherGA=__stPubGA}}}for(var b in stWidget.options){if(stWidget.options.hasOwnProperty(b)==true&&stWidget.options[b]!==null&&typeof(stWidget.options[b])!=\"function\"&&typeof(stWidget.options[b])!=\"object\"){var h=stWidget.options[b];try{h=decodeURIComponent(h);h=decodeURIComponent(h)}catch(d){}i=i+\"/\"+b+\"=\"+encodeURIComponent(h)}}i=i+\"/pUrl=\"+encodeURIComponent(encodeURIComponent(document.location.href))+((document.title!=\"\")?\"/title=\"+encodeURIComponent(encodeURIComponent(document.title)):\"\")+\"/stLight=true\"}else{for(var b in a){if(a.hasOwnProperty(b)==true&&a[b]!==null&&typeof(a[b])!=\"function\"&&typeof(a[b])!=\"object\"&&b!==\"idx\"){i=i+\"/\"+b+\"-=-\"+encodeURIComponent(encodeURIComponent(a[b]))}}if(a.service==\"email\"){i=i+\"/page-=-send\"}if(stWidgetVersion==\"5xa\"){if(a.service==\"facebook\"){i=i+\"/page-=-fbhome\"}else{if(a.service==\"twitter\"){i=i+\"/page-=-twhome\"}else{if(a.service==\"yahoo\"){i=i+\"/page-=-ybhome\"}else{if(a.service==\"linkedin\"){i=i+\"/page-=-lihome\"}else{if(a.service==\"wordpress\"){i=i+\"/page-=-wphome\"}}}}}}if(stlib.data){var g=stlib.json.encode(stlib.data.pageInfo);var f=stlib.json.encode(stlib.data.shareInfo);if(stlib.browser.isFirefox()&&!stlib.browser.firefox8Version()){g=encodeURIComponent(encodeURIComponent(g));f=encodeURIComponent(encodeURIComponent(f))}else{g=encodeURIComponent(g);f=encodeURIComponent(f)}i+=\"/pageInfo-=-\"+g;i+=\"/shareInfo-=-\"+f}}}return i};stWidget.positionWidget=function(a){if(!a){return false}stWidget.overlay.style.display=\"block\";stWidget.wrapper.style.display=\"block\"},stWidget.hideWidget=function(){stWidget.wrapper.style.display=\"none\";stWidget.overlay.style.display=\"none\"};stWidget.pageSize=function(){var f=[0,0,0,0];var b=0;var a=0;var e=0;var d=0;if(typeof(window.pageYOffset)==\"number\"){b=window.pageXOffset;a=window.pageYOffset}else{if(document.body&&(document.body.scrollLeft||document.body.scrollTop)){b=document.body.scrollLeft;a=document.body.scrollTop}else{if(document.documentElement&&(document.documentElement.scrollLeft||document.documentElement.scrollTop)){b=document.documentElement.scrollLeft;a=document.documentElement.scrollTop}}}if(window.innerWidth){e=window.innerWidth;d=window.innerHeight}else{if(document.documentElement.offsetWidth){e=document.documentElement.offsetWidth;d=document.documentElement.offsetHeight}}f={scrX:b,scrY:a,width:e,height:d};return f};stWidget.closetimeout=null;stWidget.stClose=function(a){if(!a){a=1000}if((stWidgetVersion==\"4x\")&&stWidget.options.autoclose!=null&&(stWidget.options.autoclose==true||stWidget.options.autoclose==\"true\")){if(stWidget.openDuration<0.5&&stWidget.stopClosing==false){stWidget.closetimeout=setTimeout(\"stWidget.closeWidget()\",a)}else{stWidget.stopClosing=true}}};stWidget.stCancelClose=function(){clearTimeout(stWidget.closetimeout);stWidget.buttonClicked=true;setTimeout(function(){stWidget.buttonClicked=false},100)};stWidget.closeWidget=function(){if(st_showing==false){return false}st_showing=false;stWidget.widgetOpen=false;stWidget.wrapper.style.display=\"none\";stWidget.showEmbeds();stWidget.sendEvent(\"screen\",\"home\");stWidget.overlay.style.display=\"none\"};stWidget.hideEmbeds=function(){var b=document.getElementsByTagName(\"embed\");for(var a=0;a<b.length;a++){b[a].style.visibility=\"hidden\"}};stWidget.showEmbeds=function(){if(stWidget.options.embeds==true){return true}var b=document.getElementsByTagName(\"embed\");for(var a=0;a<b.length;a++){b[a].style.visibility=\"visible\"}};stWidget.sendEvent=function(a,d){var b=\"widget/\"+a+\"=\"+d;stButtons.messageQueueInstance.send(b,\"widget\")};stWidget.getMetaTags=function(){stWidget.getOGTags();stWidget.getTwitterTags()};stWidget.getOGTags=function(){var d=document.getElementsByTagName(\"meta\");for(var a=0;a<d.length;a++){var b=d[a].getAttribute(\"property\");if(b==null){b=d[a].getAttribute(\"name\")}if(b==\"og:title\"){stWidget.ogtitle=d[a].getAttribute(\"content\")}else{if(b==\"og:type\"){stWidget.ogtype=d[a].getAttribute(\"content\")}else{if(b==\"og:url\"){stWidget.ogurl=d[a].getAttribute(\"content\")}else{if(b==\"og:image\"){stWidget.ogimg=d[a].getAttribute(\"content\").replace(/^\\s+|\\s+$/g,\"\")}else{if(b==\"og:description\"){stWidget.ogdesc=d[a].getAttribute(\"content\")}else{if(b==\"description\"||b==\"Description\"){stWidget.desc=d[a].getAttribute(\"content\")}}}}}}}};stWidget.getTwitterTags=function(){var d=document.getElementsByTagName(\"meta\");for(var a=0;a<d.length;a++){var b=d[a].getAttribute(\"name\");if(b==null){b=d[a].getAttribute(\"property\")}if(b==\"twitter:card\"){stWidget.twittercard=d[a].getAttribute(\"content\")}else{if(b==\"twitter:url\"){stWidget.twitterurl=d[a].getAttribute(\"content\")}else{if(b==\"twitter:title\"){stWidget.twittertitle=d[a].getAttribute(\"content\")}else{if(b==\"twitter:description\"){stWidget.twitterdesc=d[a].getAttribute(\"content\")}else{if(b==\"twitter:image\"){stWidget.twitterimg=d[a].getAttribute(\"content\")}else{if(b==\"description\"||b==\"Description\"){stWidget.desc=d[a].getAttribute(\"content\")}}}}}}}};function shareLog(a,b){if(typeof(ga)!==\"undefined\"){ga(\"send\",\"event\",\"ShareThis\",a,b)}else{if(typeof(pageTracker)!=\"undefined\"&&pageTracker!==null&&typeof(pageTracker._trackEvent)!=\"undefined\"){pageTracker._trackEvent(\"ShareThis\",a,b)}else{if(typeof(_gaq)!=\"undefined\"&&_gaq!==null){_gaq.push([\"_trackEvent\",\"ShareThis\",a,b])}else{if(stButtons.publisherTracker!==null){stButtons.publisherTracker._trackEvent(\"ShareThis\",a,b)}else{if(typeof(_gat)!=\"undefined\"&&_gat!==null){if(typeof(stWidget.options.publisherGA)!=\"undefined\"&&stWidget.options.publisherGA!=null){stButtons.publisherTracker=_gat._getTracker(stWidget.options.publisherGA);stButtons.publisherTracker._trackEvent(\"ShareThis\",a,b)}}}}}}}stButtons.completeInit=function(){if(!stButtons.goToInit){stButtons.goToInit=true;var a=self.setInterval(function(){if(stWidget.widgetLoadingComplete){stWidget.getMetaTags();document.body.appendChild(stWidget.wrapper);document.body.appendChild(stWidget.overlay);stButtons.makeButtons();stWidget.init();window.clearInterval(a)}},1000)}};plusoneCallback=function(a){if(a.state==\"on\"){stlib.data.resetShareData();stlib.data.set(\"url\",a.href,\"shareInfo\");stlib.data.set(\"short_url\",stWidget.short_url,\"shareInfo\");stlib.data.set(\"destination\",\"plusone\",\"shareInfo\");stlib.data.setSource(\"chicklet\");stlib.data.set(\"buttonType\",\"chicklet\",\"shareInfo\");stlib.sharer.share()}};stButtons.trackFB=function(){try{if(!stButtons.fbTracked&&typeof(FB)!=\"undefined\"&&typeof(FB.Event)!=\"undefined\"&&typeof(FB.Event.subscribe)!=\"undefined\"){stButtons.fbTracked=true;FB.Event.subscribe(\"edge.create\",function(b){stButtons.trackShare(\"fblike_auto\",b);stLight.callSubscribers(\"click\",\"fblike\",b)});FB.Event.subscribe(\"edge.remove\",function(b){stButtons.trackShare(\"fbunlike_auto\",b);stLight.callSubscribers(\"click\",\"fbunlike\",b)});FB.Event.subscribe(\"message.send\",function(b){stButtons.trackShare(\"fbsend_auto\",b);stLight.callSubscribers(\"click\",\"fbsend\",b)})}}catch(a){}};stButtons.trackTwitter=function(){if(!stButtons.twitterTracked&&typeof(twttr)!=\"undefined\"&&typeof(twttr.events)!=\"undefined\"&&typeof(twttr.events.bind)!=\"undefined\"){stButtons.twitterTracked=true;twttr.events.bind(\"click\",function(a){stButtons.trackTwitterEvent(\"click\");stLight.callSubscribers(\"click\",\"twitter\")});twttr.events.bind(\"tweet\",function(){stButtons.trackTwitterEvent(\"tweet\")});twttr.events.bind(\"retweet\",function(){stButtons.trackTwitterEvent(\"retweet\");stLight.callSubscribers(\"click\",\"retweet\")});twttr.events.bind(\"favorite\",function(){stButtons.trackTwitterEvent(\"favorite\");stLight.callSubscribers(\"click\",\"favorite\")});twttr.events.bind(\"follow\",function(){stButtons.trackTwitterEvent(\"follow\");stLight.callSubscribers(\"click\",\"follow\")})}};stButtons.trackTwitterEvent=function(a){stButtons.trackShare(\"twitter_\"+a+\"_auto\")};stButtons.trackShare=function(a,d){if(typeof(d)!==\"undefined\"&&d!==null){var b=d}else{var b=document.location.href}stlib.data.resetShareData();stlib.data.set(\"url\",b,\"shareInfo\");stlib.data.set(\"short_url\",stWidget.short_url,\"shareInfo\");stlib.data.set(\"destination\",a,\"shareInfo\");stlib.data.set(\"buttonType\",\"chicklet\",\"shareInfo\");stlib.data.setSource(\"chicklet\");stlib.sharer.share()};stLight.processSTQ=function(){if(typeof(_stq)!=\"undefined\"){for(var a=0;a<_stq.length;a++){var b=_stq[a];stLight.options(b)}}else{return false}};stLight.onDomContentLoaded=function(){stLight.onReady();stButtons.trackTwitter()};stLight.onDomContentLoadedLazy=function(){stLight.loadServicesLoggedIn(function(){stLight.getAllAppDefault(function(){stlib.data.init();stButtons.locateElements();stButtons.makeButtons()})})};stLight.messageReceiver=function(b){if(b&&(b.origin==\"http://edge.sharethis.com\"||b.origin==\"https://ws.sharethis.com\")){var d=b.data;d=d.split(\"|\");if(d[0]==\"ShareThis\"&&d.length>2){var a=(typeof(d[3])==\"undefined\")?document.location.href:d[3];stLight.callSubscribers(d[1],d[2],a)}}};stLight.subscribe=function(b,a){if(b==\"click\"){stLight.clickSubscribers.push(a)}else{stLight.nonClickSubscribers.push(a)}};stLight.callSubscribers=function(e,a,b){if(e==\"click\"){for(var d=0;d<stLight.clickSubscribers.length;d++){stLight.clickSubscribers[d](\"click\",a,b)}}if(a==\"Email\"&&e==\"close\"){stWidget.closeWidget()}if(a==\"Print\"&&e==\"close\"){stWidget.closeWidget()}};stLight.gaTS=function(d,a,b){var e=\"\";var f=\"\";if(a==\"fblike\"){e=\"ShareThis_facebook\";f=\"Like\"}else{if(a==\"fbunlike\"){e=\"ShareThis_facebook\";f=\"UnLike\"}else{if(a==\"fbsend\"){e=\"ShareThis_facebook\";f=\"Send\"}else{if(a==\"twitter\"){e=\"ShareThis_twitter\";f=\"Share\"}else{if(a==\"retweet\"){e=\"ShareThis_twitter\";f=\"ReTweet\"}else{if(a==\"favorite\"){e=\"ShareThis_twitter\";f=\"Favorite\"}else{if(a==\"follow\"){e=\"ShareThis_twitter\";f=\"Follow\"}else{e=\"ShareThis_\"+a;f=\"Share\"}}}}}}}if(typeof(ga)!==\"undefined\"){ga(\"send\",\"social\",e,f,b)}else{if(typeof(_gaq)!=\"undefined\"){_gaq.push([\"_trackSocial\",e,f,b])}}};stButtons.onReady=function(){var h=document.getElementsByTagName(\"*\");var b=[];var d=new RegExp(/sharethis_smartbuttons/);var a=false;for(var j=0;j<h.length;j++){if(typeof(h[j].className)==\"string\"&&h[j].className!=\"\"){if(h[j].className.match(d)){a=true;break}}}if(a){var g=document.getElementsByTagName(\"head\")[0];var e=[\"return=json\",\"cb=stButtons.smartifyButtons\"];e=e.join(\"&\");var f=((\"https:\"==document.location.protocol)?\"https://ws.\":\"http://wd.\")+\"sharethis.com/api/getRecentServices.php?\"+e;var i=document.createElement(\"script\");i.setAttribute(\"type\",\"text/javascript\");i.setAttribute(\"src\",f);g.appendChild(i);setTimeout(\"stButtons.completeInit()\",2000)}else{stButtons.completeInit()}stLight.subscribe(\"click\",stLight.gaTS);if(stlib.browser.ieFallback&&stlib.browser.getIEVersion()<9){return}else{stLight.getAllAppDefault(function(){if(stWidget.options.snapsets&&typeof(stLight.snapSetsRun)==\"undefined\"){stLight.snapSetsRun=true;if(typeof(stlib.p6x)==\"undefined\"){stLight.odjs(\"http://w.sharethis.com/button/clipboard.js\",function(){stlib.p6x.init()})}}})}};stLight.domReady=function(){stLight.onReady();stButtons.trackTwitter();__stgetPubGA();if(typeof(__stPubGA)!==\"undefined\"&&stLight.readyRun==true&&stWidget.frameReady==true){stWidget.sendEvent(\"publisherGA\",__stPubGA)}};stButtons.goToInit=false;stButtons.widget=false;stButtons.widgetArray=[];stButtons.cbAppQueue=[];stButtons.queue=[];stButtons.cbQueue=[];stButtons.cbNativeQueue=[];stButtons.cbVal=0;stButtons.queuePos=0;stButtons.counts=[];st_showing=false;stButtons.urlElements=[];stButtons.publisherTracker=null;stButtons.plusOneLoaded=false;stButtons.plusOneLoading=false;stButtons.xfbmlLoaded=false;stButtons.xfbmlLoading=false;stButtons.fbTracked=false;stButtons.twitterTracked=false;stButtons.pumpInstance=null;stButtons.messageQueueInstance=null;stButtons.countsResp=[];stButtons.countsNativeResp=[];stWidget.getMetaTags();stLight.clickSubscribers=[];stLight.nonClickSubscribers=[];var __stPubGA;if(window.document.readyState==\"completed\"){stLight.domReady()}else{if(typeof(window.addEventListener)!=\"undefined\"){window.addEventListener(\"load\",stLight.domReady,false)}else{if(typeof(document.addEventListener)!=\"undefined\"){document.addEventListener(\"load\",stLight.domReady,false)}else{if(typeof window.attachEvent!=\"undefined\"){window.attachEvent(\"onload\",stLight.domReady)}}}}if(typeof(window.addEventListener)!=\"undefined\"){window.addEventListener(\"click\",function(){stWidget.closeWidget()},false)}else{if(typeof(document.addEventListener)!=\"undefined\"){document.addEventListener(\"click\",function(){stWidget.closeWidget()},false)}else{if(typeof window.attachEvent!=\"undefined\"){window.attachEvent(\"onclick\",function(){stWidget.closeWidget()})}}}if(typeof(__st_loadLate)==\"undefined\"){if(typeof(window.addEventListener)!=\"undefined\"){window.addEventListener(\"DOMContentLoaded\",stLight.onDomContentLoaded,false)}else{if(typeof(document.addEventListener)!=\"undefined\"){document.addEventListener(\"DOMContentLoaded\",stLight.onDomContentLoaded,false)}}}else{if(typeof(window.addEventListener)!=\"undefined\"){window.addEventListener(\"DOMContentLoaded\",stLight.onDomContentLoadedLazy,false)}else{if(typeof(document.addEventListener)!=\"undefined\"){document.addEventListener(\"DOMContentLoaded\",stLight.onDomContentLoadedLazy,false)}}}if(typeof(window.addEventListener)!=\"undefined\"){window.addEventListener(\"message\",stLight.messageReceiver,false)}else{if(typeof(document.addEventListener)!=\"undefined\"){document.addEventListener(\"message\",stLight.messageReceiver,false)}else{if(typeof window.attachEvent!=\"undefined\"){window.attachEvent(\"onmessage\",stLight.messageReceiver)}}}if(document.readyState==\"complete\"&&stLight.readyRun==false){stLight.domReady()};","/************************************************************************\n*************************************************************************\n@Name :       \tjRating - jQuery Plugin\n@Revison :    \t3.1\n@Date : \t\t13/08/2013\n@Author:     \t ALPIXEL - (www.myjqueryplugins.com - www.alpixel.fr)\n@License :\t\t Open Source - MIT License : http://www.opensource.org/licenses/mit-license.php\n\n**************************************************************************\n*************************************************************************/\n(function($) {\n\t$.fn.jRating = function(op) {\n\t\tvar defaults = {\n\t\t\t/** String vars **/\n\t\t\tbigStarsPath : base_url+'/js/icons/stars-1.png', // path of the icon stars.png\n\t\t\tsmallStarsPath : base_url+'/js/icons/small-new.png', // path of the icon small.png\n\t\t\tphpPath : 'php/jRating.php', // path of the php file jRating.php\n\t\t\ttype : 'big', // can be set to 'small' or 'big'\n\n\t\t\t/** Boolean vars **/\n\t\t\tstep:false, // if true,  mouseover binded star by star,\n\t\t\tisDisabled:false, // if true, user could not rate\n\t\t\tshowRateInfo: true, // show rates informations when cursor moves onto the plugin\n\t\t\tcanRateAgain : false, // if true, the user could rates {nbRates} times with jRating.. Default, 1 time\n\t\t\tsendRequest: true, // send values to server\n\n\t\t\t/** Integer vars **/\n\t\t\tlength:5, // number of star to display\n\t\t\tdecimalLength : 0, // number of decimals.\n\t\t\trateMax : 5, // maximal rate - integer from 0 to 9999 (or more)\n\t\t\trateInfosX : -45, // relative position in X axis of the info box when mouseover\n\t\t\trateInfosY : 5, // relative position in Y axis of the info box when mouseover\n\t\t\tnbRates : 1,\n\n\t\t\t/** Functions **/\n\t\t\tonSuccess : null, // Fires when the server response is ok\n\t\t\tonError : null, // Fires when the server response is not ok\n\t\t\tonClick: null // Fires when clicking on a star\n\t\t};\n\n\t\tif(this.length>0)\n\t\treturn this.each(function() {\n\t\t\t/*vars*/\n\t\t\tvar opts = $.extend(defaults, op),\n\t\t\tnewWidth = 0,\n\t\t\tstarWidth = 0,\n\t\t\tstarHeight = 0,\n\t\t\tbgPath = '',\n\t\t\thasRated = false,\n\t\t\tglobalWidth = 0,\n\t\t\tnbOfRates = opts.nbRates;\n\n\t\t\tif($(this).hasClass('jDisabled') || opts.isDisabled)\n\t\t\t\tvar jDisabled = true;\n\t\t\telse\n\t\t\t\tvar jDisabled = false;\n\n\t\t\tgetStarWidth();\n\t\t\t$(this).height(starHeight);\n\n\t\t\tvar average = parseFloat($(this).attr('data-average')), // get the average of all rates\n\t\t\tidBox = parseInt($(this).attr('data-id')), // get the id of the box\n\t\t\twidthRatingContainer = starWidth*opts.length, // Width of the Container\n\t\t\twidthColor = average/opts.rateMax*widthRatingContainer, // Width of the color Container\n\n\t\t\tquotient =\n\t\t\t$('<div>',\n\t\t\t{\n\t\t\t\t'class' : 'jRatingColor',\n\t\t\t\tcss:{\n\t\t\t\t\twidth:widthColor\n\t\t\t\t}\n\t\t\t}).appendTo($(this)),\n\n\t\t\taverage =\n\t\t\t$('<div>',\n\t\t\t{\n\t\t\t\t'class' : 'jRatingAverage',\n\t\t\t\tcss:{\n\t\t\t\t\twidth:0,\n\t\t\t\t\ttop:- starHeight\n\t\t\t\t}\n\t\t\t}).appendTo($(this)),\n\n\t\t\t jstar =\n\t\t\t$('<div>',\n\t\t\t{\n\t\t\t\t'class' : 'jStar',\n\t\t\t\tcss:{\n\t\t\t\t\twidth:widthRatingContainer,\n\t\t\t\t\theight:starHeight,\n\t\t\t\t\ttop:- (starHeight*2),\n\t\t\t\t\tbackground: 'url('+bgPath+') repeat-x'\n\t\t\t\t}\n\t\t\t}).appendTo($(this));\n\n\n\t\t\t$(this).css({width: widthRatingContainer,overflow:'hidden',zIndex:1,position:'relative'});\n\n\t\t\tif(!jDisabled)\n\t\t\t$(this).unbind().bind({\n\t\t\t\tmouseenter : function(e){\n\t\t\t\t\tvar realOffsetLeft = findRealLeft(this);\n\t\t\t\t\tvar relativeX = e.pageX - realOffsetLeft;\n\t\t\t\t\tif (opts.showRateInfo)\n\t\t\t\t\tvar tooltip =\n\t\t\t\t\t$('<p>',{\n\t\t\t\t\t\t'class' : 'jRatingInfos',\n\t\t\t\t\t\thtml : getNote(relativeX)+' <span class=\"maxRate\">/ '+opts.rateMax+'</span>',\n\t\t\t\t\t\tcss : {\n\t\t\t\t\t\t\ttop: (e.pageY + opts.rateInfosY),\n\t\t\t\t\t\t\tleft: (e.pageX + opts.rateInfosX)\n\t\t\t\t\t\t}\n\t\t\t\t\t}).appendTo('body').hide();\n\t\t\t\t},\n\t\t\t\tmouseover : function(e){\n\t\t\t\t\t$(this).css('cursor','pointer');\n\t\t\t\t},\n\t\t\t\tmouseout : function(){\n\t\t\t\t\t$(this).css('cursor','default');\n\t\t\t\t\tif(hasRated) average.width(globalWidth);\n\t\t\t\t\telse average.width(0);\n\t\t\t\t},\n\t\t\t\tmousemove : function(e){\n\t\t\t\t\tvar realOffsetLeft = findRealLeft(this);\n\t\t\t\t\tvar relativeX = e.pageX - realOffsetLeft;\n\t\t\t\t\tif(opts.step) newWidth = Math.floor(relativeX/starWidth)*starWidth + starWidth;\n\t\t\t\t\telse newWidth = relativeX;\n\t\t\t\t\taverage.width(newWidth);\n\t\t\t\t\tif (opts.showRateInfo)\n\t\t\t\t\t$(\"p.jRatingInfos\")\n\t\t\t\t\t.css({\n\t\t\t\t\t\tleft: (e.pageX + opts.rateInfosX)\n\t\t\t\t\t})\n\t\t\t\t\t.html(getNote(newWidth) +' <span class=\"maxRate\">/ '+opts.rateMax+'</span>');\n\t\t\t\t},\n\t\t\t\tmouseleave : function(){\n\t\t\t\t\t$(\"p.jRatingInfos\").remove();\n\t\t\t\t},\n\t\t\t\tclick : function(e){\n                    var element = this;\n\n\t\t\t\t\t/*set vars*/\n\t\t\t\t\thasRated = true;\n\t\t\t\t\tglobalWidth = newWidth;\n\t\t\t\t\tnbOfRates--;\n\n\t\t\t\t\tif(!opts.canRateAgain || parseInt(nbOfRates) <= 0) $(this).unbind().css('cursor','default').addClass('jDisabled');\n\n\t\t\t\t\tif (opts.showRateInfo) $(\"p.jRatingInfos\").fadeOut('fast',function(){$(this).remove();});\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\tvar rate = getNote(newWidth);\n\t\t\t\t\taverage.width(newWidth);\n\n\n\t\t\t\t\t/** ONLY FOR THE DEMO, YOU CAN REMOVE THIS CODE **/\n\t\t\t\t\t\t$('.datasSent p').html('<strong>idBox : </strong>'+idBox+'<br /><strong>rate : </strong>'+rate+'<br /><strong>action :</strong> rating');\n\t\t\t\t\t\t$('.serverResponse p').html('<strong>Loading...</strong>');\n\t\t\t\t\t/** END ONLY FOR THE DEMO **/\n\n\t\t\t\t\tif(opts.onClick) opts.onClick( element, rate );\n\n\t\t\t\t\tif(opts.sendRequest) {\n\t\t\t\t\t\t$.post(opts.phpPath,{\n\t\t\t\t\t\t\t\tidBox : idBox,\n\t\t\t\t\t\t\t\trate : rate,\n\t\t\t\t\t\t\t\taction : 'rating'\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tfunction(data) {\n\t\t\t\t\t\t\t\tif(!data.error)\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t/** ONLY FOR THE DEMO, YOU CAN REMOVE THIS CODE **/\n\t\t\t\t\t\t\t\t\t\t$('.serverResponse p').html(data.server);\n\t\t\t\t\t\t\t\t\t/** END ONLY FOR THE DEMO **/\n\n\n\t\t\t\t\t\t\t\t\t/** Here you can display an alert box,\n\t\t\t\t\t\t\t\t\t\tor use the jNotify Plugin :) http://www.myqjqueryplugins.com/jNotify\n\t\t\t\t\t\t\t\t\t\texemple :\t*/\n\t\t\t\t\t\t\t\t\tif(opts.onSuccess) opts.onSuccess( element, rate );\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t\t{\n\n\t\t\t\t\t\t\t\t\t/** ONLY FOR THE DEMO, YOU CAN REMOVE THIS CODE **/\n\t\t\t\t\t\t\t\t\t\t$('.serverResponse p').html(data.server);\n\t\t\t\t\t\t\t\t\t/** END ONLY FOR THE DEMO **/\n\n\t\t\t\t\t\t\t\t\t/** Here you can display an alert box,\n\t\t\t\t\t\t\t\t\t\tor use the jNotify Plugin :) http://www.myqjqueryplugins.com/jNotify\n\t\t\t\t\t\t\t\t\t\texemple :\t*/\n\t\t\t\t\t\t\t\t\tif(opts.onError) opts.onError( element, rate );\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t'json'\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tfunction getNote(relativeX) {\n\t\t\t\tvar noteBrut = parseFloat((relativeX*100/widthRatingContainer)*parseInt(opts.rateMax)/100);\n\t\t\t\tvar dec=Math.pow(10,parseInt(opts.decimalLength));\n\t\t\t\tvar note = Math.round(noteBrut*dec)/dec;\n\t\t\t\treturn note;\n\t\t\t};\n\n\t\t\tfunction getStarWidth(){\n\t\t\t\tswitch(opts.type) {\n\t\t\t\t\tcase 'small' :\n\t\t\t\t\t\tstarWidth = 21; // width of the picture small.png\n\t\t\t\t\t\tstarHeight = 17; // height of the picture small.png\n\t\t\t\t\t\tbgPath = opts.smallStarsPath;\n\t\t\t\t\tbreak;\n\t\t\t\t\tdefault :\n\t\t\t\t\t\tstarWidth = 25; // width of the picture stars.png\n\t\t\t\t\t\tstarHeight = 20; // height of the picture stars.png\n\t\t\t\t\t\tbgPath = opts.bigStarsPath;\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tfunction findRealLeft(obj) {\n\t\t\t  if( !obj ) return 0;\n\t\t\t  return obj.offsetLeft + findRealLeft( obj.offsetParent );\n\t\t\t};\n\t\t});\n\n\t}\n})(jQuery);\n","// <!-- script for host comment on trveler profile -->\n    var base_url = $('#base_url').val();\n    $(document).ready(function(){\n        \n        $('#host-feedback-button1').on( 'click', function(e) {\n     \n            $('.commenterror').html('');\n            \n            if($( '#comments' ).val() == null || $( '#comments' ).val() == \"\"){\n                // alert('Please write a Comment before Posting');\n                $('.commenterror').html('Please write a Comment  before Posting.');\n\n                return false;\n            }\n            $(this).addClass('disabled');\n            $(this).text('Saving...');\n            var ul = $('ul#host-comment-append');\n           \n           $.ajax({\n                url: base_url + \"/user/addfeedback\",\n                type: \"POST\",\n                data: {\n                    \"_token\": $('#token').val(),\n                    \"comments\": $( '#comments' ).val(),\n                    \"traveller_id\": $( '#traveller_id' ).val(),\n                    \"host_id\": $( '#host_id' ).val()\n                },\n                success: function (data, textStatus, jqXHR) {\n                        ul.prepend(data);\n                        $( \".provide-host-comment\" ).hide();\n                        $( \".comment-edit\" ).hide();\n                        //alert('inserted');\n                },\n                error: function (jqXHR, textStatus, errorThrown) {\n                    // error check                \n                }\n            });\n\n        });\n     \n    });\n\n\n\n// <!-- script for owner reply -->\n\t\n    $(document).ready(function(){\n     \t\n        $('body').on('click','.owner-reply-submit', function(e) {\n            var ob = $(this);\n            ob.parents('.hosts-feedback').find('.commenterror').html('');\n            // alert($(this).parents(\".hosts-feedback\").find(\".reply\").val());\n            if($(this).parents('.hosts-feedback').find( '.reply' ).val() == null || $(this).parents('.hosts-feedback').find( '.reply' ).val() == \"\"){\n            \t// alert('Please write a reply before Posting');\n                 ob.parents('.hosts-feedback').find('.commenterror').html('Please write a comment before posting.');\n\n            \treturn false;\n            }\n            $(this).addClass('disabled');\n            $(this).text('Saving...');\n            var parent_li = $(this).parents('li.property_comment_row');\n           $.ajax({\n                url: base_url + \"/review/addreply\",\n                type: \"POST\",\n                data: {\n\t\t\t\t\t\"_token\": $('#token').val(),\n                    \"reply\": parent_li.find( '.reply' ).val(),\n                    \"rewiewid\": parent_li.find( '#rewiewid' ).val(),\n                    \"pid\": $( '#pid' ).val()                \t\n                },\n                success: function (data, textStatus, jqXHR) {\n                \t\tparent_li.replaceWith(data);\n                        // $('#host-response-box').show();\n                        // $('#host_response_box').hide();\n                \t\t$( \".reply-edit\" ).hide();\n                       // $('.host_response_read').trigger('click');\n                },\n                error: function (jqXHR, textStatus, errorThrown) {\n                    // error check\n                }\n            });\n\n        });\n     \n    });\n\n$(document).ready(function(){\n        \n        $('body').on('click','.owner-reply-cancel', function(e) {\n            $( \".reply-edit\" ).hide();\n            $('.hosts-feedback').find('#host_review_box').show();\n        });\n});\n     \n\n// <!-- script for comment update in db -->\n\t\n    $(document).ready(function(){\n     \t\n        $('body').on('click','.owner-comment-edit', function(e) {\n     \n            $('.commenterror').html('');\n            \n            if($( '#editcomment' ).val() == null || $( '#editcomment' ).val() == \"\"){\n            \t// alert('Please write a Comment before Posting');\n                $('.commenterror').html('Please write a Comment  before Posting.');\n            \treturn false;\n            }\n            $(this).addClass('disabled');\n            $(this).text('Saving...');\n            var parent_li = $(this).parents('li.property_comment_row');\n           $.ajax({\n                url: base_url + \"/properties/editcomment\",\n                type: \"POST\",\n                data: {\n\t\t\t\t\t\"_token\": $('#token').val(),\n                    \"comment\": parent_li.find( '#editcomment' ).val(),\n                    \"rewiewid\": parent_li.find( '#rewiewid' ).val(),\n                    \"pid\": $( '#pid' ).val(),\n                    'image_order': $('#image_order').val(),\n                    'delimages': $('#delimages').val()      \n                                    \t\n                },\n                success: function (data, textStatus, jqXHR) {\n                \t\tparent_li.replaceWith(data);\n                \t\t$( \".comment-edit\" ).hide();\n                        $('#admin-rating-edit').hide();\n                         allowratingreload();\n                        \n                },\n                error: function (jqXHR, textStatus, errorThrown) {\n                    // error check\n                }\n            });\n\n        });\n\n     \n    });\n\n    $(document).ready(function(){\n        $('body').on('click','.owner-comment-cancel', function(e) {\n            $(this).parents('.guests-review').find('#host_review').show();\n            $( \".comment-edit\" ).hide();\n            $('#admin-rating-edit').hide();\n            $(this).parents(\".guests-review\").find('.img_container').show();\n\n        });\n    });\n\n// <!-- script fot host comment -->\n\n\t \n    $(document).ready(function(){\n       \n\n        $('#host-comment-button').on( 'click', function(e) {\n     \n            //.....\n             $('.commenterror').html('');\n            if($( '#comment' ).val() == null || $( '#comment' ).val() == \"\")\n            {\n            \t//alert('Please write a Comment  and give rating before Posting');\n                $('.commenterror').html('Please write a Comment  before Posting.');\n                \n            \treturn false;\n            }\n            $(this).addClass('disabled');\n            $(this).text('Saving...');\n            var ul = $('ul#comment-append');\n           \n           $.ajax({\n                url: base_url + \"/properties/addcomment\",\n                type: \"POST\",\n                data: {\n\t\t\t\t\t\"_token\": $('#token').val(),\n                    \"comment\": $( '#comment' ).val(),\n                    \"guestid\": $( '#guestid' ).val(),\n                    \"pid\": $( '#pid' ).val(),\n                    \"hostid\": $( '#hostid' ).val(),\n                    \"bid\": $( '#review_for_booking' ).val(),\n                    'image_order': $('#image_order').val()   \t\n                },\n                success: function (data, textStatus, jqXHR) {\n                    if(data.success==0)\n                        {\n                          $('.commenterror').html(data.message);\n                      \n                          $('#host-comment-button').text('Comment');\n                           $('#host-comment-button').removeClass('disabled');\n                        }\n                        else\n                        {\n                        $('.duplicate_img_cont').remove();\n                \t\t$( \".provide-your-feedback\" ).remove();\n                        //connsole.log\n                        allowratingreload();\n                        ul.prepend(data);\n                        }\n                \t\t//alert();\n                },\n                error: function (jqXHR, textStatus, errorThrown) {\n                    // error check\n                }\n            });\n\n        });\n     \n    });\n\n//<!-- script for edit reply -->\n\t\n    $(document).ready(function(){\n     \t$( \".reply-edit\" ).hide();\n\n     \t$('body').on('click',\"a.creatediv\",function () {\n\n     \t\t$(this).parents('.hosts-feedback').find(\".reply-edit\" ).show();\n            //alert($(this).parents('#host_review_box').html());\n            $(this).parents('#host_review_box').hide();\n            $('.commenterror').html('');\n        }); \n     \n    });\n\n//<!-- script for edit comment -->\n\t\n    $(document).ready(function(){\n     \t$( \".comment-edit\" ).hide();\n\n     \t$('body').on('click',\"a.comment-edit-link\",function () {\n            $(this).parents('.guests-review').find('.comment-edit').show();\n            // $(\".comments-user\").find(\".img-container\").show();\n            $(this).parents('#host_review').hide();\n            $(this).parents(\".guests-review\").find('.img_container').hide();\n            // $(this).parents(\".guests-review\").find('.img_container').show();\n            $('.commenterror').html('');\n            //alert();\n            $('#admin-rating-edit').show();\n            \n\n        }); \n     \n    });\n\n\n    $(document).ready(function(){\n        $( \".comment-edit\" ).hide();\n\n        $('body').on('click',\"a.comment-edit-link-profile\",function () {\n            $(this).parents('.review-system').find('.comment-edit').show();\n\n            $(this).parents('#guests_review').hide();\n\n        }); \n     \n    });\n\n//<!-- script for star ratings -->\n\n$(document).ready(function()\n{\n\t\t$(\".ratingparameter\").jRating(\n\t\t{\n\t\t\t  type:'big', // type of the rate.. can be set to 'small' or 'big'\n\t\t\t  step:true,\n\t\t\t  length : 5, // nb of stars\n\t\t\t  canRateAgain : true,\n\t\t\t  nbRates : 100,\n\t\t\t  decimalLength : 0, // number of decimal in the rate\n\t\t\t  onClick : function(element,rate)\n\t{\n\t\t\t$.ajax({\n\t        url: base_url + \"/properties/addrating\",\n\t        type: \"POST\",\n\t        data: {\n\t\t\t\t\"_token\": $('#token').val(),\n\n\t            \"from_type\": $(element).find('.from_type').val(),\n\t            \"from_id\": $(element).find('.from_id').val(),\n\t            \"to_type\": $(element).find('.to_type').val(),\n\t            \"to_id\": $(element).find('.to_id').val(),\n\t            \"rating_param\": $(element).find('.rating_param').val(),\n                \"bid\": $( '#review_for_booking' ).val(),\n\t            \"rate\": rate   \t\n\t        },\n\t        success: function (data, textStatus, jqXHR) {\n\t               //alert();\n\t        },\n\t        error: function (jqXHR, textStatus, errorThrown) {\n\t            // error check\n\t        }\n\t    });\n\n    }\n});\n\n// $(\".ratingparametertrip\").jRating({\n//     type:'big', // type of the rate.. can be set to 'small' or 'big'\n//     step:true,\n//     length : 5, // nb of stars\n//     canRateAgain : true,\n//     nbRates : 100,\n//     decimalLength : 0, // number of decimal in the rate\n//     onClick : function(element,rate)\n//     {\n//         $.ajax({\n//         url: base_url + \"/review/addrating\",\n//         type: \"POST\",\n//         data: {\n//             \"_token\": $('#token').val(),\n\n//             \"from_type\": $(element).find('.from_type').val(),\n//             \"from_id\": $(element).find('.from_id').val(),\n//             \"to_type\": $(element).find('.to_type').val(),\n//             \"to_id\": $(element).find('.to_id').val(),\n//             \"rating_param\": $(element).find('.rating_param').val(),\n//             \"bid\": $( '#booking_id' ).val(),\n//             \"rate\": rate    \n//         },\n//         success: function (data, textStatus, jqXHR) {\n//                //alert();\n//         },\n//         error: function (jqXHR, textStatus, errorThrown) {\n//             // error check\n//         }\n//     });\n\n//     }\n// });\n\n});\n\n\n\n// <!-- script for user beedback update in db -->\n    \n    $(document).ready(function(){\n        \n        $('body').on('click','.host-feedback-edit', function(e) {\n     \n            $('.commenterror').html('');\n            if($( '#editfeedback' ).val() == null || $( '#editfeedback' ).val() == \"\"){\n                // alert('Please write a Comment before Posting');\n                $('.commenterror').html('Please write a Comment  before Posting.');\n\n                return false;\n            }\n            $(this).addClass('disabled');\n            $(this).text('Saving...');\n            var parent_li = $(this).parents('li.host_comment_row');\n           $.ajax({\n                url: base_url + \"/user/editfeedback\",\n                type: \"POST\",\n                data: {\n                    \"_token\": $('#token').val(),\n                    \"editfeedback\": parent_li.find( '#editfeedback' ).val(),\n                    \"rewiewid\": parent_li.find( '#rewiewid' ).val()                \n                },\n                success: function (data, textStatus, jqXHR) {\n                        parent_li.replaceWith(data);\n                        $( \".comment-edit\" ).hide();\n                         \n                },\n                error: function (jqXHR, textStatus, errorThrown) {\n                    // error check\n                }\n            });\n\n        });\n     \n    });\n\n\n$(document).ready(function(){\n\n    $('body').on('click','.host-feedback-cancel', function(e) {\n        $( \".comment-edit\" ).hide();\n        $(this).parents('.review-system').find('#guests_review').show();\n    });\n     \n});\n\n\n// <!-- script for user beedback update in db ends -->\n\n$(document).ready(function()\n{\n\n        $(\".ratingparametershow\").jRating(\n        {\n            type:'small', // type of the rate.. can be set to 'small' or 'big'\n              // step:true,\n            length : 5, // nb of stars\n            isDisabled : true,\n            decimalLength : 0 // number of decimal in the rate\n    \n});\n\n        $(\".ratingparametershowsmall\").jRating(\n        {\n            type:'small', // type of the rate.. can be set to 'small' or 'big'\n              // step:true,\n            length : 5, // nb of stars\n            isDisabled : true,\n            decimalLength : 0 // number of decimal in the rate\n    \n});\n\n});\n\n"]}